2025-08-06 00:13:12 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 00:13:14 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 00:13:18 - INFO - Database connection initialized successfully
2025-08-06 00:13:19 - INFO - Checking and Installing dependencies...

2025-08-06 00:13:20 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754457200
2025-08-06 00:13:20 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 00:13:20 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 00:13:20 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 00:13:20 - INFO - User cache initialized with 3600s duration
2025-08-06 00:13:20 - INFO - User cache cleanup thread started
2025-08-06 00:13:22 - INFO -  ✅ Redis connection established
2025-08-06 00:13:22 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 00:13:22 - ERROR - ❌ Failed to register worker worker_DESKTOP-U62C3NA_1754457200: A tuple item must be str, int, float or bytes.
2025-08-06 00:13:22 - ERROR - ❌ Failed to initialize worker: Failed to register worker in Redis
2025-08-06 00:13:22 - ERROR - ❌ Worker error: Failed to register worker in Redis
2025-08-06 00:13:22 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754457200
2025-08-06 00:13:22 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754457200 shutdown complete
2025-08-06 00:16:41 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 00:16:43 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 00:16:47 - INFO - Database connection initialized successfully
2025-08-06 00:16:48 - INFO - Checking and Installing dependencies...

2025-08-06 00:16:49 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754457409
2025-08-06 00:16:49 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 00:16:49 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 00:16:49 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 00:16:49 - INFO - User cache initialized with 3600s duration
2025-08-06 00:16:49 - INFO - User cache cleanup thread started
2025-08-06 00:16:50 - INFO -  ✅ Redis connection established
2025-08-06 00:16:50 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 00:16:50 - ERROR - ❌ Failed to register worker worker_DESKTOP-U62C3NA_1754457409: A tuple item must be str, int, float or bytes.
2025-08-06 00:16:50 - ERROR - ❌ Failed to initialize worker: Failed to register worker in Redis
2025-08-06 00:16:50 - ERROR - ❌ Worker error: Failed to register worker in Redis
2025-08-06 00:16:50 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754457409
2025-08-06 00:16:50 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754457409 shutdown complete
2025-08-06 00:20:13 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 00:20:15 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 00:20:19 - INFO - Database connection initialized successfully
2025-08-06 00:20:20 - INFO - Checking and Installing dependencies...

2025-08-06 00:20:22 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754457622
2025-08-06 00:20:22 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 00:20:22 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 00:20:22 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 00:20:22 - INFO - User cache initialized with 3600s duration
2025-08-06 00:20:22 - INFO - User cache cleanup thread started
2025-08-06 00:20:23 - INFO -  ✅ Redis connection established
2025-08-06 00:20:23 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 00:20:23 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754457622 registered from DESKTOP-U62C3NA
2025-08-06 00:20:23 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754457622 initialized successfully
2025-08-06 00:20:23 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 00:20:23 - INFO -    IP: 192.168.1.11
2025-08-06 00:20:23 - INFO -    Max concurrent jobs: 5
2025-08-06 00:20:23 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754457622
2025-08-06 00:20:23 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754457622 started processing jobs
2025-08-06 00:23:49 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:23:49 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:23:49 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:23:53 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:24:02 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:24:02 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:24:03 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 00:24:54 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 00:24:56 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 00:25:00 - INFO - Database connection initialized successfully
2025-08-06 00:25:01 - INFO - Checking and Installing dependencies...

2025-08-06 00:25:02 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754457902
2025-08-06 00:25:02 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 00:25:02 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 00:25:02 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 00:25:02 - INFO - User cache initialized with 3600s duration
2025-08-06 00:25:02 - INFO - User cache cleanup thread started
2025-08-06 00:25:04 - INFO -  ✅ Redis connection established
2025-08-06 00:25:04 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 00:25:04 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754457902 registered from DESKTOP-U62C3NA
2025-08-06 00:25:04 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754457902 initialized successfully
2025-08-06 00:25:04 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 00:25:04 - INFO -    IP: 192.168.1.11
2025-08-06 00:25:04 - INFO -    Max concurrent jobs: 5
2025-08-06 00:25:04 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754457902
2025-08-06 00:25:04 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754457902 started processing jobs
2025-08-06 14:05:15 - INFO - 📥 Job 797ed0f7-89c1-4c30-b23a-4c11846c0946 assigned to worker worker_DESKTOP-U62C3NA_1754457902
2025-08-06 14:05:15 - INFO - 🎥 Processing job 797ed0f7-89c1-4c30-b23a-4c11846c0946 for testuser
2025-08-06 14:05:15 - INFO - 📝 Job 797ed0f7-89c1-4c30-b23a-4c11846c0946 status updated to in_progress
2025-08-06 14:05:16 - ERROR - ❌ Recording job 797ed0f7-89c1-4c30-b23a-4c11846c0946 failed: LIVE
2025-08-06 14:05:16 - INFO - 📝 Job 797ed0f7-89c1-4c30-b23a-4c11846c0946 status updated to failed
2025-08-06 14:05:16 - ERROR - ❌ Error processing job 797ed0f7-89c1-4c30-b23a-4c11846c0946: LIVE
2025-08-06 14:05:16 - INFO - 📝 Job 797ed0f7-89c1-4c30-b23a-4c11846c0946 status updated to failed
2025-08-06 14:10:53 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:10:53 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:10:53 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:10:54 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:10:54 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:10:54 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:11:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:11:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:11:58 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 14:11:59 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 14:12:04 - INFO - Database connection initialized successfully
2025-08-06 14:12:05 - INFO - Checking and Installing dependencies...

2025-08-06 14:12:07 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754507527
2025-08-06 14:12:07 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 14:12:07 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 14:12:07 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 14:12:07 - INFO - User cache initialized with 3600s duration
2025-08-06 14:12:07 - INFO - User cache cleanup thread started
2025-08-06 14:12:08 - INFO -  ✅ Redis connection established
2025-08-06 14:12:08 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 14:12:08 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754507527 registered from DESKTOP-U62C3NA
2025-08-06 14:12:08 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754507527 initialized successfully
2025-08-06 14:12:08 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 14:12:08 - INFO -    IP: 192.168.1.11
2025-08-06 14:12:08 - INFO -    Max concurrent jobs: 5
2025-08-06 14:12:08 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754507527
2025-08-06 14:12:08 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754507527 started processing jobs
2025-08-06 14:12:16 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:13:11 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 14:13:13 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 14:13:18 - INFO - Database connection initialized successfully
2025-08-06 14:13:19 - INFO - Checking and Installing dependencies...

2025-08-06 14:13:20 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754507600
2025-08-06 14:13:20 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 14:13:20 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 14:13:20 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 14:13:20 - INFO - User cache initialized with 3600s duration
2025-08-06 14:13:20 - INFO - User cache cleanup thread started
2025-08-06 14:13:22 - INFO -  ✅ Redis connection established
2025-08-06 14:13:22 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 14:13:22 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754507600 registered from DESKTOP-U62C3NA
2025-08-06 14:13:22 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754507600 initialized successfully
2025-08-06 14:13:22 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 14:13:22 - INFO -    IP: 192.168.1.11
2025-08-06 14:13:22 - INFO -    Max concurrent jobs: 5
2025-08-06 14:13:22 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754507600
2025-08-06 14:13:22 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754507600 started processing jobs
2025-08-06 14:13:59 - INFO - 📥 Job 8c16405a-d07c-4b27-bb28-cb63eeda101a assigned to worker worker_DESKTOP-U62C3NA_1754507600
2025-08-06 14:13:59 - INFO - 🎥 Processing job 8c16405a-d07c-4b27-bb28-cb63eeda101a for 2102rdna
2025-08-06 14:13:59 - INFO - 📝 Job 8c16405a-d07c-4b27-bb28-cb63eeda101a status updated to in_progress
2025-08-06 14:14:00 - ERROR - ❌ Recording job 8c16405a-d07c-4b27-bb28-cb63eeda101a failed: LIVE
2025-08-06 14:14:00 - INFO - 📝 Job 8c16405a-d07c-4b27-bb28-cb63eeda101a status updated to failed
2025-08-06 14:14:00 - ERROR - ❌ Error processing job 8c16405a-d07c-4b27-bb28-cb63eeda101a: LIVE
2025-08-06 14:14:00 - INFO - 📝 Job 8c16405a-d07c-4b27-bb28-cb63eeda101a status updated to failed
2025-08-06 14:17:22 - INFO - 📥 Job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83 assigned to worker worker_DESKTOP-U62C3NA_1754507600
2025-08-06 14:17:22 - INFO - 🎥 Processing job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83 for srtahana
2025-08-06 14:17:23 - INFO - 📝 Job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83 status updated to in_progress
2025-08-06 14:17:23 - ERROR - ❌ Recording job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83 failed: LIVE
2025-08-06 14:17:23 - INFO - 📝 Job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83 status updated to failed
2025-08-06 14:17:23 - ERROR - ❌ Error processing job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83: LIVE
2025-08-06 14:17:24 - INFO - 📝 Job 44fd21fd-6928-4349-b0ee-9fb7f7b4ed83 status updated to failed
2025-08-06 14:21:10 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:21:11 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:21:11 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:21:11 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:21:12 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:21:12 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:21:12 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 14:22:01 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 14:22:02 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 14:22:07 - INFO - Database connection initialized successfully
2025-08-06 14:22:07 - INFO - Checking and Installing dependencies...

2025-08-06 14:22:09 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754508129
2025-08-06 14:22:09 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 14:22:09 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 14:22:09 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 14:22:09 - INFO - User cache initialized with 3600s duration
2025-08-06 14:22:09 - INFO - User cache cleanup thread started
2025-08-06 14:22:11 - INFO -  ✅ Redis connection established
2025-08-06 14:22:11 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 14:22:11 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754508129 registered from DESKTOP-U62C3NA
2025-08-06 14:22:11 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754508129 initialized successfully
2025-08-06 14:22:11 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 14:22:11 - INFO -    IP: 192.168.1.11
2025-08-06 14:22:11 - INFO -    Max concurrent jobs: 5
2025-08-06 14:22:11 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754508129
2025-08-06 14:22:11 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754508129 started processing jobs
2025-08-06 14:22:30 - INFO - 📥 Job fde36e5c-8bbe-4a88-ab25-0a345e90b2d3 assigned to worker worker_DESKTOP-U62C3NA_1754508129
2025-08-06 14:22:30 - INFO - 🎥 Processing job fde36e5c-8bbe-4a88-ab25-0a345e90b2d3 for _ainaraagarcia
2025-08-06 14:22:31 - INFO - 📝 Job fde36e5c-8bbe-4a88-ab25-0a345e90b2d3 status updated to in_progress
2025-08-06 14:22:31 - INFO - 🎥 Worker starting recording for _ainaraagarcia (user: 1268285169, chat: 1268285169)
2025-08-06 14:22:31 - INFO - Cache DISABLED: Fetching fresh room_id for _ainaraagarcia from API
2025-08-06 14:22:31 - INFO - PRIMARY: Using TikTok API for room_id extraction of _ainaraagarcia
2025-08-06 14:22:32 - INFO - ✅ TikTok API successful for _ainaraagarcia: 7535554208255478551
2025-08-06 14:22:33 - INFO - Logged room_id for _ainaraagarcia: 7535554208255478551 (cache disabled, DB log only)
2025-08-06 14:22:33 - INFO - PRIMARY TikTok API successful for room ID of _ainaraagarcia: 7535554208255478551
2025-08-06 14:22:33 - INFO - ✅ User _ainaraagarcia validated as live with room_id: 7535554208255478551
2025-08-06 14:22:34 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 14:22:34 - INFO - 🎯 Created master recording: _ainaraagarcia_1754508151_1268285169
2025-08-06 14:22:35 - INFO - ✅ Redis state updated for recording: _ainaraagarcia_1754508151_1268285169
2025-08-06 14:22:35 - INFO - 🎬 Starting TikTokRecorder for _ainaraagarcia
2025-08-06 14:22:36 - INFO - 📝 Job fde36e5c-8bbe-4a88-ab25-0a345e90b2d3 status updated to completed
2025-08-06 14:22:36 - INFO - ✅ Recording job fde36e5c-8bbe-4a88-ab25-0a345e90b2d3 completed for _ainaraagarcia
2025-08-06 14:33:57 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 14:33:59 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 14:34:03 - INFO - Database connection initialized successfully
2025-08-06 14:34:06 - INFO - Checking and Installing dependencies...

2025-08-06 14:34:06 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754508846
2025-08-06 14:34:06 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 14:34:06 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 14:34:06 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 14:34:06 - INFO - User cache initialized with 3600s duration
2025-08-06 14:34:06 - INFO - User cache cleanup thread started
2025-08-06 14:34:07 - INFO -  ✅ Redis connection established
2025-08-06 14:34:07 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 14:34:08 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754508846 registered from DESKTOP-U62C3NA
2025-08-06 14:34:08 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754508846 initialized successfully
2025-08-06 14:34:08 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 14:34:08 - INFO -    IP: 192.168.1.11
2025-08-06 14:34:08 - INFO -    Max concurrent jobs: 5
2025-08-06 14:34:08 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754508846
2025-08-06 14:34:08 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754508846 started processing jobs
2025-08-06 14:34:27 - INFO - 📥 Job de490ad0-5c6d-4b9c-af0c-5032016685b2 assigned to worker worker_DESKTOP-U62C3NA_1754508846
2025-08-06 14:34:27 - INFO - 🎥 Processing job de490ad0-5c6d-4b9c-af0c-5032016685b2 for naiara_moya2
2025-08-06 14:34:27 - INFO - 📝 Job de490ad0-5c6d-4b9c-af0c-5032016685b2 status updated to in_progress
2025-08-06 14:34:28 - INFO - 🎥 Worker starting recording for naiara_moya2 (user: 1268285169, chat: 1268285169)
2025-08-06 14:34:28 - ERROR - ❌ Recording job de490ad0-5c6d-4b9c-af0c-5032016685b2 failed: cannot access local variable 'time' where it is not associated with a value
2025-08-06 14:34:28 - INFO - 📝 Job de490ad0-5c6d-4b9c-af0c-5032016685b2 status updated to failed
2025-08-06 14:34:28 - ERROR - ❌ Error processing job de490ad0-5c6d-4b9c-af0c-5032016685b2: cannot access local variable 'time' where it is not associated with a value
2025-08-06 14:34:28 - INFO - 📝 Job de490ad0-5c6d-4b9c-af0c-5032016685b2 status updated to failed
2025-08-06 14:36:28 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 14:36:30 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 14:36:34 - INFO - Database connection initialized successfully
2025-08-06 14:36:37 - INFO - Checking and Installing dependencies...

2025-08-06 14:36:37 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754508997
2025-08-06 14:36:37 - INFO - ✅ Upload manager initialization skipped (Redis-first implementation)
2025-08-06 14:36:37 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 14:36:37 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 14:36:37 - INFO - User cache initialized with 3600s duration
2025-08-06 14:36:37 - INFO - User cache cleanup thread started
2025-08-06 14:36:38 - INFO -  ✅ Redis connection established
2025-08-06 14:36:38 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 14:36:38 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754508997 registered from DESKTOP-U62C3NA
2025-08-06 14:36:38 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754508997 initialized successfully
2025-08-06 14:36:38 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 14:36:38 - INFO -    IP: 192.168.1.11
2025-08-06 14:36:38 - INFO -    Max concurrent jobs: 5
2025-08-06 14:36:38 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754508997
2025-08-06 14:36:38 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754508997 started processing jobs
2025-08-06 14:36:52 - INFO - 📥 Job 0100ad55-a05b-4e4d-8e77-184f31507889 assigned to worker worker_DESKTOP-U62C3NA_1754508997
2025-08-06 14:36:52 - INFO - 🎥 Processing job 0100ad55-a05b-4e4d-8e77-184f31507889 for naiara_moya2
2025-08-06 14:36:53 - INFO - 📝 Job 0100ad55-a05b-4e4d-8e77-184f31507889 status updated to in_progress
2025-08-06 14:36:53 - INFO - 🎥 Worker starting recording for naiara_moya2 (user: 1268285169, chat: 1268285169)
2025-08-06 14:36:53 - INFO - Cache DISABLED: Fetching fresh room_id for naiara_moya2 from API
2025-08-06 14:36:53 - INFO - PRIMARY: Using TikTok API for room_id extraction of naiara_moya2
2025-08-06 14:36:53 - INFO - ✅ TikTok API successful for naiara_moya2: 7535556143213710102
2025-08-06 14:36:54 - INFO - Logged room_id for naiara_moya2: 7535556143213710102 (cache disabled, DB log only)
2025-08-06 14:36:54 - INFO - PRIMARY TikTok API successful for room ID of naiara_moya2: 7535556143213710102
2025-08-06 14:36:55 - INFO - ✅ User naiara_moya2 validated as live with room_id: 7535556143213710102
2025-08-06 14:36:55 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 14:36:56 - INFO - 🎯 Created master recording: naiara_moya2_1754509013_1268285169
2025-08-06 14:36:57 - INFO - ✅ Redis state updated for recording: naiara_moya2_1754509013_1268285169
2025-08-06 14:36:57 - INFO - 🎬 Starting TikTokRecorder for naiara_moya2
2025-08-06 14:36:57 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 14:36:57 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 14:36:57 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_naiara_moya2_1754509017.json
2025-08-06 14:36:57 - INFO - 🔍 RealtimeVideoSampler initialized for naiara_moya2 - interval: 30s, threshold: 30.0%
2025-08-06 14:36:58 - INFO - Using provided room_id: 7535556143213710102 for user: naiara_moya2
2025-08-06 14:36:58 - INFO - USERNAME: naiara_moya2
2025-08-06 14:36:58 - INFO - ROOM_ID:  7535556143213710102
2025-08-06 14:36:58 - INFO - 🌐 Fetching fresh stream URL for naiara_moya2
2025-08-06 14:36:59 - INFO - ✅ Stream URL cached for naiara_moya2 (valid for 20.0 minutes)
2025-08-06 14:36:59 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535554629805804310_or4.flv?expire=1755718619&sign=abce3ee5ec508069e0bdf2248d51e5bc
2025-08-06 14:36:59 - INFO - 📁 Created session folder: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\
2025-08-06 14:36:59 - INFO - Started recording...
2025-08-06 14:36:59 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 14:36:59 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_naiara_moya2_20250806_143659.log
2025-08-06 14:36:59 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mkv
2025-08-06 14:36:59 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535554629805804310_or4.flv?expire=1755718619&sign=abce3ee5ec508069e0bdf2248d51e5bc
2025-08-06 14:36:59 - INFO - Executing FFmpeg command for naiara_moya2
2025-08-06 14:36:59 - INFO - 🔍 Starting FFmpeg stderr monitor for naiara_moya2
2025-08-06 14:36:59 - INFO - 🔍 Started memory guardian for naiara_moya2 (PID: 12212, threshold: 6.0%)
2025-08-06 14:36:59 - INFO - 📝 Job 0100ad55-a05b-4e4d-8e77-184f31507889 status updated to completed
2025-08-06 14:37:00 - INFO - ✅ Recording job 0100ad55-a05b-4e4d-8e77-184f31507889 completed for naiara_moya2
2025-08-06 14:37:29 - INFO - FFmpeg recording in progress for naiara_moya2: 0.5 minutes
2025-08-06 14:37:54 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for naiara_moya2: time=00:00:59.74 (#1)
2025-08-06 14:37:54 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for naiara_moya2 - triggering immediate restart
2025-08-06 14:37:54 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for naiara_moya2
2025-08-06 14:37:54 - INFO - 🔍 FFmpeg stderr monitor finished for naiara_moya2
2025-08-06 14:37:54 - WARNING - 🚨 CORRUPTION DETECTED for naiara_moya2, stopping current recording to restart
2025-08-06 14:37:54 - INFO - Starting graceful FFmpeg termination for naiara_moya2 - Reason: corruption detected
2025-08-06 14:37:54 - INFO - Sending 'q' command to FFmpeg for naiara_moya2
2025-08-06 14:37:54 - INFO - Waiting 30s for FFmpeg to complete container headers for naiara_moya2
2025-08-06 14:37:56 - INFO - FFmpeg terminated cleanly via stdin for naiara_moya2
2025-08-06 14:37:56 - INFO - FFmpeg recording completed successfully for naiara_moya2
2025-08-06 14:37:56 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_naiara_moya2_20250806_143659.log (19.0KB)
2025-08-06 14:37:56 - INFO - ✅ No corruption patterns detected for naiara_moya2
2025-08-06 14:37:56 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mkv (22.5MB)
2025-08-06 14:37:56 - INFO - Added recording part 1 for naiara_moya2: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mkv
2025-08-06 14:37:56 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for naiara_moya2
2025-08-06 14:37:56 - INFO - 🔍 Starting robust live verification for naiara_moya2 (2min validation period)
2025-08-06 14:37:56 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 14:37:56 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 1
2025-08-06 14:37:56 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:38:06 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 14:38:06 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 2
2025-08-06 14:38:06 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:38:16 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 14:38:16 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 3
2025-08-06 14:38:16 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:38:26 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 4, 30s/120s, 90s remaining)
2025-08-06 14:38:26 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 4
2025-08-06 14:38:26 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:38:36 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 14:38:36 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 5
2025-08-06 14:38:36 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:38:46 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 14:38:47 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 6
2025-08-06 14:38:47 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:38:57 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 14:38:57 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 7
2025-08-06 14:38:57 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:39:07 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 14:39:07 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 8
2025-08-06 14:39:07 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:39:17 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 14:39:17 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 9
2025-08-06 14:39:17 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:39:27 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 10, 91s/120s, 29s remaining)
2025-08-06 14:39:27 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 10
2025-08-06 14:39:27 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:39:37 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 11, 101s/120s, 19s remaining)
2025-08-06 14:39:37 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 11
2025-08-06 14:39:37 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 14:39:47 - INFO - 🔍 Checking if naiara_moya2 still live (attempt 12, 111s/120s, 9s remaining)
2025-08-06 14:39:47 - WARNING - ⚠️ User naiara_moya2 appears offline on attempt 12
2025-08-06 14:39:47 - INFO - ❌ User naiara_moya2 confirmed offline after 2 minutes of validation
2025-08-06 14:39:47 - INFO - ❌ User naiara_moya2 no longer live, ending recording after corruption
2025-08-06 14:39:47 - INFO - FFmpeg terminated normally for naiara_moya2, checking if stream continues...
2025-08-06 14:39:47 - INFO - 🔍 Starting stream continuation validation for naiara_moya2 for 2 minutes (4 checks every 30s)...
2025-08-06 14:39:58 - INFO - ❌ Room alive check failed for naiara_moya2 after 3 attempts (total time: 15s)
2025-08-06 14:39:58 - WARNING - ❌ Stream check 1/4: user naiara_moya2 not detected as live (consecutive failures: 1)
2025-08-06 14:40:39 - INFO - ❌ Room alive check failed for naiara_moya2 after 3 attempts (total time: 15s)
2025-08-06 14:40:39 - WARNING - ❌ Stream check 2/4: user naiara_moya2 not detected as live (consecutive failures: 2)
2025-08-06 14:41:19 - INFO - ❌ Room alive check failed for naiara_moya2 after 3 attempts (total time: 15s)
2025-08-06 14:41:19 - WARNING - ❌ Stream check 3/4: user naiara_moya2 not detected as live (consecutive failures: 3)
2025-08-06 14:41:19 - WARNING - Multiple consecutive failed checks (3) for naiara_moya2 (non-URL error), ending validation early
2025-08-06 14:41:19 - INFO - 🏁 Stream validation completed for naiara_moya2 after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 14:41:19 - INFO - Stream ended for naiara_moya2, processing final recording...
2025-08-06 14:41:19 - INFO - Processing 1 existing recording parts for naiara_moya2 (current recording success: True)
2025-08-06 14:41:19 - INFO - Converting part 1/1: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mkv -> D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mp4
2025-08-06 14:41:19 - INFO - Converting MKV to MP4: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mkv -> D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mp4 (source: 22.5MB)
2025-08-06 14:41:19 - INFO - MKV file size: 0.02GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 14:41:19 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mp4 (22.5MB)
2025-08-06 14:41:19 - WARNING - Could not cleanup MKV file D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\naiara_moya2-2025-08-06_14-36-57\\TK_naiara_moya2_2025.08.06_14-36-59.mkv'
2025-08-06 14:41:19 - INFO - Converted all parts to MP4. Final parts count: 1
2025-08-06 14:41:19 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 14:41:19 - INFO - ⚡ Processing naiara_moya2 immediately (1 parts < 3 threshold)
2025-08-06 14:41:19 - INFO - ⚡ Processing naiara_moya2 immediately - bypassing queue
2025-08-06 14:41:19 - INFO - 📁 [Immediate] Single valid part for naiara_moya2: TK_naiara_moya2_2025.08.06_14-36-59.mp4
2025-08-06 14:41:19 - INFO - 📤 [Immediate] Processing for Telegram upload: naiara_moya2
2025-08-06 14:41:20 - INFO - Generating video collage for: TK_naiara_moya2_2025.08.06_14-36-59.mp4
2025-08-06 14:41:22 - INFO - Successfully extracted 16 screenshots
2025-08-06 14:41:22 - INFO - Video collage generated successfully: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59_collage.jpg
2025-08-06 14:41:22 - INFO - 📸 [Immediate] Video collage generated: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59_collage.jpg
2025-08-06 14:41:22 - INFO - 🖼️ [Immediate] Video thumbnail generated: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59_thumb.jpg
2025-08-06 14:41:22 - ERROR - ❌ Immediate processing failed for naiara_moya2: Telegram instance not set
2025-08-06 14:41:22 - ERROR - Error submitting to post-processing queue for naiara_moya2: Telegram instance not set
2025-08-06 14:41:22 - INFO - Using traditional processing as fallback for naiara_moya2
2025-08-06 14:41:22 - INFO - Single recording part for naiara_moya2: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mp4
2025-08-06 14:41:22 - INFO - Telegram upload disabled, recording saved: D:/recordings/organized\naiara_moya2-2025-08-06_14-36-57\TK_naiara_moya2_2025.08.06_14-36-59.mp4
2025-08-06 14:41:22 - INFO - 📄 Session state marked as completed (preserved for upload recovery): naiara_moya2_1754509017
2025-08-06 14:41:22 - INFO - FFmpeg recording finished definitively for naiara_moya2, calling cleanup
2025-08-06 14:41:22 - INFO - 🧹 Recording cleanup callback for naiara_moya2
2025-08-06 14:41:23 - INFO - ✅ Marked recording as completed: naiara_moya2_1754509013_1268285169
2025-08-06 14:41:24 - INFO - 🧹 Redis cleanup completed for naiara_moya2
2025-08-06 14:41:24 - INFO - ✅ Recording completed successfully for naiara_moya2
2025-08-06 15:02:37 - INFO - 📥 Job e156a356-32ba-4280-a0fc-64599d964d4a assigned to worker worker_DESKTOP-U62C3NA_1754508997
2025-08-06 15:02:37 - INFO - 🎥 Processing job e156a356-32ba-4280-a0fc-64599d964d4a for canlvss
2025-08-06 15:02:38 - INFO - 📝 Job e156a356-32ba-4280-a0fc-64599d964d4a status updated to in_progress
2025-08-06 15:02:38 - INFO - 🎥 Worker starting recording for canlvss (user: 1284010946, chat: 1284010946)
2025-08-06 15:02:38 - INFO - Cache DISABLED: Fetching fresh room_id for canlvss from API
2025-08-06 15:02:38 - INFO - PRIMARY: Using TikTok API for room_id extraction of canlvss
2025-08-06 15:02:39 - INFO - ✅ TikTok API successful for canlvss: 7535530678734064390
2025-08-06 15:02:40 - INFO - Logged room_id for canlvss: 7535530678734064390 (cache disabled, DB log only)
2025-08-06 15:02:40 - INFO - PRIMARY TikTok API successful for room ID of canlvss: 7535530678734064390
2025-08-06 15:02:40 - INFO - ✅ User canlvss validated as live with room_id: 7535530678734064390
2025-08-06 15:02:40 - INFO - 📊 Updated user 1284010946 active count to 1
2025-08-06 15:02:41 - INFO - 🎯 Created master recording: canlvss_1754510558_1284010946
2025-08-06 15:02:42 - INFO - ✅ Redis state updated for recording: canlvss_1754510558_1284010946
2025-08-06 15:02:42 - INFO - 🎬 Starting TikTokRecorder for canlvss
2025-08-06 15:02:42 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 15:02:42 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 15:02:42 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_canlvss_1754510562.json
2025-08-06 15:02:42 - INFO - 🔍 RealtimeVideoSampler initialized for canlvss - interval: 30s, threshold: 30.0%
2025-08-06 15:02:43 - INFO - Using provided room_id: 7535530678734064390 for user: canlvss
2025-08-06 15:02:43 - INFO - USERNAME: canlvss
2025-08-06 15:02:43 - INFO - ROOM_ID:  7535530678734064390
2025-08-06 15:02:43 - INFO - 🌐 Fetching fresh stream URL for canlvss
2025-08-06 15:02:44 - INFO - ✅ Stream URL cached for canlvss (valid for 20.0 minutes)
2025-08-06 15:02:44 - INFO - Starting stream download from: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:02:44 - INFO - 📁 Created session folder: D:/recordings/organized\canlvss-2025-08-06_15-02-42\
2025-08-06 15:02:44 - INFO - Started recording...
2025-08-06 15:02:44 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 15:02:44 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150244.log
2025-08-06 15:02:44 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mkv
2025-08-06 15:02:44 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:02:44 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:02:44 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:02:44 - INFO - 🔍 Started memory guardian for canlvss (PID: 35268, threshold: 6.0%)
2025-08-06 15:02:45 - INFO - 📝 Job e156a356-32ba-4280-a0fc-64599d964d4a status updated to completed
2025-08-06 15:02:45 - INFO - ✅ Recording job e156a356-32ba-4280-a0fc-64599d964d4a completed for canlvss
2025-08-06 15:02:57 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:00:12.45 (#1)
2025-08-06 15:02:57 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:02:57 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:02:57 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:02:57 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:02:57 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:02:57 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:02:57 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:03:01 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:03:01 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:03:01 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150244.log (8.8KB)
2025-08-06 15:03:01 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:03:01 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mkv (1.6MB)
2025-08-06 15:03:01 - INFO - Added recording part 1 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mkv
2025-08-06 15:03:01 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:03:01 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:03:01 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:03:01 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:03:01 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:03:01 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:03:01 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:03:01 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:03:02 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 15:03:02 - INFO - Starting continuous recording part 2 for canlvss
2025-08-06 15:03:07 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 24.2s)
2025-08-06 15:03:07 - INFO - Continuous recording part 2: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2_flv.mp4
2025-08-06 15:03:07 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150307.log
2025-08-06 15:03:07 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mkv
2025-08-06 15:03:07 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:03:07 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:03:07 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:03:07 - INFO - 🔍 Started memory guardian for canlvss (PID: 22996, threshold: 6.0%)
2025-08-06 15:03:11 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:00:03.66 (#1)
2025-08-06 15:03:11 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:03:11 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:03:11 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:03:11 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:03:11 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:03:11 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:03:11 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:03:12 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:03:12 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:03:12 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150307.log (6.7KB)
2025-08-06 15:03:12 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:03:12 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mkv (0.0MB)
2025-08-06 15:03:12 - INFO - Added recording part 2 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mkv
2025-08-06 15:03:12 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:03:12 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:03:12 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:03:12 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:03:12 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:03:12 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:03:12 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:03:12 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:03:13 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 15:03:13 - INFO - Starting continuous recording part 3 for canlvss
2025-08-06 15:03:18 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 34.6s)
2025-08-06 15:03:18 - INFO - Continuous recording part 3: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3_flv.mp4
2025-08-06 15:03:18 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150318.log
2025-08-06 15:03:18 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mkv
2025-08-06 15:03:18 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:03:18 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:03:18 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:03:18 - INFO - 🔍 Started memory guardian for canlvss (PID: 34568, threshold: 6.0%)
2025-08-06 15:03:48 - INFO - 📊 SIZE CHECK: Total=7.2MB (Current=5.6MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:03:48 - INFO - FFmpeg recording in progress for canlvss: 0.5 minutes
2025-08-06 15:04:18 - INFO - 📊 SIZE CHECK: Total=12.8MB (Current=11.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:04:18 - INFO - FFmpeg recording in progress for canlvss: 1.0 minutes
2025-08-06 15:04:49 - INFO - 📊 SIZE CHECK: Total=18.6MB (Current=17.0MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:04:49 - INFO - FFmpeg recording in progress for canlvss: 1.5 minutes
2025-08-06 15:05:19 - INFO - 📊 SIZE CHECK: Total=24.7MB (Current=23.0MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:05:19 - INFO - FFmpeg recording in progress for canlvss: 2.0 minutes
2025-08-06 15:05:49 - INFO - 📊 SIZE CHECK: Total=30.6MB (Current=29.0MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:05:49 - INFO - FFmpeg recording in progress for canlvss: 2.5 minutes
2025-08-06 15:06:19 - INFO - 📊 SIZE CHECK: Total=36.2MB (Current=34.5MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:06:19 - INFO - FFmpeg recording in progress for canlvss: 3.0 minutes
2025-08-06 15:06:49 - INFO - 📊 SIZE CHECK: Total=42.2MB (Current=40.6MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:06:49 - INFO - FFmpeg recording in progress for canlvss: 3.5 minutes
2025-08-06 15:07:19 - INFO - 📊 SIZE CHECK: Total=48.1MB (Current=46.4MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:07:19 - INFO - FFmpeg recording in progress for canlvss: 4.0 minutes
2025-08-06 15:07:50 - INFO - 📊 SIZE CHECK: Total=53.9MB (Current=52.3MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:07:50 - INFO - FFmpeg recording in progress for canlvss: 4.5 minutes
2025-08-06 15:08:20 - INFO - 📊 SIZE CHECK: Total=59.8MB (Current=58.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:08:20 - INFO - FFmpeg recording in progress for canlvss: 5.0 minutes
2025-08-06 15:08:50 - INFO - 📊 SIZE CHECK: Total=65.8MB (Current=64.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:08:50 - INFO - FFmpeg recording in progress for canlvss: 5.5 minutes
2025-08-06 15:09:20 - INFO - 📊 SIZE CHECK: Total=71.4MB (Current=69.8MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:09:20 - INFO - FFmpeg recording in progress for canlvss: 6.0 minutes
2025-08-06 15:09:34 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:06:21.30 (#1)
2025-08-06 15:09:34 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:09:34 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:09:34 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:09:34 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:09:34 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:09:34 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:09:34 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:09:35 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:09:35 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:09:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150318.log (90.0KB)
2025-08-06 15:09:35 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:09:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mkv (72.8MB)
2025-08-06 15:09:35 - INFO - Added recording part 3 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mkv
2025-08-06 15:09:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:09:35 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:09:35 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:09:35 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:09:35 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:09:35 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:09:35 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:09:35 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:09:36 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 15:09:36 - INFO - Starting continuous recording part 4 for canlvss
2025-08-06 15:09:41 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 417.6s)
2025-08-06 15:09:41 - INFO - Continuous recording part 4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4_flv.mp4
2025-08-06 15:09:41 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150941.log
2025-08-06 15:09:41 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mkv
2025-08-06 15:09:41 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:09:41 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:09:41 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:09:41 - INFO - 🔍 Started memory guardian for canlvss (PID: 3028, threshold: 6.0%)
2025-08-06 15:10:11 - INFO - 📊 SIZE CHECK: Total=80.7MB (Current=6.3MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:10:11 - INFO - FFmpeg recording in progress for canlvss: 0.5 minutes
2025-08-06 15:10:14 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:00:33.11 (#1)
2025-08-06 15:10:14 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:10:14 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:10:14 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:10:14 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:10:14 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:10:14 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:10:14 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:10:16 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:10:16 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:10:16 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_150941.log (13.4KB)
2025-08-06 15:10:16 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:10:16 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mkv (7.7MB)
2025-08-06 15:10:16 - INFO - Added recording part 4 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mkv
2025-08-06 15:10:16 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:10:16 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:10:16 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:10:16 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:10:16 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:10:16 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:10:16 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:10:16 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:10:17 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 15:10:17 - INFO - Starting continuous recording part 5 for canlvss
2025-08-06 15:10:22 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 458.8s)
2025-08-06 15:10:22 - INFO - Continuous recording part 5: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5_flv.mp4
2025-08-06 15:10:22 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151022.log
2025-08-06 15:10:22 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mkv
2025-08-06 15:10:22 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:10:22 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:10:22 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:10:22 - INFO - 🔍 Started memory guardian for canlvss (PID: 29176, threshold: 6.0%)
2025-08-06 15:10:52 - INFO - 📊 SIZE CHECK: Total=87.8MB (Current=5.7MB + 4 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:10:52 - INFO - FFmpeg recording in progress for canlvss: 0.5 minutes
2025-08-06 15:11:23 - INFO - 📊 SIZE CHECK: Total=96.2MB (Current=14.1MB + 4 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:11:23 - INFO - FFmpeg recording in progress for canlvss: 1.0 minutes
2025-08-06 15:11:23 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:01:05.86 (#1)
2025-08-06 15:11:23 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:11:23 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:11:23 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:11:24 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:11:24 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:11:24 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:11:24 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:11:26 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:11:26 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:11:26 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151022.log (19.7KB)
2025-08-06 15:11:26 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:11:26 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mkv (14.7MB)
2025-08-06 15:11:26 - INFO - Added recording part 5 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mkv
2025-08-06 15:11:26 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:11:26 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:11:26 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:11:26 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:11:26 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:11:26 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:11:26 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:11:26 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:11:27 - INFO - 🔄 Starting continuous recording for corruption restart - Part 5
2025-08-06 15:11:27 - INFO - Starting continuous recording part 6 for canlvss
2025-08-06 15:11:32 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 528.8s)
2025-08-06 15:11:32 - INFO - Continuous recording part 6: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6_flv.mp4
2025-08-06 15:11:32 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151132.log
2025-08-06 15:11:32 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mkv
2025-08-06 15:11:32 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:11:32 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:11:32 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:11:32 - INFO - 🔍 Started memory guardian for canlvss (PID: 10432, threshold: 6.0%)
2025-08-06 15:12:02 - INFO - 📊 SIZE CHECK: Total=105.8MB (Current=9.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:12:02 - INFO - FFmpeg recording in progress for canlvss: 0.5 minutes
2025-08-06 15:12:33 - INFO - 📊 SIZE CHECK: Total=115.8MB (Current=19.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:12:33 - INFO - FFmpeg recording in progress for canlvss: 1.0 minutes
2025-08-06 15:12:46 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:01:21.11 (#1)
2025-08-06 15:12:46 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:12:46 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:12:46 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:12:47 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:12:47 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:12:47 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:12:47 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:12:48 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:12:48 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:12:48 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151132.log (22.5KB)
2025-08-06 15:12:48 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:12:48 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mkv (23.1MB)
2025-08-06 15:12:48 - INFO - Added recording part 6 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mkv
2025-08-06 15:12:48 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:12:48 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:12:48 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:12:48 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:12:48 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:12:48 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:12:48 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:12:48 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:12:49 - INFO - 🔄 Starting continuous recording for corruption restart - Part 6
2025-08-06 15:12:49 - INFO - Starting continuous recording part 7 for canlvss
2025-08-06 15:12:54 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 610.9s)
2025-08-06 15:12:54 - INFO - Continuous recording part 7: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7_flv.mp4
2025-08-06 15:12:54 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151254.log
2025-08-06 15:12:54 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mkv
2025-08-06 15:12:54 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:12:54 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:12:54 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:12:54 - INFO - 🔍 Started memory guardian for canlvss (PID: 30568, threshold: 6.0%)
2025-08-06 15:13:24 - INFO - 📊 SIZE CHECK: Total=129.2MB (Current=9.3MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:13:24 - INFO - FFmpeg recording in progress for canlvss: 0.5 minutes
2025-08-06 15:13:55 - INFO - 📊 SIZE CHECK: Total=139.7MB (Current=19.7MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:13:55 - INFO - FFmpeg recording in progress for canlvss: 1.0 minutes
2025-08-06 15:14:04 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:01:18.30 (#1)
2025-08-06 15:14:04 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:14:04 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:14:04 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:14:05 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:14:05 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:14:05 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:14:05 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:14:06 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:14:06 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:14:06 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151254.log (21.4KB)
2025-08-06 15:14:06 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:14:06 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mkv (22.5MB)
2025-08-06 15:14:06 - INFO - Added recording part 7 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mkv
2025-08-06 15:14:06 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:14:06 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:14:06 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:14:06 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:14:06 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:14:06 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:14:06 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:14:06 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:14:07 - INFO - 🔄 Starting continuous recording for corruption restart - Part 7
2025-08-06 15:14:07 - INFO - Starting continuous recording part 8 for canlvss
2025-08-06 15:14:12 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 689.1s)
2025-08-06 15:14:12 - INFO - Continuous recording part 8: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8_flv.mp4
2025-08-06 15:14:12 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151412.log
2025-08-06 15:14:12 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mkv
2025-08-06 15:14:12 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:14:12 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:14:12 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:14:12 - INFO - 🔍 Started memory guardian for canlvss (PID: 23176, threshold: 6.0%)
2025-08-06 15:14:26 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:00:12.54 (#1)
2025-08-06 15:14:26 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:14:26 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:14:26 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:14:26 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:14:26 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:14:26 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:14:26 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:14:32 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:14:32 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:14:32 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151412.log (9.0KB)
2025-08-06 15:14:32 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:14:32 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mkv (1.7MB)
2025-08-06 15:14:32 - INFO - Added recording part 8 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mkv
2025-08-06 15:14:32 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:14:32 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:14:32 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:14:32 - INFO - ✅ User canlvss confirmed still live after 0s (attempt 1)
2025-08-06 15:14:32 - INFO - ✅ User canlvss still live, attempting restart with retry logic...
2025-08-06 15:14:32 - INFO - 🔄 Restart attempt 1/3 for canlvss
2025-08-06 15:14:32 - INFO - 🔄 Using cached stream URL for corruption restart: canlvss
2025-08-06 15:14:32 - INFO - ⏳ Waiting 1s for stream stabilization for canlvss
2025-08-06 15:14:33 - INFO - 🔄 Starting continuous recording for corruption restart - Part 8
2025-08-06 15:14:33 - INFO - Starting continuous recording part 9 for canlvss
2025-08-06 15:14:38 - INFO - 🔄 Reusing cached stream URL for canlvss (age: 714.6s)
2025-08-06 15:14:38 - INFO - Continuous recording part 9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9_flv.mp4
2025-08-06 15:14:38 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151438.log
2025-08-06 15:14:38 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mkv
2025-08-06 15:14:38 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000046430765187113_or4.flv?expire=1755720164&sign=ae00e2a17765c70483d3c3b6f5a2f32e
2025-08-06 15:14:38 - INFO - Executing FFmpeg command for canlvss
2025-08-06 15:14:38 - INFO - 🔍 Starting FFmpeg stderr monitor for canlvss
2025-08-06 15:14:38 - INFO - 🔍 Started memory guardian for canlvss (PID: 2372, threshold: 6.0%)
2025-08-06 15:15:08 - INFO - 📊 SIZE CHECK: Total=151.3MB (Current=7.2MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:15:08 - INFO - FFmpeg recording in progress for canlvss: 0.5 minutes
2025-08-06 15:15:38 - INFO - 📊 SIZE CHECK: Total=161.4MB (Current=17.3MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:15:38 - INFO - FFmpeg recording in progress for canlvss: 1.0 minutes
2025-08-06 15:16:09 - INFO - 📊 SIZE CHECK: Total=170.0MB (Current=25.9MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:16:09 - INFO - FFmpeg recording in progress for canlvss: 1.5 minutes
2025-08-06 15:16:39 - INFO - 📊 SIZE CHECK: Total=180.2MB (Current=36.1MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:16:39 - INFO - FFmpeg recording in progress for canlvss: 2.0 minutes
2025-08-06 15:17:09 - INFO - 📊 SIZE CHECK: Total=190.8MB (Current=46.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:17:09 - INFO - FFmpeg recording in progress for canlvss: 2.5 minutes
2025-08-06 15:17:39 - INFO - 📊 SIZE CHECK: Total=201.2MB (Current=57.1MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:17:39 - INFO - FFmpeg recording in progress for canlvss: 3.0 minutes
2025-08-06 15:18:09 - INFO - 📊 SIZE CHECK: Total=210.6MB (Current=66.5MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:18:09 - INFO - FFmpeg recording in progress for canlvss: 3.5 minutes
2025-08-06 15:18:40 - INFO - 📊 SIZE CHECK: Total=218.8MB (Current=74.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:18:40 - INFO - FFmpeg recording in progress for canlvss: 4.0 minutes
2025-08-06 15:19:10 - INFO - 📊 SIZE CHECK: Total=229.0MB (Current=84.9MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:19:10 - INFO - FFmpeg recording in progress for canlvss: 4.5 minutes
2025-08-06 15:19:40 - INFO - 📊 SIZE CHECK: Total=238.1MB (Current=94.0MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:19:40 - INFO - FFmpeg recording in progress for canlvss: 5.0 minutes
2025-08-06 15:20:10 - INFO - 📊 SIZE CHECK: Total=247.0MB (Current=102.9MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:20:10 - INFO - FFmpeg recording in progress for canlvss: 5.5 minutes
2025-08-06 15:20:16 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for canlvss: time=00:05:43.58 (#1)
2025-08-06 15:20:16 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for canlvss - triggering immediate restart
2025-08-06 15:20:16 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for canlvss
2025-08-06 15:20:16 - INFO - 🔍 FFmpeg stderr monitor finished for canlvss
2025-08-06 15:20:16 - WARNING - 🚨 CORRUPTION DETECTED for canlvss, stopping current recording to restart
2025-08-06 15:20:16 - INFO - Starting graceful FFmpeg termination for canlvss - Reason: corruption detected
2025-08-06 15:20:16 - INFO - Sending 'q' command to FFmpeg for canlvss
2025-08-06 15:20:16 - INFO - Waiting 30s for FFmpeg to complete container headers for canlvss
2025-08-06 15:20:20 - INFO - FFmpeg terminated cleanly via stdin for canlvss
2025-08-06 15:20:20 - INFO - FFmpeg recording completed successfully for canlvss
2025-08-06 15:20:20 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_canlvss_20250806_151438.log (81.4KB)
2025-08-06 15:20:20 - INFO - ✅ No corruption patterns detected for canlvss
2025-08-06 15:20:20 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mkv (105.3MB)
2025-08-06 15:20:20 - INFO - Added recording part 9 for canlvss: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mkv
2025-08-06 15:20:20 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for canlvss
2025-08-06 15:20:20 - INFO - 🔍 Starting robust live verification for canlvss (2min validation period)
2025-08-06 15:20:20 - INFO - 🔍 Checking if canlvss still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:20:20 - WARNING - ⚠️ User canlvss appears offline on attempt 1
2025-08-06 15:20:20 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:20:30 - INFO - 🔍 Checking if canlvss still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 15:20:30 - WARNING - ⚠️ User canlvss appears offline on attempt 2
2025-08-06 15:20:30 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:20:40 - INFO - 🔍 Checking if canlvss still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 15:20:40 - WARNING - ⚠️ User canlvss appears offline on attempt 3
2025-08-06 15:20:40 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:20:50 - INFO - 🔍 Checking if canlvss still live (attempt 4, 31s/120s, 89s remaining)
2025-08-06 15:20:50 - WARNING - ⚠️ User canlvss appears offline on attempt 4
2025-08-06 15:20:50 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:21:00 - INFO - 🔍 Checking if canlvss still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 15:21:01 - WARNING - ⚠️ User canlvss appears offline on attempt 5
2025-08-06 15:21:01 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:21:11 - INFO - 🔍 Checking if canlvss still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 15:21:11 - WARNING - ⚠️ User canlvss appears offline on attempt 6
2025-08-06 15:21:11 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:21:21 - INFO - 🔍 Checking if canlvss still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 15:21:21 - WARNING - ⚠️ User canlvss appears offline on attempt 7
2025-08-06 15:21:21 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:21:31 - INFO - 🔍 Checking if canlvss still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 15:21:31 - WARNING - ⚠️ User canlvss appears offline on attempt 8
2025-08-06 15:21:31 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:21:41 - INFO - 🔍 Checking if canlvss still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 15:21:41 - WARNING - ⚠️ User canlvss appears offline on attempt 9
2025-08-06 15:21:41 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:21:51 - INFO - 🔍 Checking if canlvss still live (attempt 10, 92s/120s, 28s remaining)
2025-08-06 15:21:51 - WARNING - ⚠️ User canlvss appears offline on attempt 10
2025-08-06 15:21:51 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:22:01 - INFO - 🔍 Checking if canlvss still live (attempt 11, 102s/120s, 18s remaining)
2025-08-06 15:22:02 - WARNING - ⚠️ User canlvss appears offline on attempt 11
2025-08-06 15:22:02 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:22:12 - INFO - 🔍 Checking if canlvss still live (attempt 12, 112s/120s, 8s remaining)
2025-08-06 15:22:12 - WARNING - ⚠️ User canlvss appears offline on attempt 12
2025-08-06 15:22:12 - INFO - ❌ User canlvss confirmed offline after 2 minutes of validation
2025-08-06 15:22:12 - INFO - ❌ User canlvss no longer live, ending recording after corruption
2025-08-06 15:22:12 - INFO - FFmpeg terminated normally for canlvss, checking if stream continues...
2025-08-06 15:22:12 - INFO - 🔍 Starting stream continuation validation for canlvss for 2 minutes (4 checks every 30s)...
2025-08-06 15:22:23 - INFO - ❌ Room alive check failed for canlvss after 3 attempts (total time: 15s)
2025-08-06 15:22:23 - WARNING - ❌ Stream check 1/4: user canlvss not detected as live (consecutive failures: 1)
2025-08-06 15:23:03 - INFO - ❌ Room alive check failed for canlvss after 3 attempts (total time: 15s)
2025-08-06 15:23:03 - WARNING - ❌ Stream check 2/4: user canlvss not detected as live (consecutive failures: 2)
2025-08-06 15:23:44 - INFO - ❌ Room alive check failed for canlvss after 3 attempts (total time: 15s)
2025-08-06 15:23:44 - WARNING - ❌ Stream check 3/4: user canlvss not detected as live (consecutive failures: 3)
2025-08-06 15:23:44 - WARNING - Multiple consecutive failed checks (3) for canlvss (non-URL error), ending validation early
2025-08-06 15:23:44 - INFO - 🏁 Stream validation completed for canlvss after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 15:23:44 - INFO - Stream ended for canlvss, processing final recording...
2025-08-06 15:23:44 - INFO - Processing 9 existing recording parts for canlvss (current recording success: True)
2025-08-06 15:23:44 - INFO - Converting part 1/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mp4
2025-08-06 15:23:44 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mp4 (source: 1.6MB)
2025-08-06 15:23:44 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 15:23:44 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mp4 (1.6MB)
2025-08-06 15:23:44 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-02-44.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-02-44.mkv'
2025-08-06 15:23:44 - INFO - Converting part 2/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mp4
2025-08-06 15:23:44 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mp4 (source: 0.0MB)
2025-08-06 15:23:44 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 15:23:44 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mp4 (0.0MB)
2025-08-06 15:23:44 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-07_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-03-07_cont2.mkv'
2025-08-06 15:23:44 - INFO - Converting part 3/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mp4
2025-08-06 15:23:44 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mp4 (source: 72.8MB)
2025-08-06 15:23:44 - INFO - MKV file size: 0.07GB, conversion timeout: 604s (600s base + 4s for size)
2025-08-06 15:23:44 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mp4 (73.1MB)
2025-08-06 15:23:44 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-03-18_cont3.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-03-18_cont3.mkv'
2025-08-06 15:23:44 - INFO - Converting part 4/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mp4
2025-08-06 15:23:44 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mp4 (source: 7.7MB)
2025-08-06 15:23:44 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 15:23:44 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mp4 (7.7MB)
2025-08-06 15:23:44 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-09-41_cont4.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-09-41_cont4.mkv'
2025-08-06 15:23:44 - INFO - Converting part 5/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mp4
2025-08-06 15:23:44 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mp4 (source: 14.7MB)
2025-08-06 15:23:44 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 15:23:45 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mp4 (14.7MB)
2025-08-06 15:23:45 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-10-22_cont5.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-10-22_cont5.mkv'
2025-08-06 15:23:45 - INFO - Converting part 6/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mp4
2025-08-06 15:23:45 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mp4 (source: 23.1MB)
2025-08-06 15:23:45 - INFO - MKV file size: 0.02GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 15:23:45 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mp4 (23.2MB)
2025-08-06 15:23:45 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-11-32_cont6.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-11-32_cont6.mkv'
2025-08-06 15:23:45 - INFO - Converting part 7/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mp4
2025-08-06 15:23:45 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mp4 (source: 22.5MB)
2025-08-06 15:23:45 - INFO - MKV file size: 0.02GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 15:23:45 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mp4 (22.5MB)
2025-08-06 15:23:45 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-12-54_cont7.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-12-54_cont7.mkv'
2025-08-06 15:23:45 - INFO - Converting part 8/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mp4
2025-08-06 15:23:45 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mp4 (source: 1.7MB)
2025-08-06 15:23:45 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 15:23:45 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mp4 (1.7MB)
2025-08-06 15:23:45 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-12_cont8.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-14-12_cont8.mkv'
2025-08-06 15:23:45 - INFO - Converting part 9/9: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mp4
2025-08-06 15:23:45 - INFO - Converting MKV to MP4: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mkv -> D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mp4 (source: 105.3MB)
2025-08-06 15:23:45 - INFO - MKV file size: 0.10GB, conversion timeout: 606s (600s base + 6s for size)
2025-08-06 15:23:45 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mp4 (105.4MB)
2025-08-06 15:23:45 - WARNING - Could not cleanup MKV file D:/recordings/organized\canlvss-2025-08-06_15-02-42\TK_canlvss_2025.08.06_15-14-38_cont9.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\canlvss-2025-08-06_15-02-42\\TK_canlvss_2025.08.06_15-14-38_cont9.mkv'
2025-08-06 15:23:45 - INFO - Converted all parts to MP4. Final parts count: 9
2025-08-06 15:23:45 - INFO - 📥 Added canlvss to post-processing queue (9 parts) - Job ID: canlvss_1754511825
2025-08-06 15:23:45 - INFO - 📥 Recording submitted to post-processing queue: canlvss_1754511825
2025-08-06 15:23:45 - INFO - 📄 Session state marked as completed (preserved for upload recovery): canlvss_1754510562
2025-08-06 15:23:45 - INFO - FFmpeg recording finished definitively for canlvss, calling cleanup
2025-08-06 15:23:45 - INFO - 🧹 Recording cleanup callback for canlvss
2025-08-06 15:23:46 - INFO - ✅ Marked recording as completed: canlvss_1754510558_1284010946
2025-08-06 15:23:47 - INFO - 🧹 Redis cleanup completed for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Restart successful on attempt 1 for canlvss
2025-08-06 15:23:47 - INFO - ✅ Recording completed successfully for canlvss
2025-08-06 15:42:32 - INFO - 📥 Job 69bb5ec3-82f6-49d2-8c06-323e0c4cefea assigned to worker worker_DESKTOP-U62C3NA_1754508997
2025-08-06 15:42:32 - INFO - 🎥 Processing job 69bb5ec3-82f6-49d2-8c06-323e0c4cefea for alejandrajosaa
2025-08-06 15:42:33 - INFO - 📝 Job 69bb5ec3-82f6-49d2-8c06-323e0c4cefea status updated to in_progress
2025-08-06 15:42:33 - INFO - 🎥 Worker starting recording for alejandrajosaa (user: 1268285169, chat: 1268285169)
2025-08-06 15:42:33 - INFO - Cache DISABLED: Fetching fresh room_id for alejandrajosaa from API
2025-08-06 15:42:33 - INFO - PRIMARY: Using TikTok API for room_id extraction of alejandrajosaa
2025-08-06 15:42:34 - INFO - ✅ TikTok API successful for alejandrajosaa: 7535575098255100694
2025-08-06 15:42:36 - INFO - Logged room_id for alejandrajosaa: 7535575098255100694 (cache disabled, DB log only)
2025-08-06 15:42:36 - INFO - PRIMARY TikTok API successful for room ID of alejandrajosaa: 7535575098255100694
2025-08-06 15:42:36 - INFO - ✅ User alejandrajosaa validated as live with room_id: 7535575098255100694
2025-08-06 15:42:37 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 15:42:37 - INFO - 🎯 Created master recording: alejandrajosaa_1754512953_1268285169
2025-08-06 15:42:39 - INFO - ✅ Redis state updated for recording: alejandrajosaa_1754512953_1268285169
2025-08-06 15:42:39 - INFO - 🎬 Starting TikTokRecorder for alejandrajosaa
2025-08-06 15:42:39 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 15:42:39 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 15:42:39 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_alejandrajosaa_1754512959.json
2025-08-06 15:42:39 - INFO - 🔍 RealtimeVideoSampler initialized for alejandrajosaa - interval: 30s, threshold: 30.0%
2025-08-06 15:42:39 - INFO - Using provided room_id: 7535575098255100694 for user: alejandrajosaa
2025-08-06 15:42:39 - INFO - USERNAME: alejandrajosaa
2025-08-06 15:42:39 - INFO - ROOM_ID:  7535575098255100694
2025-08-06 15:42:40 - INFO - 🌐 Fetching fresh stream URL for alejandrajosaa
2025-08-06 15:42:40 - INFO - ✅ Stream URL cached for alejandrajosaa (valid for 20.0 minutes)
2025-08-06 15:42:40 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535574144382602006_or4.flv?expire=1755722560&sign=fb0cf51d82a6a5b574c8ccbbf8cbd2c0
2025-08-06 15:42:40 - INFO - 📁 Created session folder: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\
2025-08-06 15:42:40 - INFO - Started recording...
2025-08-06 15:42:40 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 15:42:40 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_alejandrajosaa_20250806_154240.log
2025-08-06 15:42:40 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mkv
2025-08-06 15:42:40 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535574144382602006_or4.flv?expire=1755722560&sign=fb0cf51d82a6a5b574c8ccbbf8cbd2c0
2025-08-06 15:42:40 - INFO - Executing FFmpeg command for alejandrajosaa
2025-08-06 15:42:40 - INFO - 🔍 Starting FFmpeg stderr monitor for alejandrajosaa
2025-08-06 15:42:40 - INFO - 🔍 Started memory guardian for alejandrajosaa (PID: 10716, threshold: 6.0%)
2025-08-06 15:42:41 - INFO - 📝 Job 69bb5ec3-82f6-49d2-8c06-323e0c4cefea status updated to completed
2025-08-06 15:42:41 - INFO - ✅ Recording job 69bb5ec3-82f6-49d2-8c06-323e0c4cefea completed for alejandrajosaa
2025-08-06 15:43:11 - INFO - FFmpeg recording in progress for alejandrajosaa: 0.5 minutes
2025-08-06 15:43:41 - INFO - FFmpeg recording in progress for alejandrajosaa: 1.0 minutes
2025-08-06 15:44:11 - INFO - FFmpeg recording in progress for alejandrajosaa: 1.5 minutes
2025-08-06 15:44:28 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for alejandrajosaa: time=00:01:55.89 (#1)
2025-08-06 15:44:28 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for alejandrajosaa - triggering immediate restart
2025-08-06 15:44:28 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for alejandrajosaa
2025-08-06 15:44:28 - INFO - 🔍 FFmpeg stderr monitor finished for alejandrajosaa
2025-08-06 15:44:28 - WARNING - 🚨 CORRUPTION DETECTED for alejandrajosaa, stopping current recording to restart
2025-08-06 15:44:28 - INFO - Starting graceful FFmpeg termination for alejandrajosaa - Reason: corruption detected
2025-08-06 15:44:28 - INFO - Sending 'q' command to FFmpeg for alejandrajosaa
2025-08-06 15:44:28 - INFO - Waiting 30s for FFmpeg to complete container headers for alejandrajosaa
2025-08-06 15:44:28 - INFO - FFmpeg terminated cleanly via stdin for alejandrajosaa
2025-08-06 15:44:28 - INFO - FFmpeg recording completed successfully for alejandrajosaa
2025-08-06 15:44:28 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_alejandrajosaa_20250806_154240.log (30.7KB)
2025-08-06 15:44:28 - INFO - ✅ No corruption patterns detected for alejandrajosaa
2025-08-06 15:44:28 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mkv (21.9MB)
2025-08-06 15:44:28 - INFO - Added recording part 1 for alejandrajosaa: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mkv
2025-08-06 15:44:28 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for alejandrajosaa
2025-08-06 15:44:28 - INFO - 🔍 Starting robust live verification for alejandrajosaa (2min validation period)
2025-08-06 15:44:28 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:44:29 - INFO - ✅ User alejandrajosaa confirmed still live after 0s (attempt 1)
2025-08-06 15:44:29 - INFO - ✅ User alejandrajosaa still live, attempting restart with retry logic...
2025-08-06 15:44:29 - INFO - 🔄 Restart attempt 1/3 for alejandrajosaa
2025-08-06 15:44:29 - INFO - 🔄 Using cached stream URL for corruption restart: alejandrajosaa
2025-08-06 15:44:29 - INFO - ⏳ Waiting 1s for stream stabilization for alejandrajosaa
2025-08-06 15:44:30 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 15:44:30 - INFO - Starting continuous recording part 2 for alejandrajosaa
2025-08-06 15:44:35 - INFO - 🔄 Reusing cached stream URL for alejandrajosaa (age: 114.8s)
2025-08-06 15:44:35 - INFO - Continuous recording part 2: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2_flv.mp4
2025-08-06 15:44:35 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_alejandrajosaa_20250806_154435.log
2025-08-06 15:44:35 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv
2025-08-06 15:44:35 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535574144382602006_or4.flv?expire=1755722560&sign=fb0cf51d82a6a5b574c8ccbbf8cbd2c0
2025-08-06 15:44:35 - INFO - Executing FFmpeg command for alejandrajosaa
2025-08-06 15:44:35 - INFO - 🔍 Starting FFmpeg stderr monitor for alejandrajosaa
2025-08-06 15:44:35 - INFO - 🔍 Started memory guardian for alejandrajosaa (PID: 5452, threshold: 6.0%)
2025-08-06 15:45:05 - INFO - 📊 SIZE CHECK: Total=28.2MB (Current=6.3MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:45:05 - INFO - FFmpeg recording in progress for alejandrajosaa: 0.5 minutes
2025-08-06 15:45:35 - INFO - 📊 SIZE CHECK: Total=36.2MB (Current=14.3MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 15:45:35 - INFO - FFmpeg recording in progress for alejandrajosaa: 1.0 minutes
2025-08-06 15:45:42 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for alejandrajosaa: time=00:01:12.94 (#1)
2025-08-06 15:45:42 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for alejandrajosaa - triggering immediate restart
2025-08-06 15:45:42 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for alejandrajosaa
2025-08-06 15:45:42 - INFO - 🔍 FFmpeg stderr monitor finished for alejandrajosaa
2025-08-06 15:45:42 - WARNING - 🚨 CORRUPTION DETECTED for alejandrajosaa, stopping current recording to restart
2025-08-06 15:45:42 - INFO - Starting graceful FFmpeg termination for alejandrajosaa - Reason: corruption detected
2025-08-06 15:45:42 - INFO - Sending 'q' command to FFmpeg for alejandrajosaa
2025-08-06 15:45:42 - INFO - Waiting 30s for FFmpeg to complete container headers for alejandrajosaa
2025-08-06 15:45:43 - INFO - FFmpeg terminated cleanly via stdin for alejandrajosaa
2025-08-06 15:45:43 - INFO - FFmpeg recording completed successfully for alejandrajosaa
2025-08-06 15:45:43 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_alejandrajosaa_20250806_154435.log (21.8KB)
2025-08-06 15:45:43 - INFO - ✅ No corruption patterns detected for alejandrajosaa
2025-08-06 15:45:43 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv (15.3MB)
2025-08-06 15:45:43 - INFO - Added recording part 2 for alejandrajosaa: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv
2025-08-06 15:45:43 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for alejandrajosaa
2025-08-06 15:45:43 - INFO - 🔍 Starting robust live verification for alejandrajosaa (2min validation period)
2025-08-06 15:45:43 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 15:45:44 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 1
2025-08-06 15:45:44 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:45:54 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 15:45:54 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 2
2025-08-06 15:45:54 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:46:04 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 15:46:04 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 3
2025-08-06 15:46:04 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:46:14 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 4, 30s/120s, 90s remaining)
2025-08-06 15:46:14 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 4
2025-08-06 15:46:14 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:46:24 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 15:46:24 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 5
2025-08-06 15:46:24 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:46:34 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 15:46:34 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 6
2025-08-06 15:46:34 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:46:44 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 15:46:44 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 7
2025-08-06 15:46:44 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:46:54 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 15:46:55 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 8
2025-08-06 15:46:55 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:47:05 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 15:47:05 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 9
2025-08-06 15:47:05 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:47:15 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 10, 91s/120s, 29s remaining)
2025-08-06 15:47:15 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 10
2025-08-06 15:47:15 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:47:25 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 11, 101s/120s, 19s remaining)
2025-08-06 15:47:25 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 11
2025-08-06 15:47:25 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 15:47:35 - INFO - 🔍 Checking if alejandrajosaa still live (attempt 12, 112s/120s, 8s remaining)
2025-08-06 15:47:35 - WARNING - ⚠️ User alejandrajosaa appears offline on attempt 12
2025-08-06 15:47:35 - INFO - ❌ User alejandrajosaa confirmed offline after 2 minutes of validation
2025-08-06 15:47:35 - INFO - ❌ User alejandrajosaa no longer live, ending recording after corruption
2025-08-06 15:47:35 - INFO - FFmpeg terminated normally for alejandrajosaa, checking if stream continues...
2025-08-06 15:47:35 - INFO - 🔍 Starting stream continuation validation for alejandrajosaa for 2 minutes (4 checks every 30s)...
2025-08-06 15:47:46 - INFO - ❌ Room alive check failed for alejandrajosaa after 3 attempts (total time: 15s)
2025-08-06 15:47:46 - WARNING - ❌ Stream check 1/4: user alejandrajosaa not detected as live (consecutive failures: 1)
2025-08-06 15:48:27 - INFO - ❌ Room alive check failed for alejandrajosaa after 3 attempts (total time: 15s)
2025-08-06 15:48:27 - WARNING - ❌ Stream check 2/4: user alejandrajosaa not detected as live (consecutive failures: 2)
2025-08-06 15:49:07 - INFO - ❌ Room alive check failed for alejandrajosaa after 3 attempts (total time: 15s)
2025-08-06 15:49:07 - WARNING - ❌ Stream check 3/4: user alejandrajosaa not detected as live (consecutive failures: 3)
2025-08-06 15:49:07 - WARNING - Multiple consecutive failed checks (3) for alejandrajosaa (non-URL error), ending validation early
2025-08-06 15:49:07 - INFO - 🏁 Stream validation completed for alejandrajosaa after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 15:49:07 - INFO - Stream ended for alejandrajosaa, processing final recording...
2025-08-06 15:49:07 - INFO - Processing 2 existing recording parts for alejandrajosaa (current recording success: True)
2025-08-06 15:49:07 - INFO - Converting part 1/2: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mkv -> D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mp4
2025-08-06 15:49:07 - INFO - Converting MKV to MP4: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mkv -> D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mp4 (source: 21.9MB)
2025-08-06 15:49:07 - INFO - MKV file size: 0.02GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 15:49:07 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mp4 (21.9MB)
2025-08-06 15:49:07 - WARNING - Could not cleanup MKV file D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\alejandrajosaa-2025-08-06_15-42-39\\TK_alejandrajosaa_2025.08.06_15-42-40.mkv'
2025-08-06 15:49:07 - INFO - Converting part 2/2: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv -> D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mp4
2025-08-06 15:49:07 - INFO - Converting MKV to MP4: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv -> D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mp4 (source: 15.3MB)
2025-08-06 15:49:07 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 15:49:07 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mp4 (15.3MB)
2025-08-06 15:49:07 - WARNING - Could not cleanup MKV file D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\alejandrajosaa-2025-08-06_15-42-39\\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mkv'
2025-08-06 15:49:07 - INFO - Converted all parts to MP4. Final parts count: 2
2025-08-06 15:49:07 - INFO - ⚡ Processing alejandrajosaa immediately (2 parts < 3 threshold)
2025-08-06 15:49:07 - INFO - ⚡ Processing alejandrajosaa immediately - bypassing queue
2025-08-06 15:49:07 - INFO - 🔗 [Immediate] Concatenating 2 valid parts for alejandrajosaa
2025-08-06 15:49:08 - INFO - ✅ [Immediate] Concatenation successful: TK_alejandrajosaa_2025.08.06_15-42-40_COMPLETE.mp4 (37.3MB)
2025-08-06 15:49:08 - INFO - 📤 [Immediate] Processing for Telegram upload: alejandrajosaa
2025-08-06 15:49:08 - INFO - Generating video collage for: TK_alejandrajosaa_2025.08.06_15-42-40_COMPLETE.mp4
2025-08-06 15:49:09 - INFO - Successfully extracted 16 screenshots
2025-08-06 15:49:09 - INFO - Video collage generated successfully: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40_COMPLETE_collage.jpg
2025-08-06 15:49:09 - INFO - 📸 [Immediate] Video collage generated: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40_COMPLETE_collage.jpg
2025-08-06 15:49:09 - INFO - 🖼️ [Immediate] Video thumbnail generated: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40_COMPLETE_thumb.jpg
2025-08-06 15:49:09 - ERROR - ❌ Immediate processing failed for alejandrajosaa: Telegram instance not set
2025-08-06 15:49:09 - ERROR - Error submitting to post-processing queue for alejandrajosaa: Telegram instance not set
2025-08-06 15:49:09 - INFO - Using traditional processing as fallback for alejandrajosaa
2025-08-06 15:49:09 - INFO - Multiple recording parts detected for alejandrajosaa, concatenating...
2025-08-06 15:49:09 - WARNING - ❌ Missing recording part: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-42-40.mp4
2025-08-06 15:49:09 - WARNING - ❌ Missing recording part: D:/recordings/organized\alejandrajosaa-2025-08-06_15-42-39\TK_alejandrajosaa_2025.08.06_15-44-35_cont2.mp4
2025-08-06 15:49:09 - INFO - 📊 Frame validation summary: 0 valid parts, 0 pause videos filtered
2025-08-06 15:49:09 - WARNING - Not enough valid parts to concatenate for alejandrajosaa
2025-08-06 15:49:09 - WARNING - Concatenation failed for alejandrajosaa, using largest part as fallback
2025-08-06 15:49:09 - ERROR - No valid recording parts available for alejandrajosaa
2025-08-06 15:49:09 - INFO - 📄 Session state marked as completed (preserved for upload recovery): alejandrajosaa_1754512959
2025-08-06 15:49:09 - INFO - FFmpeg recording finished definitively for alejandrajosaa, calling cleanup
2025-08-06 15:49:09 - INFO - 🧹 Recording cleanup callback for alejandrajosaa
2025-08-06 15:49:10 - INFO - ✅ Marked recording as completed: alejandrajosaa_1754512953_1268285169
2025-08-06 15:49:11 - INFO - 🧹 Redis cleanup completed for alejandrajosaa
2025-08-06 15:49:11 - INFO - ✅ Restart successful on attempt 1 for alejandrajosaa
2025-08-06 15:49:11 - INFO - ✅ Recording completed successfully for alejandrajosaa
2025-08-06 16:01:12 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:01:13 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:01:13 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:01:13 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:01:14 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:01:14 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:20:24 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 16:20:26 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 16:20:30 - INFO - Database connection initialized successfully
2025-08-06 16:20:33 - INFO - Checking and Installing dependencies...

2025-08-06 16:20:33 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754515233
2025-08-06 16:20:33 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 16:20:33 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:20:33 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:20:33 - INFO - User cache initialized with 3600s duration
2025-08-06 16:20:33 - INFO - User cache cleanup thread started
2025-08-06 16:20:35 - INFO -  ✅ Redis connection established
2025-08-06 16:20:35 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 16:20:35 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754515233 registered from DESKTOP-U62C3NA
2025-08-06 16:20:35 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754515233 initialized successfully
2025-08-06 16:20:35 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 16:20:35 - INFO -    IP: 192.168.1.11
2025-08-06 16:20:35 - INFO -    Max concurrent jobs: 5
2025-08-06 16:20:35 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754515233
2025-08-06 16:20:35 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754515233 started processing jobs
2025-08-06 16:21:23 - INFO - 📥 Job fec87d48-71d2-4616-a089-5847d6a3b985 assigned to worker worker_DESKTOP-U62C3NA_1754515233
2025-08-06 16:21:23 - INFO - 🎥 Processing job fec87d48-71d2-4616-a089-5847d6a3b985 for amandahowardx
2025-08-06 16:21:24 - INFO - 📝 Job fec87d48-71d2-4616-a089-5847d6a3b985 status updated to in_progress
2025-08-06 16:21:24 - INFO - 🎥 Worker starting recording for amandahowardx (user: 1268285169, chat: 1268285169)
2025-08-06 16:21:24 - INFO - Cache DISABLED: Fetching fresh room_id for amandahowardx from API
2025-08-06 16:21:24 - INFO - PRIMARY: Using TikTok API for room_id extraction of amandahowardx
2025-08-06 16:21:25 - INFO - ✅ TikTok API successful for amandahowardx: 7535576600411261727
2025-08-06 16:21:26 - INFO - Logged room_id for amandahowardx: 7535576600411261727 (cache disabled, DB log only)
2025-08-06 16:21:26 - INFO - PRIMARY TikTok API successful for room ID of amandahowardx: 7535576600411261727
2025-08-06 16:21:26 - INFO - ✅ User amandahowardx validated as live with room_id: 7535576600411261727
2025-08-06 16:21:26 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 16:21:27 - INFO - 🎯 Created master recording: amandahowardx_1754515284_1268285169
2025-08-06 16:21:28 - INFO - ✅ Redis state updated for recording: amandahowardx_1754515284_1268285169
2025-08-06 16:21:28 - INFO - 🎬 Starting TikTokRecorder for amandahowardx
2025-08-06 16:21:28 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:21:28 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:21:28 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_amandahowardx_1754515288.json
2025-08-06 16:21:28 - INFO - 🔍 RealtimeVideoSampler initialized for amandahowardx - interval: 30s, threshold: 30.0%
2025-08-06 16:21:29 - INFO - Using provided room_id: 7535576600411261727 for user: amandahowardx
2025-08-06 16:21:29 - INFO - USERNAME: amandahowardx
2025-08-06 16:21:29 - INFO - ROOM_ID:  7535576600411261727
2025-08-06 16:21:30 - INFO - 🌐 Fetching fresh stream URL for amandahowardx
2025-08-06 16:21:30 - INFO - ✅ Stream URL cached for amandahowardx (valid for 20.0 minutes)
2025-08-06 16:21:30 - INFO - Starting stream download from: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:21:30 - INFO - 📁 Created session folder: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\
2025-08-06 16:21:30 - INFO - Started recording...
2025-08-06 16:21:30 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 16:21:30 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162130.log
2025-08-06 16:21:30 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-21-30.mkv
2025-08-06 16:21:30 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:21:30 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:21:30 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:21:30 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 32472, threshold: 6.0%)
2025-08-06 16:21:30 - INFO - 📝 Job fec87d48-71d2-4616-a089-5847d6a3b985 status updated to completed
2025-08-06 16:21:31 - INFO - ✅ Recording job fec87d48-71d2-4616-a089-5847d6a3b985 completed for amandahowardx
2025-08-06 16:22:01 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:22:16 - INFO - 📥 Job b5fb7693-ca0f-4c7c-a793-228476d28a5c assigned to worker worker_DESKTOP-U62C3NA_1754515233
2025-08-06 16:22:16 - INFO - 🎥 Processing job b5fb7693-ca0f-4c7c-a793-228476d28a5c for samaraaguuzman
2025-08-06 16:22:17 - INFO - 📝 Job b5fb7693-ca0f-4c7c-a793-228476d28a5c status updated to in_progress
2025-08-06 16:22:17 - INFO - 🎥 Worker starting recording for samaraaguuzman (user: 1268285169, chat: 1268285169)
2025-08-06 16:22:17 - INFO - Cache DISABLED: Fetching fresh room_id for samaraaguuzman from API
2025-08-06 16:22:17 - INFO - PRIMARY: Using TikTok API for room_id extraction of samaraaguuzman
2025-08-06 16:22:17 - INFO - ✅ TikTok API successful for samaraaguuzman: 7535582121449835286
2025-08-06 16:22:18 - INFO - Logged room_id for samaraaguuzman: 7535582121449835286 (cache disabled, DB log only)
2025-08-06 16:22:18 - INFO - PRIMARY TikTok API successful for room ID of samaraaguuzman: 7535582121449835286
2025-08-06 16:22:19 - INFO - ✅ User samaraaguuzman validated as live with room_id: 7535582121449835286
2025-08-06 16:22:19 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 16:22:20 - INFO - 🎯 Created master recording: samaraaguuzman_1754515337_1268285169
2025-08-06 16:22:21 - INFO - ✅ Redis state updated for recording: samaraaguuzman_1754515337_1268285169
2025-08-06 16:22:21 - INFO - 🎬 Starting TikTokRecorder for samaraaguuzman
2025-08-06 16:22:21 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:22:21 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:22:21 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_samaraaguuzman_1754515341.json
2025-08-06 16:22:21 - INFO - 🔍 RealtimeVideoSampler initialized for samaraaguuzman - interval: 30s, threshold: 30.0%
2025-08-06 16:22:22 - INFO - Using provided room_id: 7535582121449835286 for user: samaraaguuzman
2025-08-06 16:22:22 - INFO - USERNAME: samaraaguuzman
2025-08-06 16:22:22 - INFO - ROOM_ID:  7535582121449835286
2025-08-06 16:22:22 - INFO - 🌐 Fetching fresh stream URL for samaraaguuzman
2025-08-06 16:22:23 - INFO - ✅ Stream URL cached for samaraaguuzman (valid for 20.0 minutes)
2025-08-06 16:22:23 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535581083203537686_or4.flv?expire=1755724942&sign=4b016d7d378271700b0579a2a0b50daf
2025-08-06 16:22:23 - INFO - 📁 Created session folder: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\
2025-08-06 16:22:23 - INFO - Started recording...
2025-08-06 16:22:23 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 16:22:23 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_samaraaguuzman_20250806_162223.log
2025-08-06 16:22:23 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mkv
2025-08-06 16:22:23 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535581083203537686_or4.flv?expire=1755724942&sign=4b016d7d378271700b0579a2a0b50daf
2025-08-06 16:22:23 - INFO - Executing FFmpeg command for samaraaguuzman
2025-08-06 16:22:23 - INFO - 🔍 Starting FFmpeg stderr monitor for samaraaguuzman
2025-08-06 16:22:23 - INFO - 🔍 Started memory guardian for samaraaguuzman (PID: 23296, threshold: 6.0%)
2025-08-06 16:22:23 - INFO - 📝 Job b5fb7693-ca0f-4c7c-a793-228476d28a5c status updated to completed
2025-08-06 16:22:23 - INFO - ✅ Recording job b5fb7693-ca0f-4c7c-a793-228476d28a5c completed for samaraaguuzman
2025-08-06 16:22:31 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:22:53 - INFO - FFmpeg recording in progress for samaraaguuzman: 0.5 minutes
2025-08-06 16:23:01 - INFO - FFmpeg recording in progress for amandahowardx: 1.5 minutes
2025-08-06 16:23:02 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:01:35.86 (#1)
2025-08-06 16:23:02 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:23:02 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:23:02 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:23:03 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:23:03 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:23:03 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:23:03 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:23:03 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:23:03 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:23:03 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162130.log (26.0KB)
2025-08-06 16:23:03 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:23:03 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-21-30.mkv (36.6MB)
2025-08-06 16:23:03 - INFO - Added recording part 1 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-21-30.mkv
2025-08-06 16:23:03 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:23:03 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:23:03 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:23:04 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:23:04 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:23:04 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:23:04 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:23:04 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:23:05 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 16:23:05 - INFO - Starting continuous recording part 2 for amandahowardx
2025-08-06 16:23:10 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 99.9s)
2025-08-06 16:23:10 - INFO - Continuous recording part 2: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-23-10_cont2_flv.mp4
2025-08-06 16:23:10 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162310.log
2025-08-06 16:23:10 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-23-10_cont2.mkv
2025-08-06 16:23:10 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:23:10 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:23:10 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:23:10 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 24380, threshold: 6.0%)
2025-08-06 16:23:23 - INFO - FFmpeg recording in progress for samaraaguuzman: 1.0 minutes
2025-08-06 16:23:40 - INFO - 📊 SIZE CHECK: Total=50.4MB (Current=13.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:23:40 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:23:53 - INFO - FFmpeg recording in progress for samaraaguuzman: 1.5 minutes
2025-08-06 16:24:10 - INFO - 📊 SIZE CHECK: Total=61.9MB (Current=25.3MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:24:10 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:24:23 - INFO - FFmpeg recording in progress for samaraaguuzman: 2.0 minutes
2025-08-06 16:24:40 - INFO - 📊 SIZE CHECK: Total=73.2MB (Current=36.7MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:24:40 - INFO - FFmpeg recording in progress for amandahowardx: 1.5 minutes
2025-08-06 16:24:54 - INFO - FFmpeg recording in progress for samaraaguuzman: 2.5 minutes
2025-08-06 16:25:11 - INFO - 📊 SIZE CHECK: Total=85.4MB (Current=48.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:25:11 - INFO - FFmpeg recording in progress for amandahowardx: 2.0 minutes
2025-08-06 16:25:24 - INFO - FFmpeg recording in progress for samaraaguuzman: 3.0 minutes
2025-08-06 16:25:41 - INFO - 📊 SIZE CHECK: Total=96.9MB (Current=60.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:25:41 - INFO - FFmpeg recording in progress for amandahowardx: 2.5 minutes
2025-08-06 16:25:54 - INFO - FFmpeg recording in progress for samaraaguuzman: 3.5 minutes
2025-08-06 16:25:58 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:02:54.32 (#1)
2025-08-06 16:25:58 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:25:58 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:25:58 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:25:59 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:25:59 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:25:59 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:25:59 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:26:00 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:26:00 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:26:00 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162310.log (43.0KB)
2025-08-06 16:26:00 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:26:00 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-23-10_cont2.mkv (67.9MB)
2025-08-06 16:26:00 - INFO - Added recording part 2 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-23-10_cont2.mkv
2025-08-06 16:26:00 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:26:00 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:26:00 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:26:00 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:26:00 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:26:00 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:26:00 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:26:00 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:26:01 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 16:26:01 - INFO - Starting continuous recording part 3 for amandahowardx
2025-08-06 16:26:06 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 276.1s)
2025-08-06 16:26:06 - INFO - Continuous recording part 3: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-26-06_cont3_flv.mp4
2025-08-06 16:26:06 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162606.log
2025-08-06 16:26:06 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-26-06_cont3.mkv
2025-08-06 16:26:06 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:26:06 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:26:06 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:26:06 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 4804, threshold: 6.0%)
2025-08-06 16:26:24 - INFO - FFmpeg recording in progress for samaraaguuzman: 4.0 minutes
2025-08-06 16:26:36 - INFO - 📊 SIZE CHECK: Total=117.2MB (Current=12.8MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:26:36 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:26:54 - INFO - FFmpeg recording in progress for samaraaguuzman: 4.5 minutes
2025-08-06 16:27:06 - INFO - 📊 SIZE CHECK: Total=129.4MB (Current=24.9MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:27:06 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:27:24 - INFO - FFmpeg recording in progress for samaraaguuzman: 5.0 minutes
2025-08-06 16:27:37 - INFO - 📊 SIZE CHECK: Total=140.7MB (Current=36.3MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:27:37 - INFO - FFmpeg recording in progress for amandahowardx: 1.5 minutes
2025-08-06 16:27:54 - INFO - FFmpeg recording in progress for samaraaguuzman: 5.5 minutes
2025-08-06 16:28:07 - INFO - 📊 SIZE CHECK: Total=152.6MB (Current=48.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:28:07 - INFO - FFmpeg recording in progress for amandahowardx: 2.0 minutes
2025-08-06 16:28:23 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:02:22.76 (#1)
2025-08-06 16:28:23 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:28:23 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:28:23 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:28:24 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:28:24 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:28:24 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:28:24 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:28:24 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:28:24 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:28:24 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162606.log (36.3KB)
2025-08-06 16:28:24 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:28:24 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-26-06_cont3.mkv (54.4MB)
2025-08-06 16:28:24 - INFO - Added recording part 3 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-26-06_cont3.mkv
2025-08-06 16:28:24 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:28:24 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:28:24 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:28:25 - INFO - FFmpeg recording in progress for samaraaguuzman: 6.0 minutes
2025-08-06 16:28:25 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:28:25 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:28:25 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:28:25 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:28:25 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:28:26 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 16:28:26 - INFO - Starting continuous recording part 4 for amandahowardx
2025-08-06 16:28:31 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 421.0s)
2025-08-06 16:28:31 - INFO - Continuous recording part 4: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-28-31_cont4_flv.mp4
2025-08-06 16:28:31 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162831.log
2025-08-06 16:28:31 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-28-31_cont4.mkv
2025-08-06 16:28:31 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:28:31 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:28:31 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:28:31 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 24556, threshold: 6.0%)
2025-08-06 16:28:55 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for samaraaguuzman: time=00:06:35.92 (#1)
2025-08-06 16:28:55 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for samaraaguuzman - triggering immediate restart
2025-08-06 16:28:55 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for samaraaguuzman
2025-08-06 16:28:55 - INFO - 🔍 FFmpeg stderr monitor finished for samaraaguuzman
2025-08-06 16:28:55 - WARNING - 🚨 CORRUPTION DETECTED for samaraaguuzman, stopping current recording to restart
2025-08-06 16:28:55 - INFO - Starting graceful FFmpeg termination for samaraaguuzman - Reason: corruption detected
2025-08-06 16:28:55 - INFO - Sending 'q' command to FFmpeg for samaraaguuzman
2025-08-06 16:28:55 - INFO - Waiting 30s for FFmpeg to complete container headers for samaraaguuzman
2025-08-06 16:28:56 - INFO - FFmpeg terminated cleanly via stdin for samaraaguuzman
2025-08-06 16:28:56 - INFO - FFmpeg recording completed successfully for samaraaguuzman
2025-08-06 16:28:56 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_samaraaguuzman_20250806_162223.log (94.1KB)
2025-08-06 16:28:56 - INFO - ✅ No corruption patterns detected for samaraaguuzman
2025-08-06 16:28:56 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mkv (139.9MB)
2025-08-06 16:28:56 - INFO - Added recording part 1 for samaraaguuzman: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mkv
2025-08-06 16:28:56 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for samaraaguuzman
2025-08-06 16:28:56 - INFO - 🔍 Starting robust live verification for samaraaguuzman (2min validation period)
2025-08-06 16:28:56 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:28:57 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 1
2025-08-06 16:28:57 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:29:01 - INFO - 📊 SIZE CHECK: Total=171.9MB (Current=13.1MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:29:01 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:29:07 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 16:29:07 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 2
2025-08-06 16:29:07 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:29:17 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 16:29:17 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 3
2025-08-06 16:29:17 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:29:27 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 4, 31s/120s, 89s remaining)
2025-08-06 16:29:27 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 4
2025-08-06 16:29:27 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:29:31 - INFO - 📊 SIZE CHECK: Total=184.2MB (Current=25.4MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:29:31 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:29:37 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 16:29:37 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 5
2025-08-06 16:29:37 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:29:40 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:01:14.57 (#1)
2025-08-06 16:29:40 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:29:40 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:29:40 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:29:40 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:29:40 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:29:40 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:29:40 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:29:41 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:29:41 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:29:41 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162831.log (20.9KB)
2025-08-06 16:29:41 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:29:41 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-28-31_cont4.mkv (29.3MB)
2025-08-06 16:29:41 - INFO - Added recording part 4 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-28-31_cont4.mkv
2025-08-06 16:29:41 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:29:41 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:29:41 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:29:41 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:29:41 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:29:41 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:29:41 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:29:41 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:29:42 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 16:29:42 - INFO - Starting continuous recording part 5 for amandahowardx
2025-08-06 16:29:47 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 497.2s)
2025-08-06 16:29:47 - INFO - Continuous recording part 5: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-29-47_cont5_flv.mp4
2025-08-06 16:29:47 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162947.log
2025-08-06 16:29:47 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-29-47_cont5.mkv
2025-08-06 16:29:47 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:29:47 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:29:47 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:29:47 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 24812, threshold: 6.0%)
2025-08-06 16:29:47 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 16:29:47 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 6
2025-08-06 16:29:47 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:29:57 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 16:29:57 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 7
2025-08-06 16:29:57 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:30:07 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 16:30:08 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 8
2025-08-06 16:30:08 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:30:17 - INFO - 📊 SIZE CHECK: Total=201.1MB (Current=12.9MB + 4 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:30:17 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:30:18 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 16:30:18 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 9
2025-08-06 16:30:18 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:30:28 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 10, 91s/120s, 29s remaining)
2025-08-06 16:30:28 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 10
2025-08-06 16:30:28 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:30:38 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 11, 102s/120s, 18s remaining)
2025-08-06 16:30:38 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 11
2025-08-06 16:30:38 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 16:30:47 - INFO - 📊 SIZE CHECK: Total=213.3MB (Current=25.2MB + 4 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:30:47 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:30:48 - INFO - 🔍 Checking if samaraaguuzman still live (attempt 12, 112s/120s, 8s remaining)
2025-08-06 16:30:48 - WARNING - ⚠️ User samaraaguuzman appears offline on attempt 12
2025-08-06 16:30:48 - INFO - ❌ User samaraaguuzman confirmed offline after 2 minutes of validation
2025-08-06 16:30:48 - INFO - ❌ User samaraaguuzman no longer live, ending recording after corruption
2025-08-06 16:30:48 - INFO - FFmpeg terminated normally for samaraaguuzman, checking if stream continues...
2025-08-06 16:30:48 - INFO - 🔍 Starting stream continuation validation for samaraaguuzman for 2 minutes (4 checks every 30s)...
2025-08-06 16:30:59 - INFO - ❌ Room alive check failed for samaraaguuzman after 3 attempts (total time: 15s)
2025-08-06 16:30:59 - WARNING - ❌ Stream check 1/4: user samaraaguuzman not detected as live (consecutive failures: 1)
2025-08-06 16:31:00 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:01:18.19 (#1)
2025-08-06 16:31:00 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:31:00 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:31:00 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:31:00 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:31:00 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:31:00 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:31:00 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:31:01 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:31:01 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:31:01 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_162947.log (21.9KB)
2025-08-06 16:31:01 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:31:01 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-29-47_cont5.mkv (30.1MB)
2025-08-06 16:31:01 - INFO - Added recording part 5 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-29-47_cont5.mkv
2025-08-06 16:31:01 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:31:01 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:31:01 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:31:01 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:31:01 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:31:01 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:31:01 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:31:01 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:31:02 - INFO - 🔄 Starting continuous recording for corruption restart - Part 5
2025-08-06 16:31:02 - INFO - Starting continuous recording part 6 for amandahowardx
2025-08-06 16:31:07 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 577.2s)
2025-08-06 16:31:07 - INFO - Continuous recording part 6: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-31-07_cont6_flv.mp4
2025-08-06 16:31:07 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_163107.log
2025-08-06 16:31:07 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-31-07_cont6.mkv
2025-08-06 16:31:07 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:31:07 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:31:07 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:31:07 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 6172, threshold: 6.0%)
2025-08-06 16:31:37 - INFO - 📊 SIZE CHECK: Total=230.9MB (Current=12.7MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:31:37 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:31:40 - INFO - ❌ Room alive check failed for samaraaguuzman after 3 attempts (total time: 15s)
2025-08-06 16:31:40 - WARNING - ❌ Stream check 2/4: user samaraaguuzman not detected as live (consecutive failures: 2)
2025-08-06 16:32:07 - INFO - 📊 SIZE CHECK: Total=242.1MB (Current=23.9MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:32:07 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:32:20 - INFO - ❌ Room alive check failed for samaraaguuzman after 3 attempts (total time: 15s)
2025-08-06 16:32:20 - WARNING - ❌ Stream check 3/4: user samaraaguuzman not detected as live (consecutive failures: 3)
2025-08-06 16:32:20 - WARNING - Multiple consecutive failed checks (3) for samaraaguuzman (non-URL error), ending validation early
2025-08-06 16:32:20 - INFO - 🏁 Stream validation completed for samaraaguuzman after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 16:32:20 - INFO - Stream ended for samaraaguuzman, processing final recording...
2025-08-06 16:32:20 - INFO - Processing 1 existing recording parts for samaraaguuzman (current recording success: True)
2025-08-06 16:32:20 - INFO - Converting part 1/1: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mkv -> D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mp4
2025-08-06 16:32:20 - INFO - Converting MKV to MP4: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mkv -> D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mp4 (source: 139.9MB)
2025-08-06 16:32:20 - INFO - MKV file size: 0.14GB, conversion timeout: 608s (600s base + 8s for size)
2025-08-06 16:32:21 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mp4 (140.1MB)
2025-08-06 16:32:21 - WARNING - Could not cleanup MKV file D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\samaraaguuzman-2025-08-06_16-22-21\\TK_samaraaguuzman_2025.08.06_16-22-23.mkv'
2025-08-06 16:32:21 - INFO - Converted all parts to MP4. Final parts count: 1
2025-08-06 16:32:21 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 16:32:21 - INFO - ⚡ Processing samaraaguuzman immediately (1 parts < 3 threshold)
2025-08-06 16:32:21 - INFO - ⚡ Processing samaraaguuzman immediately - bypassing queue
2025-08-06 16:32:21 - INFO - 📁 [Immediate] Single valid part for samaraaguuzman: TK_samaraaguuzman_2025.08.06_16-22-23.mp4
2025-08-06 16:32:21 - INFO - 📤 [Immediate] Processing for Telegram upload: samaraaguuzman
2025-08-06 16:32:21 - INFO - Generating video collage for: TK_samaraaguuzman_2025.08.06_16-22-23.mp4
2025-08-06 16:32:23 - INFO - Successfully extracted 16 screenshots
2025-08-06 16:32:23 - INFO - Video collage generated successfully: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23_collage.jpg
2025-08-06 16:32:23 - INFO - 📸 [Immediate] Video collage generated: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23_collage.jpg
2025-08-06 16:32:24 - INFO - 🖼️ [Immediate] Video thumbnail generated: D:/recordings/organized\samaraaguuzman-2025-08-06_16-22-21\TK_samaraaguuzman_2025.08.06_16-22-23_thumb.jpg
2025-08-06 16:32:24 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 16:32:24 - INFO - Added upload task for samaraaguuzman (fragment 1) to queue (size: 140.10MB)
2025-08-06 16:32:24 - INFO - ✅ [Immediate] Upload task added for samaraaguuzman
2025-08-06 16:32:24 - INFO - ✅ Immediate processing completed for samaraaguuzman
2025-08-06 16:32:24 - INFO - ⚡ Recording processed immediately (< 3 segments)
2025-08-06 16:32:24 - INFO - 📄 Session state marked as completed (preserved for upload recovery): samaraaguuzman_1754515341
2025-08-06 16:32:24 - INFO - FFmpeg recording finished definitively for samaraaguuzman, calling cleanup
2025-08-06 16:32:24 - INFO - 🧹 Recording cleanup callback for samaraaguuzman
2025-08-06 16:32:25 - INFO - ✅ Marked recording as completed: samaraaguuzman_1754515337_1268285169
2025-08-06 16:32:26 - INFO - 🧹 Redis cleanup completed for samaraaguuzman
2025-08-06 16:32:26 - INFO - ✅ Recording completed successfully for samaraaguuzman
2025-08-06 16:32:37 - INFO - 📊 SIZE CHECK: Total=254.3MB (Current=36.1MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:32:37 - INFO - FFmpeg recording in progress for amandahowardx: 1.5 minutes
2025-08-06 16:33:08 - INFO - 📊 SIZE CHECK: Total=265.9MB (Current=47.7MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:33:08 - INFO - FFmpeg recording in progress for amandahowardx: 2.0 minutes
2025-08-06 16:33:38 - INFO - 📊 SIZE CHECK: Total=278.1MB (Current=59.9MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:33:38 - INFO - FFmpeg recording in progress for amandahowardx: 2.5 minutes
2025-08-06 16:33:48 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:02:44.51 (#1)
2025-08-06 16:33:48 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:33:48 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:33:48 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:33:48 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:33:48 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:33:48 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:33:48 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:33:48 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:33:48 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:33:48 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_163107.log (41.3KB)
2025-08-06 16:33:48 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:33:48 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-31-07_cont6.mkv (63.2MB)
2025-08-06 16:33:48 - INFO - Added recording part 6 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-31-07_cont6.mkv
2025-08-06 16:33:48 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:33:48 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:33:48 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:33:48 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:33:48 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:33:48 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:33:48 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:33:48 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:33:49 - INFO - 🔄 Starting continuous recording for corruption restart - Part 6
2025-08-06 16:33:49 - INFO - Starting continuous recording part 7 for amandahowardx
2025-08-06 16:33:54 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 744.8s)
2025-08-06 16:33:54 - INFO - Continuous recording part 7: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-33-54_cont7_flv.mp4
2025-08-06 16:33:54 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_163354.log
2025-08-06 16:33:54 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-33-54_cont7.mkv
2025-08-06 16:33:54 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:33:54 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:33:54 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:33:54 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 22888, threshold: 6.0%)
2025-08-06 16:34:25 - INFO - 📊 SIZE CHECK: Total=294.4MB (Current=13.1MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:34:25 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:34:55 - INFO - 📊 SIZE CHECK: Total=306.8MB (Current=25.4MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:34:55 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:35:25 - INFO - 📊 SIZE CHECK: Total=317.8MB (Current=36.4MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:35:25 - INFO - FFmpeg recording in progress for amandahowardx: 1.5 minutes
2025-08-06 16:35:55 - INFO - 📊 SIZE CHECK: Total=329.4MB (Current=48.0MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:35:55 - INFO - FFmpeg recording in progress for amandahowardx: 2.0 minutes
2025-08-06 16:36:26 - INFO - 📊 SIZE CHECK: Total=341.7MB (Current=60.3MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:36:26 - INFO - FFmpeg recording in progress for amandahowardx: 2.5 minutes
2025-08-06 16:36:56 - INFO - 📊 SIZE CHECK: Total=353.3MB (Current=71.9MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:36:56 - INFO - FFmpeg recording in progress for amandahowardx: 3.0 minutes
2025-08-06 16:37:26 - INFO - 📊 SIZE CHECK: Total=365.8MB (Current=84.4MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:37:26 - INFO - FFmpeg recording in progress for amandahowardx: 3.5 minutes
2025-08-06 16:37:56 - INFO - 📊 SIZE CHECK: Total=377.5MB (Current=96.1MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:37:56 - INFO - FFmpeg recording in progress for amandahowardx: 4.0 minutes
2025-08-06 16:38:26 - INFO - 📊 SIZE CHECK: Total=389.8MB (Current=108.4MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:38:26 - INFO - FFmpeg recording in progress for amandahowardx: 4.5 minutes
2025-08-06 16:38:57 - INFO - 📊 SIZE CHECK: Total=401.4MB (Current=120.0MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:38:57 - INFO - FFmpeg recording in progress for amandahowardx: 5.0 minutes
2025-08-06 16:39:27 - INFO - 📊 SIZE CHECK: Total=413.7MB (Current=132.3MB + 6 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:39:27 - INFO - FFmpeg recording in progress for amandahowardx: 5.5 minutes
2025-08-06 16:39:57 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for amandahowardx: time=00:06:07.90 (#1)
2025-08-06 16:39:57 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for amandahowardx - triggering immediate restart
2025-08-06 16:39:57 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for amandahowardx
2025-08-06 16:39:57 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:39:57 - WARNING - 🚨 CORRUPTION DETECTED for amandahowardx, stopping current recording to restart
2025-08-06 16:39:57 - INFO - Starting graceful FFmpeg termination for amandahowardx - Reason: corruption detected
2025-08-06 16:39:57 - INFO - Sending 'q' command to FFmpeg for amandahowardx
2025-08-06 16:39:57 - INFO - Waiting 30s for FFmpeg to complete container headers for amandahowardx
2025-08-06 16:39:57 - INFO - FFmpeg terminated cleanly via stdin for amandahowardx
2025-08-06 16:39:57 - INFO - FFmpeg recording completed successfully for amandahowardx
2025-08-06 16:39:57 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_163354.log (86.4KB)
2025-08-06 16:39:57 - INFO - ✅ No corruption patterns detected for amandahowardx
2025-08-06 16:39:57 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-33-54_cont7.mkv (143.8MB)
2025-08-06 16:39:57 - INFO - Added recording part 7 for amandahowardx: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-33-54_cont7.mkv
2025-08-06 16:39:57 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for amandahowardx
2025-08-06 16:39:57 - INFO - 🔍 Starting robust live verification for amandahowardx (2min validation period)
2025-08-06 16:39:57 - INFO - 🔍 Checking if amandahowardx still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 16:39:58 - INFO - ✅ User amandahowardx confirmed still live after 0s (attempt 1)
2025-08-06 16:39:58 - INFO - ✅ User amandahowardx still live, attempting restart with retry logic...
2025-08-06 16:39:58 - INFO - 🔄 Restart attempt 1/3 for amandahowardx
2025-08-06 16:39:58 - INFO - 🔄 Using cached stream URL for corruption restart: amandahowardx
2025-08-06 16:39:58 - INFO - ⏳ Waiting 1s for stream stabilization for amandahowardx
2025-08-06 16:39:59 - INFO - 🔄 Starting continuous recording for corruption restart - Part 7
2025-08-06 16:39:59 - INFO - Starting continuous recording part 8 for amandahowardx
2025-08-06 16:40:04 - INFO - 🔄 Reusing cached stream URL for amandahowardx (age: 1114.0s)
2025-08-06 16:40:04 - INFO - Continuous recording part 8: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-40-04_cont8_flv.mp4
2025-08-06 16:40:04 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_amandahowardx_20250806_164004.log
2025-08-06 16:40:04 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\amandahowardx-2025-08-06_16-21-28\TK_amandahowardx_2025.08.06_16-40-04_cont8.mkv
2025-08-06 16:40:04 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738272740639682_or4.flv?expire=1755724890&sign=cead3e09c6b3b0571ca2d67d9a4b9e53
2025-08-06 16:40:04 - INFO - Executing FFmpeg command for amandahowardx
2025-08-06 16:40:04 - INFO - 🔍 Starting FFmpeg stderr monitor for amandahowardx
2025-08-06 16:40:04 - INFO - 🔍 Started memory guardian for amandahowardx (PID: 28868, threshold: 6.0%)
2025-08-06 16:40:34 - INFO - 📊 SIZE CHECK: Total=437.6MB (Current=12.4MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:40:34 - INFO - FFmpeg recording in progress for amandahowardx: 0.5 minutes
2025-08-06 16:41:04 - INFO - 📊 SIZE CHECK: Total=449.1MB (Current=24.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:41:04 - INFO - FFmpeg recording in progress for amandahowardx: 1.0 minutes
2025-08-06 16:41:34 - INFO - 📊 SIZE CHECK: Total=461.4MB (Current=36.2MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:41:34 - INFO - FFmpeg recording in progress for amandahowardx: 1.5 minutes
2025-08-06 16:42:05 - INFO - 📊 SIZE CHECK: Total=472.9MB (Current=47.8MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:42:05 - INFO - FFmpeg recording in progress for amandahowardx: 2.0 minutes
2025-08-06 16:42:35 - INFO - 📊 SIZE CHECK: Total=485.3MB (Current=60.1MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 16:42:35 - INFO - FFmpeg recording in progress for amandahowardx: 2.5 minutes
2025-08-06 16:42:51 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:42:51 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 16:42:58 - INFO - 🔍 FFmpeg stderr monitor finished for amandahowardx
2025-08-06 16:43:50 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 16:43:52 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 16:43:56 - INFO - Database connection initialized successfully
2025-08-06 16:43:58 - INFO - Checking and Installing dependencies...

2025-08-06 16:43:58 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754516638
2025-08-06 16:43:58 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 16:43:58 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:43:58 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:43:58 - INFO - User cache initialized with 3600s duration
2025-08-06 16:43:58 - INFO - User cache cleanup thread started
2025-08-06 16:43:59 - INFO -  ✅ Redis connection established
2025-08-06 16:43:59 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 16:43:59 - ERROR - ❌ Failed to initialize worker: 'UploadManager' object has no attribute 'set_recording_service'
2025-08-06 16:43:59 - ERROR - ❌ Worker error: 'UploadManager' object has no attribute 'set_recording_service'
2025-08-06 16:43:59 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754516638
2025-08-06 16:43:59 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754516638 shutdown complete
2025-08-06 16:55:12 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 16:55:14 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 16:55:18 - INFO - Database connection initialized successfully
2025-08-06 16:55:20 - INFO - Checking and Installing dependencies...

2025-08-06 16:55:20 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754517320
2025-08-06 16:55:20 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 16:55:20 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:55:20 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:55:20 - INFO - User cache initialized with 3600s duration
2025-08-06 16:55:20 - INFO - User cache cleanup thread started
2025-08-06 16:55:21 - INFO -  ✅ Redis connection established
2025-08-06 16:55:21 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 16:55:21 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 16:55:21 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 16:55:21 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 16:55:21 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 16:55:21 - INFO - 👷 Worker-1 started
2025-08-06 16:55:21 - INFO - 👷 Worker-2 started
2025-08-06 16:55:21 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:55:21 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:55:21 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 16:55:22 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754517320 registered from DESKTOP-U62C3NA
2025-08-06 16:55:22 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754517320 initialized successfully
2025-08-06 16:55:22 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 16:55:22 - INFO -    IP: 192.168.1.11
2025-08-06 16:55:22 - INFO -    Max concurrent jobs: 5
2025-08-06 16:55:22 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754517320
2025-08-06 16:55:22 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754517320 started processing jobs
2025-08-06 16:55:24 - INFO - 📥 Job 5eadabfe-61f8-4433-86b1-32b65afa0e2f assigned to worker worker_DESKTOP-U62C3NA_1754517320
2025-08-06 16:55:24 - INFO - 🎥 Processing job 5eadabfe-61f8-4433-86b1-32b65afa0e2f for aiinaaortiiz_2.0
2025-08-06 16:55:24 - INFO - 📝 Job 5eadabfe-61f8-4433-86b1-32b65afa0e2f status updated to in_progress
2025-08-06 16:55:24 - INFO - 🎥 Worker starting recording for aiinaaortiiz_2.0 (user: 1268285169, chat: 1268285169)
2025-08-06 16:55:24 - INFO - Cache DISABLED: Fetching fresh room_id for aiinaaortiiz_2.0 from API
2025-08-06 16:55:24 - INFO - PRIMARY: Using TikTok API for room_id extraction of aiinaaortiiz_2.0
2025-08-06 16:55:25 - INFO - ✅ TikTok API successful for aiinaaortiiz_2.0: 7535589902389021462
2025-08-06 16:55:26 - INFO - Logged room_id for aiinaaortiiz_2.0: 7535589902389021462 (cache disabled, DB log only)
2025-08-06 16:55:26 - INFO - PRIMARY TikTok API successful for room ID of aiinaaortiiz_2.0: 7535589902389021462
2025-08-06 16:55:26 - INFO - ✅ User aiinaaortiiz_2.0 validated as live with room_id: 7535589902389021462
2025-08-06 16:55:27 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 16:55:27 - INFO - 🎯 Created master recording: aiinaaortiiz_2.0_1754517324_1268285169
2025-08-06 16:55:29 - INFO - ✅ Redis state updated for recording: aiinaaortiiz_2.0_1754517324_1268285169
2025-08-06 16:55:29 - INFO - 🎬 Starting TikTokRecorder for aiinaaortiiz_2.0
2025-08-06 16:55:29 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 16:55:29 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 16:55:29 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_aiinaaortiiz_2.0_1754517329.json
2025-08-06 16:55:29 - INFO - 🔍 RealtimeVideoSampler initialized for aiinaaortiiz_2.0 - interval: 30s, threshold: 30.0%
2025-08-06 16:55:29 - INFO - Using provided room_id: 7535589902389021462 for user: aiinaaortiiz_2.0
2025-08-06 16:55:29 - INFO - USERNAME: aiinaaortiiz_2.0
2025-08-06 16:55:29 - INFO - ROOM_ID:  7535589902389021462
2025-08-06 16:55:30 - INFO - 🌐 Fetching fresh stream URL for aiinaaortiiz_2.0
2025-08-06 16:55:30 - INFO - ✅ Stream URL cached for aiinaaortiiz_2.0 (valid for 20.0 minutes)
2025-08-06 16:55:30 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535590055302269719_or4.flv?expire=1755726930&sign=46aaeeeee289988799f25032ca7e3685
2025-08-06 16:55:30 - INFO - 📁 Created session folder: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\
2025-08-06 16:55:30 - INFO - Started recording...
2025-08-06 16:55:30 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 16:55:30 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_aiinaaortiiz_2.0_20250806_165530.log
2025-08-06 16:55:30 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_16-55-30.mkv
2025-08-06 16:55:30 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535590055302269719_or4.flv?expire=1755726930&sign=46aaeeeee289988799f25032ca7e3685
2025-08-06 16:55:30 - INFO - Executing FFmpeg command for aiinaaortiiz_2.0
2025-08-06 16:55:30 - INFO - 🔍 Starting FFmpeg stderr monitor for aiinaaortiiz_2.0
2025-08-06 16:55:30 - INFO - 🔍 Started memory guardian for aiinaaortiiz_2.0 (PID: 13900, threshold: 6.0%)
2025-08-06 16:55:31 - INFO - 📝 Job 5eadabfe-61f8-4433-86b1-32b65afa0e2f status updated to completed
2025-08-06 16:55:31 - INFO - ✅ Recording job 5eadabfe-61f8-4433-86b1-32b65afa0e2f completed for aiinaaortiiz_2.0
2025-08-06 16:56:01 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 0.5 minutes
2025-08-06 16:56:31 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 1.0 minutes
2025-08-06 16:57:01 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 1.5 minutes
2025-08-06 16:57:31 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 2.0 minutes
2025-08-06 16:58:01 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 2.5 minutes
2025-08-06 16:58:31 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 3.0 minutes
2025-08-06 16:59:02 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 3.5 minutes
2025-08-06 16:59:32 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 4.0 minutes
2025-08-06 17:00:02 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 4.5 minutes
2025-08-06 17:00:32 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 5.0 minutes
2025-08-06 17:01:02 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 5.5 minutes
2025-08-06 17:01:32 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 6.0 minutes
2025-08-06 17:02:03 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 6.5 minutes
2025-08-06 17:02:33 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 7.0 minutes
2025-08-06 17:03:03 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 7.5 minutes
2025-08-06 17:03:33 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 8.0 minutes
2025-08-06 17:04:04 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 8.5 minutes
2025-08-06 17:04:34 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 9.1 minutes
2025-08-06 17:05:04 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 9.6 minutes
2025-08-06 17:05:34 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 10.1 minutes
2025-08-06 17:06:05 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 10.6 minutes
2025-08-06 17:06:35 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 11.1 minutes
2025-08-06 17:07:05 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 11.6 minutes
2025-08-06 17:07:35 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 12.1 minutes
2025-08-06 17:08:06 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 12.6 minutes
2025-08-06 17:08:36 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 13.1 minutes
2025-08-06 17:09:06 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 13.6 minutes
2025-08-06 17:09:36 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 14.1 minutes
2025-08-06 17:10:06 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 14.6 minutes
2025-08-06 17:10:37 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 15.1 minutes
2025-08-06 17:11:07 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 15.6 minutes
2025-08-06 17:11:17 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:11:19 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:11:23 - INFO - Database connection initialized successfully
2025-08-06 17:11:25 - INFO - Checking and Installing dependencies...

2025-08-06 17:11:25 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518285
2025-08-06 17:11:25 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:11:25 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:11:25 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:11:25 - INFO - User cache initialized with 3600s duration
2025-08-06 17:11:25 - INFO - User cache cleanup thread started
2025-08-06 17:11:27 - INFO -  ✅ Redis connection established
2025-08-06 17:11:27 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:11:27 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:11:27 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:11:27 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:11:27 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:11:27 - INFO - 👷 Worker-1 started
2025-08-06 17:11:27 - INFO - 👷 Worker-2 started
2025-08-06 17:11:27 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:11:27 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:11:27 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:11:27 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518285 registered from DESKTOP-U62C3NA
2025-08-06 17:11:27 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518285 initialized successfully
2025-08-06 17:11:27 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:11:27 - INFO -    IP: 192.168.1.11
2025-08-06 17:11:27 - INFO -    Max concurrent jobs: 5
2025-08-06 17:11:27 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518285
2025-08-06 17:11:27 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518285 started processing jobs
2025-08-06 17:11:29 - INFO - 📥 Job f569840f-df6b-49f4-b1b0-46b98cdbc506 assigned to worker worker_DESKTOP-U62C3NA_1754517320
2025-08-06 17:11:29 - INFO - 🎥 Processing job f569840f-df6b-49f4-b1b0-46b98cdbc506 for lulimenendez_
2025-08-06 17:11:29 - INFO - 📝 Job f569840f-df6b-49f4-b1b0-46b98cdbc506 status updated to in_progress
2025-08-06 17:11:29 - INFO - 🎥 Worker starting recording for lulimenendez_ (user: 1268285169, chat: 1268285169)
2025-08-06 17:11:29 - INFO - Cache DISABLED: Fetching fresh room_id for lulimenendez_ from API
2025-08-06 17:11:29 - INFO - PRIMARY: Using TikTok API for room_id extraction of lulimenendez_
2025-08-06 17:11:30 - INFO - ✅ TikTok API successful for lulimenendez_: 7535597667558017814
2025-08-06 17:11:31 - INFO - Logged room_id for lulimenendez_: 7535597667558017814 (cache disabled, DB log only)
2025-08-06 17:11:31 - INFO - PRIMARY TikTok API successful for room ID of lulimenendez_: 7535597667558017814
2025-08-06 17:11:31 - INFO - ✅ User lulimenendez_ validated as live with room_id: 7535597667558017814
2025-08-06 17:11:32 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 17:11:32 - INFO - 🎯 Created master recording: lulimenendez__1754518289_1268285169
2025-08-06 17:11:34 - INFO - ✅ Redis state updated for recording: lulimenendez__1754518289_1268285169
2025-08-06 17:11:34 - INFO - 🎬 Starting TikTokRecorder for lulimenendez_
2025-08-06 17:11:34 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:11:34 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:11:34 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_lulimenendez__1754518294.json
2025-08-06 17:11:34 - INFO - 🔍 RealtimeVideoSampler initialized for lulimenendez_ - interval: 30s, threshold: 30.0%
2025-08-06 17:11:34 - INFO - Using provided room_id: 7535597667558017814 for user: lulimenendez_
2025-08-06 17:11:34 - INFO - USERNAME: lulimenendez_
2025-08-06 17:11:34 - INFO - ROOM_ID:  7535597667558017814
2025-08-06 17:11:35 - INFO - 🌐 Fetching fresh stream URL for lulimenendez_
2025-08-06 17:11:35 - INFO - ✅ Stream URL cached for lulimenendez_ (valid for 20.0 minutes)
2025-08-06 17:11:35 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535598165399997206_or4.flv?expire=1755727895&sign=6b733df19cf5dae4fa053c4b0334c721
2025-08-06 17:11:35 - INFO - 📁 Created session folder: D:/recordings/organized\lulimenendez_-2025-08-06_17-11-34\
2025-08-06 17:11:35 - INFO - Started recording...
2025-08-06 17:11:35 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 17:11:35 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_lulimenendez__20250806_171135.log
2025-08-06 17:11:35 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\lulimenendez_-2025-08-06_17-11-34\TK_lulimenendez__2025.08.06_17-11-35.mkv
2025-08-06 17:11:35 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535598165399997206_or4.flv?expire=1755727895&sign=6b733df19cf5dae4fa053c4b0334c721
2025-08-06 17:11:35 - INFO - Executing FFmpeg command for lulimenendez_
2025-08-06 17:11:35 - INFO - 🔍 Starting FFmpeg stderr monitor for lulimenendez_
2025-08-06 17:11:35 - INFO - 🔍 Started memory guardian for lulimenendez_ (PID: 12264, threshold: 6.0%)
2025-08-06 17:11:36 - INFO - 📝 Job f569840f-df6b-49f4-b1b0-46b98cdbc506 status updated to completed
2025-08-06 17:11:36 - INFO - ✅ Recording job f569840f-df6b-49f4-b1b0-46b98cdbc506 completed for lulimenendez_
2025-08-06 17:11:37 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 16.1 minutes
2025-08-06 17:12:06 - INFO - FFmpeg recording in progress for lulimenendez_: 0.5 minutes
2025-08-06 17:12:07 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 16.6 minutes
2025-08-06 17:12:07 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:12:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:12:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:12:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:12:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:12:16 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:12:17 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:12:22 - INFO - Database connection initialized successfully
2025-08-06 17:12:24 - INFO - Checking and Installing dependencies...

2025-08-06 17:12:24 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518344
2025-08-06 17:12:24 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:12:24 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:12:24 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:12:24 - INFO - User cache initialized with 3600s duration
2025-08-06 17:12:24 - INFO - User cache cleanup thread started
2025-08-06 17:12:26 - INFO -  ✅ Redis connection established
2025-08-06 17:12:26 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:12:26 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:12:26 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:12:26 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:12:26 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:12:26 - INFO - 👷 Worker-1 started
2025-08-06 17:12:26 - INFO - 👷 Worker-2 started
2025-08-06 17:12:26 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:12:26 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:12:26 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:12:26 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518344 registered from DESKTOP-U62C3NA
2025-08-06 17:12:26 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518344 initialized successfully
2025-08-06 17:12:26 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:12:26 - INFO -    IP: 192.168.1.11
2025-08-06 17:12:26 - INFO -    Max concurrent jobs: 5
2025-08-06 17:12:26 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518344
2025-08-06 17:12:26 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518344 started processing jobs
2025-08-06 17:12:36 - INFO - FFmpeg recording in progress for lulimenendez_: 1.0 minutes
2025-08-06 17:12:37 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 17.1 minutes
2025-08-06 17:12:43 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:12:43 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:13:06 - INFO - FFmpeg recording in progress for lulimenendez_: 1.5 minutes
2025-08-06 17:13:08 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 17.6 minutes
2025-08-06 17:13:14 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:13:16 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:13:20 - INFO - Database connection initialized successfully
2025-08-06 17:13:20 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for aiinaaortiiz_2.0: time=00:17:55.37 (#1)
2025-08-06 17:13:20 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for aiinaaortiiz_2.0 - triggering immediate restart
2025-08-06 17:13:20 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for aiinaaortiiz_2.0
2025-08-06 17:13:20 - INFO - 🔍 FFmpeg stderr monitor finished for aiinaaortiiz_2.0
2025-08-06 17:13:21 - WARNING - 🚨 CORRUPTION DETECTED for aiinaaortiiz_2.0, stopping current recording to restart
2025-08-06 17:13:21 - INFO - Starting graceful FFmpeg termination for aiinaaortiiz_2.0 - Reason: corruption detected
2025-08-06 17:13:21 - INFO - Sending 'q' command to FFmpeg for aiinaaortiiz_2.0
2025-08-06 17:13:21 - INFO - Waiting 30s for FFmpeg to complete container headers for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - FFmpeg terminated cleanly via stdin for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - FFmpeg recording completed successfully for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_aiinaaortiiz_2.0_20250806_165530.log (245.5KB)
2025-08-06 17:13:22 - INFO - ✅ No corruption patterns detected for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_16-55-30.mkv (348.0MB)
2025-08-06 17:13:22 - INFO - Added recording part 1 for aiinaaortiiz_2.0: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_16-55-30.mkv
2025-08-06 17:13:22 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - 🔍 Starting robust live verification for aiinaaortiiz_2.0 (2min validation period)
2025-08-06 17:13:22 - INFO - 🔍 Checking if aiinaaortiiz_2.0 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 17:13:22 - INFO - ✅ User aiinaaortiiz_2.0 confirmed still live after 0s (attempt 1)
2025-08-06 17:13:22 - INFO - ✅ User aiinaaortiiz_2.0 still live, attempting restart with retry logic...
2025-08-06 17:13:22 - INFO - 🔄 Restart attempt 1/3 for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - 🔄 Using cached stream URL for corruption restart: aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - ⏳ Waiting 1s for stream stabilization for aiinaaortiiz_2.0
2025-08-06 17:13:22 - INFO - Checking and Installing dependencies...

2025-08-06 17:13:22 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518402
2025-08-06 17:13:22 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:13:22 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:13:22 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:13:22 - INFO - User cache initialized with 3600s duration
2025-08-06 17:13:22 - INFO - User cache cleanup thread started
2025-08-06 17:13:23 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 17:13:23 - INFO - Starting continuous recording part 2 for aiinaaortiiz_2.0
2025-08-06 17:13:24 - INFO -  ✅ Redis connection established
2025-08-06 17:13:24 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:13:24 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:13:24 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:13:24 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:13:24 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:13:24 - INFO - 👷 Worker-1 started
2025-08-06 17:13:24 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:13:24 - INFO - 👷 Worker-2 started
2025-08-06 17:13:24 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:13:24 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:13:24 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518402 registered from DESKTOP-U62C3NA
2025-08-06 17:13:24 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518402 initialized successfully
2025-08-06 17:13:24 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:13:24 - INFO -    IP: 192.168.1.11
2025-08-06 17:13:24 - INFO -    Max concurrent jobs: 5
2025-08-06 17:13:24 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518402
2025-08-06 17:13:24 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518402 started processing jobs
2025-08-06 17:13:28 - INFO - 🔄 Reusing cached stream URL for aiinaaortiiz_2.0 (age: 1078.1s)
2025-08-06 17:13:28 - INFO - Continuous recording part 2: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_17-13-28_cont2_flv.mp4
2025-08-06 17:13:28 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_aiinaaortiiz_2.0_20250806_171328.log
2025-08-06 17:13:28 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_17-13-28_cont2.mkv
2025-08-06 17:13:28 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535590055302269719_or4.flv?expire=1755726930&sign=46aaeeeee289988799f25032ca7e3685
2025-08-06 17:13:28 - INFO - Executing FFmpeg command for aiinaaortiiz_2.0
2025-08-06 17:13:28 - INFO - 🔍 Starting FFmpeg stderr monitor for aiinaaortiiz_2.0
2025-08-06 17:13:28 - INFO - 🔍 Started memory guardian for aiinaaortiiz_2.0 (PID: 28484, threshold: 6.0%)
2025-08-06 17:13:31 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for aiinaaortiiz_2.0: time=00:00:08.63 (#1)
2025-08-06 17:13:31 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for aiinaaortiiz_2.0 - triggering immediate restart
2025-08-06 17:13:31 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for aiinaaortiiz_2.0
2025-08-06 17:13:31 - INFO - 🔍 FFmpeg stderr monitor finished for aiinaaortiiz_2.0
2025-08-06 17:13:32 - WARNING - 🚨 CORRUPTION DETECTED for aiinaaortiiz_2.0, stopping current recording to restart
2025-08-06 17:13:32 - INFO - Starting graceful FFmpeg termination for aiinaaortiiz_2.0 - Reason: corruption detected
2025-08-06 17:13:32 - INFO - Sending 'q' command to FFmpeg for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - Waiting 30s for FFmpeg to complete container headers for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - FFmpeg terminated cleanly via stdin for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - FFmpeg recording completed successfully for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_aiinaaortiiz_2.0_20250806_171328.log (7.5KB)
2025-08-06 17:13:32 - INFO - ✅ No corruption patterns detected for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_17-13-28_cont2.mkv (2.3MB)
2025-08-06 17:13:32 - INFO - Added recording part 2 for aiinaaortiiz_2.0: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_17-13-28_cont2.mkv
2025-08-06 17:13:32 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - 🔍 Starting robust live verification for aiinaaortiiz_2.0 (2min validation period)
2025-08-06 17:13:32 - INFO - 🔍 Checking if aiinaaortiiz_2.0 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 17:13:32 - INFO - ✅ User aiinaaortiiz_2.0 confirmed still live after 0s (attempt 1)
2025-08-06 17:13:32 - INFO - ✅ User aiinaaortiiz_2.0 still live, attempting restart with retry logic...
2025-08-06 17:13:32 - INFO - 🔄 Restart attempt 1/3 for aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - 🔄 Using cached stream URL for corruption restart: aiinaaortiiz_2.0
2025-08-06 17:13:32 - INFO - ⏳ Waiting 1s for stream stabilization for aiinaaortiiz_2.0
2025-08-06 17:13:33 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 17:13:33 - INFO - Starting continuous recording part 3 for aiinaaortiiz_2.0
2025-08-06 17:13:36 - INFO - FFmpeg recording in progress for lulimenendez_: 2.0 minutes
2025-08-06 17:13:37 - INFO - 📥 Job b9742bd7-2b22-4703-b6d6-046ed017176d assigned to worker worker_DESKTOP-U62C3NA_1754517320
2025-08-06 17:13:37 - INFO - 🎥 Processing job b9742bd7-2b22-4703-b6d6-046ed017176d for lulimenendez_
2025-08-06 17:13:37 - INFO - 📝 Job b9742bd7-2b22-4703-b6d6-046ed017176d status updated to in_progress
2025-08-06 17:13:37 - INFO - 🎥 Worker starting recording for lulimenendez_ (user: 1268285169, chat: 1268285169)
2025-08-06 17:13:37 - INFO - Cache DISABLED: Fetching fresh room_id for lulimenendez_ from API
2025-08-06 17:13:37 - INFO - PRIMARY: Using TikTok API for room_id extraction of lulimenendez_
2025-08-06 17:13:38 - INFO - ✅ TikTok API successful for lulimenendez_: 7535597667558017814
2025-08-06 17:13:38 - INFO - 🔄 Reusing cached stream URL for aiinaaortiiz_2.0 (age: 1088.4s)
2025-08-06 17:13:38 - INFO - Continuous recording part 3: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_17-13-38_cont3_flv.mp4
2025-08-06 17:13:38 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_aiinaaortiiz_2.0_20250806_171338.log
2025-08-06 17:13:38 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\aiinaaortiiz_2.0-2025-08-06_16-55-29\TK_aiinaaortiiz_2.0_2025.08.06_17-13-38_cont3.mkv
2025-08-06 17:13:38 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535590055302269719_or4.flv?expire=1755726930&sign=46aaeeeee289988799f25032ca7e3685
2025-08-06 17:13:38 - INFO - Executing FFmpeg command for aiinaaortiiz_2.0
2025-08-06 17:13:38 - INFO - 🔍 Starting FFmpeg stderr monitor for aiinaaortiiz_2.0
2025-08-06 17:13:38 - INFO - 🔍 Started memory guardian for aiinaaortiiz_2.0 (PID: 11856, threshold: 6.0%)
2025-08-06 17:13:39 - INFO - Logged room_id for lulimenendez_: 7535597667558017814 (cache disabled, DB log only)
2025-08-06 17:13:39 - INFO - PRIMARY TikTok API successful for room ID of lulimenendez_: 7535597667558017814
2025-08-06 17:13:39 - INFO - ✅ User lulimenendez_ validated as live with room_id: 7535597667558017814
2025-08-06 17:13:40 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 17:13:40 - INFO - 🎯 Created master recording: lulimenendez__1754518417_1268285169
2025-08-06 17:13:41 - INFO - ✅ Redis state updated for recording: lulimenendez__1754518417_1268285169
2025-08-06 17:13:41 - INFO - 🎬 Starting TikTokRecorder for lulimenendez_
2025-08-06 17:13:41 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:13:41 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:13:41 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_lulimenendez__1754518421.json
2025-08-06 17:13:41 - INFO - 🔍 RealtimeVideoSampler initialized for lulimenendez_ - interval: 30s, threshold: 30.0%
2025-08-06 17:13:42 - INFO - Using provided room_id: 7535597667558017814 for user: lulimenendez_
2025-08-06 17:13:42 - INFO - USERNAME: lulimenendez_
2025-08-06 17:13:42 - INFO - ROOM_ID:  7535597667558017814
2025-08-06 17:13:42 - INFO - 🌐 Fetching fresh stream URL for lulimenendez_
2025-08-06 17:13:43 - INFO - ✅ Stream URL cached for lulimenendez_ (valid for 20.0 minutes)
2025-08-06 17:13:43 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535598165399997206_or4.flv?expire=1755728023&sign=d026718c06faa05289a18a3b140cd1f7
2025-08-06 17:13:43 - INFO - 📁 Created session folder: D:/recordings/organized\lulimenendez_-2025-08-06_17-13-41\
2025-08-06 17:13:43 - INFO - Started recording...
2025-08-06 17:13:43 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 17:13:43 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_lulimenendez__20250806_171343.log
2025-08-06 17:13:43 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\lulimenendez_-2025-08-06_17-13-41\TK_lulimenendez__2025.08.06_17-13-43.mkv
2025-08-06 17:13:43 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535598165399997206_or4.flv?expire=1755728023&sign=d026718c06faa05289a18a3b140cd1f7
2025-08-06 17:13:43 - INFO - Executing FFmpeg command for lulimenendez_
2025-08-06 17:13:43 - INFO - 🔍 Starting FFmpeg stderr monitor for lulimenendez_
2025-08-06 17:13:43 - INFO - 🔍 Started memory guardian for lulimenendez_ (PID: 21632, threshold: 6.0%)
2025-08-06 17:13:44 - INFO - 📝 Job b9742bd7-2b22-4703-b6d6-046ed017176d status updated to completed
2025-08-06 17:13:44 - INFO - ✅ Recording job b9742bd7-2b22-4703-b6d6-046ed017176d completed for lulimenendez_
2025-08-06 17:14:06 - INFO - FFmpeg recording in progress for lulimenendez_: 2.5 minutes
2025-08-06 17:14:08 - INFO - 📊 SIZE CHECK: Total=356.6MB (Current=6.4MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 17:14:08 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 0.5 minutes
2025-08-06 17:14:13 - INFO - FFmpeg recording in progress for lulimenendez_: 0.5 minutes
2025-08-06 17:14:36 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:14:37 - INFO - FFmpeg recording in progress for lulimenendez_: 3.0 minutes
2025-08-06 17:14:37 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:14:37 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:14:37 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:14:39 - INFO - 📊 SIZE CHECK: Total=365.3MB (Current=15.0MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 17:14:39 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 1.0 minutes
2025-08-06 17:14:43 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:14:44 - INFO - User lulimenendez_ is no longer live, stopping FFmpeg recording cleanly
2025-08-06 17:14:44 - INFO - Starting graceful FFmpeg termination for lulimenendez_ - Reason: user no longer live
2025-08-06 17:14:44 - INFO - Sending 'q' command to FFmpeg for lulimenendez_
2025-08-06 17:14:44 - INFO - Waiting 30s for FFmpeg to complete container headers for lulimenendez_
2025-08-06 17:14:44 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for lulimenendez_: time=00:01:06.80 (#1)
2025-08-06 17:14:44 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for lulimenendez_ - triggering immediate restart
2025-08-06 17:14:44 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for lulimenendez_
2025-08-06 17:14:44 - INFO - 🔍 FFmpeg stderr monitor finished for lulimenendez_
2025-08-06 17:14:44 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for lulimenendez_: time=00:03:15.19 (#1)
2025-08-06 17:14:44 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for lulimenendez_ - triggering immediate restart
2025-08-06 17:14:44 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for lulimenendez_
2025-08-06 17:14:44 - INFO - 🔍 FFmpeg stderr monitor finished for lulimenendez_
2025-08-06 17:14:45 - WARNING - 🚨 CORRUPTION DETECTED for lulimenendez_, stopping current recording to restart
2025-08-06 17:14:45 - INFO - Starting graceful FFmpeg termination for lulimenendez_ - Reason: corruption detected
2025-08-06 17:14:45 - INFO - Sending 'q' command to FFmpeg for lulimenendez_
2025-08-06 17:14:45 - INFO - Waiting 30s for FFmpeg to complete container headers for lulimenendez_
2025-08-06 17:14:45 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:14:46 - INFO - FFmpeg terminated cleanly via stdin for lulimenendez_
2025-08-06 17:14:46 - INFO - FFmpeg recording completed successfully for lulimenendez_
2025-08-06 17:14:46 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_lulimenendez__20250806_171343.log (20.3KB)
2025-08-06 17:14:46 - INFO - ✅ No corruption patterns detected for lulimenendez_
2025-08-06 17:14:46 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\lulimenendez_-2025-08-06_17-13-41\TK_lulimenendez__2025.08.06_17-13-43.mkv (25.6MB)
2025-08-06 17:14:46 - INFO - Added recording part 1 for lulimenendez_: D:/recordings/organized\lulimenendez_-2025-08-06_17-13-41\TK_lulimenendez__2025.08.06_17-13-43.mkv
2025-08-06 17:14:46 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for lulimenendez_
2025-08-06 17:14:46 - INFO - 🔍 Starting robust live verification for lulimenendez_ (2min validation period)
2025-08-06 17:14:46 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 17:14:46 - INFO - FFmpeg terminated cleanly via stdin for lulimenendez_
2025-08-06 17:14:46 - INFO - FFmpeg recording completed successfully for lulimenendez_
2025-08-06 17:14:46 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_lulimenendez__20250806_171135.log (48.9KB)
2025-08-06 17:14:46 - INFO - ✅ No corruption patterns detected for lulimenendez_
2025-08-06 17:14:46 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\lulimenendez_-2025-08-06_17-11-34\TK_lulimenendez__2025.08.06_17-11-35.mkv (75.8MB)
2025-08-06 17:14:46 - INFO - Added recording part 1 for lulimenendez_: D:/recordings/organized\lulimenendez_-2025-08-06_17-11-34\TK_lulimenendez__2025.08.06_17-11-35.mkv
2025-08-06 17:14:46 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for lulimenendez_
2025-08-06 17:14:46 - INFO - 🔍 Starting robust live verification for lulimenendez_ (2min validation period)
2025-08-06 17:14:46 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 17:14:46 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 1
2025-08-06 17:14:46 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:14:46 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 1
2025-08-06 17:14:46 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:14:50 - INFO - Database connection initialized successfully
2025-08-06 17:14:52 - INFO - Checking and Installing dependencies...

2025-08-06 17:14:52 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518492
2025-08-06 17:14:52 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:14:52 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:14:52 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:14:52 - INFO - User cache initialized with 3600s duration
2025-08-06 17:14:52 - INFO - User cache cleanup thread started
2025-08-06 17:14:53 - INFO -  ✅ Redis connection established
2025-08-06 17:14:53 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:14:53 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:14:53 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:14:53 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:14:53 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:14:53 - INFO - 👷 Worker-1 started
2025-08-06 17:14:53 - INFO - 👷 Worker-2 started
2025-08-06 17:14:53 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:14:53 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:14:53 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:14:53 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518492 registered from DESKTOP-U62C3NA
2025-08-06 17:14:53 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518492 initialized successfully
2025-08-06 17:14:53 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:14:53 - INFO -    IP: 192.168.1.11
2025-08-06 17:14:53 - INFO -    Max concurrent jobs: 5
2025-08-06 17:14:53 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518492
2025-08-06 17:14:53 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518492 started processing jobs
2025-08-06 17:14:56 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 17:14:56 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 2
2025-08-06 17:14:56 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:14:56 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 17:14:56 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 2
2025-08-06 17:14:56 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:06 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 17:15:06 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 3
2025-08-06 17:15:06 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:06 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 17:15:06 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 3
2025-08-06 17:15:06 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:09 - INFO - 📊 SIZE CHECK: Total=374.9MB (Current=24.7MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 17:15:09 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 1.5 minutes
2025-08-06 17:15:16 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 4, 30s/120s, 90s remaining)
2025-08-06 17:15:16 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 4
2025-08-06 17:15:16 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:16 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 4, 31s/120s, 89s remaining)
2025-08-06 17:15:16 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 4
2025-08-06 17:15:16 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:26 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 17:15:26 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 5
2025-08-06 17:15:26 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:26 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 17:15:27 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 5
2025-08-06 17:15:27 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:36 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 17:15:36 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 6
2025-08-06 17:15:36 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:37 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 17:15:37 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 6
2025-08-06 17:15:37 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:39 - INFO - 📊 SIZE CHECK: Total=385.1MB (Current=34.9MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 17:15:39 - INFO - FFmpeg recording in progress for aiinaaortiiz_2.0: 2.0 minutes
2025-08-06 17:15:46 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 17:15:47 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 7
2025-08-06 17:15:47 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:47 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 17:15:47 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 7
2025-08-06 17:15:47 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:57 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 17:15:57 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 8
2025-08-06 17:15:57 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:15:57 - INFO - 🔍 Checking if lulimenendez_ still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 17:15:57 - WARNING - ⚠️ User lulimenendez_ appears offline on attempt 8
2025-08-06 17:15:57 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:16:01 - INFO - 🔍 FFmpeg stderr monitor finished for aiinaaortiiz_2.0
2025-08-06 17:16:27 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:16:27 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:16:27 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:16:28 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:16:28 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:16:28 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:16:35 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:16:37 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:16:42 - INFO - Database connection initialized successfully
2025-08-06 17:16:44 - INFO - Checking and Installing dependencies...

2025-08-06 17:16:44 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518604
2025-08-06 17:16:44 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:16:44 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:16:44 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:16:44 - INFO - User cache initialized with 3600s duration
2025-08-06 17:16:44 - INFO - User cache cleanup thread started
2025-08-06 17:16:45 - INFO -  ✅ Redis connection established
2025-08-06 17:16:45 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:16:45 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:16:45 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:16:45 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:16:45 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:16:45 - INFO - 👷 Worker-1 started
2025-08-06 17:16:45 - INFO - 👷 Worker-2 started
2025-08-06 17:16:45 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:16:45 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:16:45 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:16:46 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518604 registered from DESKTOP-U62C3NA
2025-08-06 17:16:46 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518604 initialized successfully
2025-08-06 17:16:46 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:16:46 - INFO -    IP: 192.168.1.11
2025-08-06 17:16:46 - INFO -    Max concurrent jobs: 5
2025-08-06 17:16:46 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518604
2025-08-06 17:16:46 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518604 started processing jobs
2025-08-06 17:19:55 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:19:57 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:20:01 - INFO - Database connection initialized successfully
2025-08-06 17:20:03 - INFO - Checking and Installing dependencies...

2025-08-06 17:20:03 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518803
2025-08-06 17:20:03 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:20:03 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:20:03 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:20:03 - INFO - User cache initialized with 3600s duration
2025-08-06 17:20:03 - INFO - User cache cleanup thread started
2025-08-06 17:20:05 - INFO -  ✅ Redis connection established
2025-08-06 17:20:05 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:20:05 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:20:05 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:20:05 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:20:05 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:20:05 - INFO - 👷 Worker-1 started
2025-08-06 17:20:05 - INFO - 👷 Worker-2 started
2025-08-06 17:20:05 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:20:05 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:20:05 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:20:05 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518803 registered from DESKTOP-U62C3NA
2025-08-06 17:20:05 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518803 initialized successfully
2025-08-06 17:20:05 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:20:05 - INFO -    IP: 192.168.1.11
2025-08-06 17:20:05 - INFO -    Max concurrent jobs: 5
2025-08-06 17:20:05 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518803
2025-08-06 17:20:05 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518803 started processing jobs
2025-08-06 17:20:24 - INFO - 📥 Job 6e004008-3388-4ae1-b378-6376688a216d assigned to worker worker_DESKTOP-U62C3NA_1754518803
2025-08-06 17:20:24 - INFO - 🎥 Processing job 6e004008-3388-4ae1-b378-6376688a216d for nayaragarciaaa_
2025-08-06 17:20:24 - INFO - 📝 Job 6e004008-3388-4ae1-b378-6376688a216d status updated to in_progress
2025-08-06 17:20:25 - INFO - 🎥 Worker starting recording for nayaragarciaaa_ (user: 1268285169, chat: 1268285169)
2025-08-06 17:20:25 - INFO - Cache DISABLED: Fetching fresh room_id for nayaragarciaaa_ from API
2025-08-06 17:20:25 - INFO - PRIMARY: Using TikTok API for room_id extraction of nayaragarciaaa_
2025-08-06 17:20:25 - INFO - ✅ TikTok API successful for nayaragarciaaa_: 7535597780398951190
2025-08-06 17:20:26 - INFO - Logged room_id for nayaragarciaaa_: 7535597780398951190 (cache disabled, DB log only)
2025-08-06 17:20:26 - INFO - PRIMARY TikTok API successful for room ID of nayaragarciaaa_: 7535597780398951190
2025-08-06 17:20:27 - INFO - ✅ User nayaragarciaaa_ validated as live with room_id: 7535597780398951190
2025-08-06 17:20:27 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 17:20:28 - INFO - 🎯 Created master recording: nayaragarciaaa__1754518825_1268285169
2025-08-06 17:20:29 - INFO - ✅ Redis state updated for recording: nayaragarciaaa__1754518825_1268285169
2025-08-06 17:20:29 - INFO - 🎬 Starting TikTokRecorder for nayaragarciaaa_
2025-08-06 17:20:29 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:20:29 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:20:29 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_nayaragarciaaa__1754518829.json
2025-08-06 17:20:29 - INFO - 🔍 RealtimeVideoSampler initialized for nayaragarciaaa_ - interval: 30s, threshold: 30.0%
2025-08-06 17:20:30 - INFO - Using provided room_id: 7535597780398951190 for user: nayaragarciaaa_
2025-08-06 17:20:30 - INFO - USERNAME: nayaragarciaaa_
2025-08-06 17:20:30 - INFO - ROOM_ID:  7535597780398951190
2025-08-06 17:20:30 - INFO - 🌐 Fetching fresh stream URL for nayaragarciaaa_
2025-08-06 17:20:31 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 17:20:31 - INFO - Trying TikTokLive fallback for user 'nayaragarciaaa_' (room 7535597780398951190) due to: Live is private, login required. 
2025-08-06 17:20:31 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10054+none
2025-08-06 17:20:31 - INFO - 📝 Job 6e004008-3388-4ae1-b378-6376688a216d status updated to completed
2025-08-06 17:20:32 - INFO - ✅ Recording job 6e004008-3388-4ae1-b378-6376688a216d completed for nayaragarciaaa_
2025-08-06 17:20:36 - INFO - TikTokLive fallback: Room info obtenido para nayaragarciaaa_ (attempt 1)
2025-08-06 17:20:36 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 17:20:36 - INFO - TikTokLive fallback: Usando FLV URL con calidad FULL_HD1
2025-08-06 17:20:36 - INFO - TikTokLive fallback successful for nayaragarciaaa_
2025-08-06 17:20:36 - INFO - ✅ Stream URL cached for nayaragarciaaa_ (valid for 20.0 minutes)
2025-08-06 17:20:36 - INFO - Starting stream download from: https://pull-flv-f1-tt04.tiktokcdn.com/stage/stream-7535597914173786902_uhd.flv?expire=1755728434&sign=f48e51acccc0889dcf9f300c447cfcab
2025-08-06 17:20:36 - INFO - 📁 Created session folder: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-20-29\
2025-08-06 17:20:36 - INFO - Started recording...
2025-08-06 17:20:36 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 17:20:36 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nayaragarciaaa__20250806_172036.log
2025-08-06 17:20:36 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-20-29\TK_nayaragarciaaa__2025.08.06_17-20-36.mkv
2025-08-06 17:20:36 - INFO - Stream URL: https://pull-flv-f1-tt04.tiktokcdn.com/stage/stream-7535597914173786902_uhd.flv?expire=1755728434&sign=f48e51acccc0889dcf9f300c447cfcab
2025-08-06 17:20:36 - INFO - Executing FFmpeg command for nayaragarciaaa_
2025-08-06 17:20:36 - INFO - 🔍 Starting FFmpeg stderr monitor for nayaragarciaaa_
2025-08-06 17:20:36 - INFO - 🔍 Started memory guardian for nayaragarciaaa_ (PID: 29288, threshold: 6.0%)
2025-08-06 17:20:46 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:20:47 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:20:47 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:21:06 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 0.5 minutes
2025-08-06 17:21:36 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 1.0 minutes
2025-08-06 17:22:06 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 1.5 minutes
2025-08-06 17:22:19 - INFO - 🔍 FFmpeg stderr monitor finished for nayaragarciaaa_
2025-08-06 17:22:47 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:22:49 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:22:53 - INFO - Database connection initialized successfully
2025-08-06 17:22:55 - INFO - Checking and Installing dependencies...

2025-08-06 17:22:55 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754518975
2025-08-06 17:22:55 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:22:55 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:22:55 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:22:55 - INFO - User cache initialized with 3600s duration
2025-08-06 17:22:55 - INFO - User cache cleanup thread started
2025-08-06 17:22:57 - INFO -  ✅ Redis connection established
2025-08-06 17:22:57 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:22:57 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:22:57 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:22:57 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:22:57 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:22:57 - INFO - 👷 Worker-1 started
2025-08-06 17:22:57 - INFO - 👷 Worker-2 started
2025-08-06 17:22:57 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:22:57 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:22:57 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:22:57 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754518975 registered from DESKTOP-U62C3NA
2025-08-06 17:22:57 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754518975 initialized successfully
2025-08-06 17:22:57 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:22:57 - INFO -    IP: 192.168.1.11
2025-08-06 17:22:57 - INFO -    Max concurrent jobs: 5
2025-08-06 17:22:57 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754518975
2025-08-06 17:22:57 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754518975 started processing jobs
2025-08-06 17:23:05 - INFO - 📥 Job 30f38186-8642-4758-8136-e0be972a662d assigned to worker worker_DESKTOP-U62C3NA_1754518975
2025-08-06 17:23:05 - INFO - 🎥 Processing job 30f38186-8642-4758-8136-e0be972a662d for nayaragarciaaa_
2025-08-06 17:23:05 - INFO - 📝 Job 30f38186-8642-4758-8136-e0be972a662d status updated to in_progress
2025-08-06 17:23:06 - INFO - 🎥 Worker starting recording for nayaragarciaaa_ (user: 1268285169, chat: 1268285169)
2025-08-06 17:23:06 - INFO - Cache DISABLED: Fetching fresh room_id for nayaragarciaaa_ from API
2025-08-06 17:23:06 - INFO - PRIMARY: Using TikTok API for room_id extraction of nayaragarciaaa_
2025-08-06 17:23:07 - INFO - ✅ TikTok API successful for nayaragarciaaa_: 7535597780398951190
2025-08-06 17:23:07 - INFO - Logged room_id for nayaragarciaaa_: 7535597780398951190 (cache disabled, DB log only)
2025-08-06 17:23:07 - INFO - PRIMARY TikTok API successful for room ID of nayaragarciaaa_: 7535597780398951190
2025-08-06 17:23:08 - INFO - ✅ User nayaragarciaaa_ validated as live with room_id: 7535597780398951190
2025-08-06 17:23:08 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 17:23:09 - INFO - 🎯 Created master recording: nayaragarciaaa__1754518986_1268285169
2025-08-06 17:23:11 - INFO - ✅ Redis state updated for recording: nayaragarciaaa__1754518986_1268285169
2025-08-06 17:23:11 - INFO - 🎬 Starting TikTokRecorder for nayaragarciaaa_
2025-08-06 17:23:11 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:23:11 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:23:11 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_nayaragarciaaa__1754518991.json
2025-08-06 17:23:11 - INFO - 🔍 RealtimeVideoSampler initialized for nayaragarciaaa_ - interval: 30s, threshold: 30.0%
2025-08-06 17:23:12 - INFO - Using provided room_id: 7535597780398951190 for user: nayaragarciaaa_
2025-08-06 17:23:12 - INFO - USERNAME: nayaragarciaaa_
2025-08-06 17:23:12 - INFO - ROOM_ID:  7535597780398951190
2025-08-06 17:23:12 - INFO - 🌐 Fetching fresh stream URL for nayaragarciaaa_
2025-08-06 17:23:13 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 17:23:13 - INFO - Trying TikTokLive fallback for user 'nayaragarciaaa_' (room 7535597780398951190) due to: Live is private, login required. 
2025-08-06 17:23:13 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10015+none
2025-08-06 17:23:13 - INFO - 📝 Job 30f38186-8642-4758-8136-e0be972a662d status updated to completed
2025-08-06 17:23:13 - INFO - ✅ Recording job 30f38186-8642-4758-8136-e0be972a662d completed for nayaragarciaaa_
2025-08-06 17:23:18 - INFO - TikTokLive fallback: Room info obtenido para nayaragarciaaa_ (attempt 1)
2025-08-06 17:23:18 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 17:23:18 - INFO - TikTokLive fallback: Usando FLV URL con calidad FULL_HD1
2025-08-06 17:23:18 - INFO - TikTokLive fallback successful for nayaragarciaaa_
2025-08-06 17:23:18 - INFO - ✅ Stream URL cached for nayaragarciaaa_ (valid for 20.0 minutes)
2025-08-06 17:23:18 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535597914173786902_uhd.flv?expire=1755728597&sign=f5b8b61e30698ed3378fa014ff3317b0
2025-08-06 17:23:18 - INFO - 📁 Created session folder: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\
2025-08-06 17:23:18 - INFO - Started recording...
2025-08-06 17:23:18 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 17:23:18 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nayaragarciaaa__20250806_172318.log
2025-08-06 17:23:18 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv
2025-08-06 17:23:18 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535597914173786902_uhd.flv?expire=1755728597&sign=f5b8b61e30698ed3378fa014ff3317b0
2025-08-06 17:23:18 - INFO - Executing FFmpeg command for nayaragarciaaa_
2025-08-06 17:23:18 - INFO - 🔍 Starting FFmpeg stderr monitor for nayaragarciaaa_
2025-08-06 17:23:18 - INFO - 🔍 Started memory guardian for nayaragarciaaa_ (PID: 3288, threshold: 6.0%)
2025-08-06 17:23:48 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 0.5 minutes
2025-08-06 17:24:18 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 1.0 minutes
2025-08-06 17:24:48 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 1.5 minutes
2025-08-06 17:25:19 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 2.0 minutes
2025-08-06 17:25:49 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 2.5 minutes
2025-08-06 17:26:19 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 3.0 minutes
2025-08-06 17:26:49 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 3.5 minutes
2025-08-06 17:27:19 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 4.0 minutes
2025-08-06 17:27:49 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 4.5 minutes
2025-08-06 17:28:20 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 5.0 minutes
2025-08-06 17:28:50 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 5.5 minutes
2025-08-06 17:29:20 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 6.0 minutes
2025-08-06 17:29:50 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 6.5 minutes
2025-08-06 17:30:20 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 7.0 minutes
2025-08-06 17:30:51 - INFO - FFmpeg recording in progress for nayaragarciaaa_: 7.5 minutes
2025-08-06 17:31:20 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for nayaragarciaaa_: time=00:08:01.52 (#1)
2025-08-06 17:31:20 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for nayaragarciaaa_ - triggering immediate restart
2025-08-06 17:31:20 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for nayaragarciaaa_
2025-08-06 17:31:20 - INFO - 🔍 FFmpeg stderr monitor finished for nayaragarciaaa_
2025-08-06 17:31:21 - WARNING - 🚨 CORRUPTION DETECTED for nayaragarciaaa_, stopping current recording to restart
2025-08-06 17:31:21 - INFO - Starting graceful FFmpeg termination for nayaragarciaaa_ - Reason: corruption detected
2025-08-06 17:31:21 - INFO - Sending 'q' command to FFmpeg for nayaragarciaaa_
2025-08-06 17:31:21 - INFO - Waiting 30s for FFmpeg to complete container headers for nayaragarciaaa_
2025-08-06 17:31:21 - INFO - FFmpeg terminated cleanly via stdin for nayaragarciaaa_
2025-08-06 17:31:21 - INFO - FFmpeg recording completed successfully for nayaragarciaaa_
2025-08-06 17:31:21 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nayaragarciaaa__20250806_172318.log (114.7KB)
2025-08-06 17:31:21 - INFO - ✅ No corruption patterns detected for nayaragarciaaa_
2025-08-06 17:31:21 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv (61.1MB)
2025-08-06 17:31:21 - INFO - Added recording part 1 for nayaragarciaaa_: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv
2025-08-06 17:31:21 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for nayaragarciaaa_
2025-08-06 17:31:21 - INFO - 🔍 Starting robust live verification for nayaragarciaaa_ (2min validation period)
2025-08-06 17:31:21 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 17:31:21 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 1
2025-08-06 17:31:21 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:31:31 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 17:31:31 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 2
2025-08-06 17:31:31 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:31:41 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 17:31:41 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 3
2025-08-06 17:31:41 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:31:51 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 4, 31s/120s, 89s remaining)
2025-08-06 17:31:52 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 4
2025-08-06 17:31:52 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:32:02 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 17:32:02 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 5
2025-08-06 17:32:02 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:32:12 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 17:32:12 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 6
2025-08-06 17:32:12 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:32:22 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 17:32:22 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 7
2025-08-06 17:32:22 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:32:32 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 17:32:32 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 8
2025-08-06 17:32:32 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:32:42 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 17:32:42 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 9
2025-08-06 17:32:42 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:32:52 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 10, 92s/120s, 28s remaining)
2025-08-06 17:32:53 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 10
2025-08-06 17:32:53 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:33:03 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 11, 102s/120s, 18s remaining)
2025-08-06 17:33:03 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 11
2025-08-06 17:33:03 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 17:33:13 - INFO - 🔍 Checking if nayaragarciaaa_ still live (attempt 12, 112s/120s, 8s remaining)
2025-08-06 17:33:13 - WARNING - ⚠️ User nayaragarciaaa_ appears offline on attempt 12
2025-08-06 17:33:13 - INFO - ❌ User nayaragarciaaa_ confirmed offline after 2 minutes of validation
2025-08-06 17:33:13 - INFO - ❌ User nayaragarciaaa_ no longer live, ending recording after corruption
2025-08-06 17:33:13 - INFO - FFmpeg terminated normally for nayaragarciaaa_, checking if stream continues...
2025-08-06 17:33:13 - INFO - 🔍 Starting stream continuation validation for nayaragarciaaa_ for 2 minutes (4 checks every 30s)...
2025-08-06 17:33:24 - INFO - ❌ Room alive check failed for nayaragarciaaa_ after 3 attempts (total time: 15s)
2025-08-06 17:33:24 - WARNING - ❌ Stream check 1/4: user nayaragarciaaa_ not detected as live (consecutive failures: 1)
2025-08-06 17:34:04 - INFO - ❌ Room alive check failed for nayaragarciaaa_ after 3 attempts (total time: 15s)
2025-08-06 17:34:04 - WARNING - ❌ Stream check 2/4: user nayaragarciaaa_ not detected as live (consecutive failures: 2)
2025-08-06 17:34:45 - INFO - ❌ Room alive check failed for nayaragarciaaa_ after 3 attempts (total time: 15s)
2025-08-06 17:34:45 - WARNING - ❌ Stream check 3/4: user nayaragarciaaa_ not detected as live (consecutive failures: 3)
2025-08-06 17:34:45 - WARNING - Multiple consecutive failed checks (3) for nayaragarciaaa_ (non-URL error), ending validation early
2025-08-06 17:34:45 - INFO - 🏁 Stream validation completed for nayaragarciaaa_ after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 17:34:45 - INFO - Stream ended for nayaragarciaaa_, processing final recording...
2025-08-06 17:34:45 - INFO - Processing 1 existing recording parts for nayaragarciaaa_ (current recording success: True)
2025-08-06 17:34:45 - INFO - Converting part 1/1: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv -> D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mp4
2025-08-06 17:34:45 - INFO - Converting MKV to MP4: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv -> D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mp4 (source: 61.1MB)
2025-08-06 17:34:45 - INFO - MKV file size: 0.06GB, conversion timeout: 603s (600s base + 3s for size)
2025-08-06 17:34:45 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mp4 (61.4MB)
2025-08-06 17:34:45 - WARNING - Could not cleanup MKV file D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\nayaragarciaaa_-2025-08-06_17-23-11\\TK_nayaragarciaaa__2025.08.06_17-23-18.mkv'
2025-08-06 17:34:45 - INFO - Converted all parts to MP4. Final parts count: 1
2025-08-06 17:34:45 - INFO - ⚡ Processing nayaragarciaaa_ immediately (1 parts < 3 threshold)
2025-08-06 17:34:45 - INFO - ⚡ Processing nayaragarciaaa_ immediately - bypassing queue
2025-08-06 17:34:45 - INFO - 📁 [Immediate] Single valid part for nayaragarciaaa_: TK_nayaragarciaaa__2025.08.06_17-23-18.mp4
2025-08-06 17:34:45 - INFO - 📤 [Immediate] Processing for Telegram upload: nayaragarciaaa_
2025-08-06 17:34:45 - INFO - Generating video collage for: TK_nayaragarciaaa__2025.08.06_17-23-18.mp4
2025-08-06 17:34:47 - INFO - Successfully extracted 16 screenshots
2025-08-06 17:34:47 - INFO - Video collage generated successfully: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18_collage.jpg
2025-08-06 17:34:47 - INFO - 📸 [Immediate] Video collage generated: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18_collage.jpg
2025-08-06 17:34:47 - INFO - 🖼️ [Immediate] Video thumbnail generated: D:/recordings/organized\nayaragarciaaa_-2025-08-06_17-23-11\TK_nayaragarciaaa__2025.08.06_17-23-18_thumb.jpg
2025-08-06 17:34:47 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 17:34:47 - INFO - Added upload task for nayaragarciaaa_ (fragment 1) to queue (size: 61.41MB)
2025-08-06 17:34:47 - INFO - ✅ [Immediate] Upload task added for nayaragarciaaa_
2025-08-06 17:34:47 - INFO - ✅ Immediate processing completed for nayaragarciaaa_
2025-08-06 17:34:47 - INFO - ⚡ Recording processed immediately (< 3 segments)
2025-08-06 17:34:47 - INFO - 📄 Session state marked as completed (preserved for upload recovery): nayaragarciaaa__1754518991
2025-08-06 17:34:47 - INFO - FFmpeg recording finished definitively for nayaragarciaaa_, calling cleanup
2025-08-06 17:34:47 - INFO - 🧹 Recording cleanup callback for nayaragarciaaa_
2025-08-06 17:34:48 - INFO - ✅ Marked recording as completed: nayaragarciaaa__1754518986_1268285169
2025-08-06 17:34:49 - INFO - 🧹 Redis cleanup completed for nayaragarciaaa_
2025-08-06 17:34:49 - INFO - ✅ Recording completed successfully for nayaragarciaaa_
2025-08-06 17:59:31 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:59:32 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:59:32 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:59:32 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 17:59:37 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 17:59:39 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 17:59:43 - INFO - Database connection initialized successfully
2025-08-06 17:59:45 - INFO - Checking and Installing dependencies...

2025-08-06 17:59:45 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754521185
2025-08-06 17:59:45 - INFO - 🚀 Started 2 upload workers
2025-08-06 17:59:45 - INFO - Upload recovery worker started
2025-08-06 17:59:45 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 17:59:45 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 17:59:45 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:59:45 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:59:45 - INFO - User cache initialized with 3600s duration
2025-08-06 17:59:45 - INFO - User cache cleanup thread started
2025-08-06 17:59:47 - INFO -  ✅ Redis connection established
2025-08-06 17:59:47 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 17:59:47 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 17:59:47 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 17:59:47 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 17:59:47 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 17:59:47 - INFO - 👷 Worker-1 started
2025-08-06 17:59:47 - INFO - 👷 Worker-2 started
2025-08-06 17:59:47 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 17:59:47 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 17:59:47 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 17:59:47 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754521185 registered from DESKTOP-U62C3NA
2025-08-06 17:59:47 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754521185 initialized successfully
2025-08-06 17:59:47 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 17:59:47 - INFO -    IP: 192.168.1.11
2025-08-06 17:59:47 - INFO -    Max concurrent jobs: 5
2025-08-06 17:59:47 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754521185
2025-08-06 17:59:47 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754521185 started processing jobs
2025-08-06 18:01:27 - INFO - 📥 Job d0b2ee70-30fc-4f5e-a650-c9abacd34f0d assigned to worker worker_DESKTOP-U62C3NA_1754521185
2025-08-06 18:01:27 - INFO - 🎥 Processing job d0b2ee70-30fc-4f5e-a650-c9abacd34f0d for _zoematteo
2025-08-06 18:01:28 - INFO - 📝 Job d0b2ee70-30fc-4f5e-a650-c9abacd34f0d status updated to in_progress
2025-08-06 18:01:28 - INFO - 🎥 Worker starting recording for _zoematteo (user: 1268285169, chat: 1268285169)
2025-08-06 18:01:28 - INFO - Cache DISABLED: Fetching fresh room_id for _zoematteo from API
2025-08-06 18:01:28 - INFO - PRIMARY: Using TikTok API for room_id extraction of _zoematteo
2025-08-06 18:01:29 - INFO - ✅ TikTok API successful for _zoematteo: 7535594632592280342
2025-08-06 18:01:29 - INFO - Logged room_id for _zoematteo: 7535594632592280342 (cache disabled, DB log only)
2025-08-06 18:01:29 - INFO - PRIMARY TikTok API successful for room ID of _zoematteo: 7535594632592280342
2025-08-06 18:01:30 - INFO - ✅ User _zoematteo validated as live with room_id: 7535594632592280342
2025-08-06 18:01:30 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 18:01:31 - INFO - 🎯 Created master recording: _zoematteo_1754521288_1268285169
2025-08-06 18:01:32 - INFO - ✅ Redis state updated for recording: _zoematteo_1754521288_1268285169
2025-08-06 18:01:32 - INFO - 🎬 Starting TikTokRecorder for _zoematteo
2025-08-06 18:01:32 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:01:32 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:01:32 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session__zoematteo_1754521292.json
2025-08-06 18:01:32 - INFO - 🔍 RealtimeVideoSampler initialized for _zoematteo - interval: 30s, threshold: 30.0%
2025-08-06 18:01:33 - INFO - Using provided room_id: 7535594632592280342 for user: _zoematteo
2025-08-06 18:01:33 - INFO - USERNAME: _zoematteo
2025-08-06 18:01:33 - INFO - ROOM_ID:  7535594632592280342
2025-08-06 18:01:33 - INFO - 🌐 Fetching fresh stream URL for _zoematteo
2025-08-06 18:01:34 - INFO - ✅ Stream URL cached for _zoematteo (valid for 20.0 minutes)
2025-08-06 18:01:34 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:01:34 - INFO - 📁 Created session folder: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\
2025-08-06 18:01:34 - INFO - Started recording...
2025-08-06 18:01:34 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:01:34 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_180134.log
2025-08-06 18:01:34 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mkv
2025-08-06 18:01:34 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:01:34 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:01:34 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:01:34 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 17876, threshold: 6.0%)
2025-08-06 18:01:34 - INFO - 📝 Job d0b2ee70-30fc-4f5e-a650-c9abacd34f0d status updated to completed
2025-08-06 18:01:35 - INFO - ✅ Recording job d0b2ee70-30fc-4f5e-a650-c9abacd34f0d completed for _zoematteo
2025-08-06 18:02:04 - INFO - FFmpeg recording in progress for _zoematteo: 0.5 minutes
2025-08-06 18:02:34 - INFO - FFmpeg recording in progress for _zoematteo: 1.0 minutes
2025-08-06 18:03:04 - INFO - FFmpeg recording in progress for _zoematteo: 1.5 minutes
2025-08-06 18:03:35 - INFO - FFmpeg recording in progress for _zoematteo: 2.0 minutes
2025-08-06 18:04:05 - INFO - FFmpeg recording in progress for _zoematteo: 2.5 minutes
2025-08-06 18:04:35 - INFO - FFmpeg recording in progress for _zoematteo: 3.0 minutes
2025-08-06 18:05:05 - INFO - FFmpeg recording in progress for _zoematteo: 3.5 minutes
2025-08-06 18:05:36 - INFO - FFmpeg recording in progress for _zoematteo: 4.0 minutes
2025-08-06 18:06:06 - INFO - FFmpeg recording in progress for _zoematteo: 4.5 minutes
2025-08-06 18:06:36 - INFO - FFmpeg recording in progress for _zoematteo: 5.0 minutes
2025-08-06 18:07:06 - INFO - FFmpeg recording in progress for _zoematteo: 5.5 minutes
2025-08-06 18:07:36 - INFO - FFmpeg recording in progress for _zoematteo: 6.0 minutes
2025-08-06 18:08:07 - INFO - FFmpeg recording in progress for _zoematteo: 6.5 minutes
2025-08-06 18:08:37 - INFO - FFmpeg recording in progress for _zoematteo: 7.1 minutes
2025-08-06 18:09:07 - INFO - FFmpeg recording in progress for _zoematteo: 7.6 minutes
2025-08-06 18:09:37 - INFO - FFmpeg recording in progress for _zoematteo: 8.1 minutes
2025-08-06 18:10:08 - INFO - FFmpeg recording in progress for _zoematteo: 8.6 minutes
2025-08-06 18:10:38 - INFO - FFmpeg recording in progress for _zoematteo: 9.1 minutes
2025-08-06 18:11:08 - INFO - FFmpeg recording in progress for _zoematteo: 9.6 minutes
2025-08-06 18:11:38 - INFO - FFmpeg recording in progress for _zoematteo: 10.1 minutes
2025-08-06 18:12:09 - INFO - FFmpeg recording in progress for _zoematteo: 10.6 minutes
2025-08-06 18:12:39 - INFO - FFmpeg recording in progress for _zoematteo: 11.1 minutes
2025-08-06 18:13:09 - INFO - FFmpeg recording in progress for _zoematteo: 11.6 minutes
2025-08-06 18:13:39 - INFO - FFmpeg recording in progress for _zoematteo: 12.1 minutes
2025-08-06 18:14:10 - INFO - FFmpeg recording in progress for _zoematteo: 12.6 minutes
2025-08-06 18:14:40 - INFO - FFmpeg recording in progress for _zoematteo: 13.1 minutes
2025-08-06 18:14:53 - INFO - ⏰ Starting scheduled Redis orphan cleanup...
2025-08-06 18:14:53 - INFO - 🧹 Starting Redis orphaned records cleanup with pipelines...
2025-08-06 18:14:54 - INFO - 🔍 Found 2 pending records, 1 sessions, 1 primary deliveries
2025-08-06 18:14:54 - INFO - 🧠 Found 0 active recordings in memory
2025-08-06 18:14:54 - INFO - ✅ No orphaned records found to clean
2025-08-06 18:14:54 - INFO - 🧹 Redis cleanup completed: cleaned=0, preserved=2, errors=0
2025-08-06 18:14:54 - INFO - ✅ Scheduled cleanup completed: {'cleaned': 0, 'preserved': 2, 'errors': 0}
2025-08-06 18:15:10 - INFO - FFmpeg recording in progress for _zoematteo: 13.6 minutes
2025-08-06 18:15:40 - INFO - FFmpeg recording in progress for _zoematteo: 14.1 minutes
2025-08-06 18:16:11 - INFO - FFmpeg recording in progress for _zoematteo: 14.6 minutes
2025-08-06 18:16:41 - INFO - FFmpeg recording in progress for _zoematteo: 15.1 minutes
2025-08-06 18:17:11 - INFO - FFmpeg recording in progress for _zoematteo: 15.6 minutes
2025-08-06 18:17:41 - INFO - FFmpeg recording in progress for _zoematteo: 16.1 minutes
2025-08-06 18:18:11 - INFO - FFmpeg recording in progress for _zoematteo: 16.6 minutes
2025-08-06 18:18:42 - INFO - FFmpeg recording in progress for _zoematteo: 17.1 minutes
2025-08-06 18:19:12 - INFO - FFmpeg recording in progress for _zoematteo: 17.6 minutes
2025-08-06 18:19:21 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:17:51.94 (#1)
2025-08-06 18:19:21 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:19:21 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:19:21 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:19:21 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:19:21 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:19:21 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:19:21 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:19:22 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:19:22 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:19:22 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_180134.log (244.9KB)
2025-08-06 18:19:22 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:19:22 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mkv (403.1MB)
2025-08-06 18:19:22 - INFO - Added recording part 1 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mkv
2025-08-06 18:19:22 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:19:22 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:19:22 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:19:22 - INFO - ✅ User _zoematteo confirmed still live after 0s (attempt 1)
2025-08-06 18:19:22 - INFO - ✅ User _zoematteo still live, attempting restart with retry logic...
2025-08-06 18:19:22 - INFO - 🔄 Restart attempt 1/3 for _zoematteo
2025-08-06 18:19:22 - INFO - 🔄 Using cached stream URL for corruption restart: _zoematteo
2025-08-06 18:19:22 - INFO - ⏳ Waiting 1s for stream stabilization for _zoematteo
2025-08-06 18:19:23 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 18:19:23 - INFO - Starting continuous recording part 2 for _zoematteo
2025-08-06 18:19:28 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 1074.6s)
2025-08-06 18:19:28 - INFO - Continuous recording part 2: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2_flv.mp4
2025-08-06 18:19:28 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_181928.log
2025-08-06 18:19:28 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv
2025-08-06 18:19:28 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:19:28 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:19:28 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:19:28 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 6440, threshold: 6.0%)
2025-08-06 18:19:35 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:00:12.56 (#1)
2025-08-06 18:19:35 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:19:35 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:19:35 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:19:36 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:19:36 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:19:36 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:19:36 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:19:36 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:19:36 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:19:36 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_181928.log (8.4KB)
2025-08-06 18:19:36 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:19:36 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv (3.4MB)
2025-08-06 18:19:36 - INFO - Added recording part 2 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv
2025-08-06 18:19:36 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:19:36 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:19:36 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:19:36 - INFO - ✅ User _zoematteo confirmed still live after 0s (attempt 1)
2025-08-06 18:19:36 - INFO - ✅ User _zoematteo still live, attempting restart with retry logic...
2025-08-06 18:19:36 - INFO - 🔄 Restart attempt 1/3 for _zoematteo
2025-08-06 18:19:36 - INFO - 🔄 Using cached stream URL for corruption restart: _zoematteo
2025-08-06 18:19:36 - INFO - ⏳ Waiting 1s for stream stabilization for _zoematteo
2025-08-06 18:19:37 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 18:19:37 - INFO - Starting continuous recording part 3 for _zoematteo
2025-08-06 18:19:42 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 1089.0s)
2025-08-06 18:19:42 - INFO - Continuous recording part 3: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3_flv.mp4
2025-08-06 18:19:42 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_181942.log
2025-08-06 18:19:42 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv
2025-08-06 18:19:42 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:19:42 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:19:42 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:19:42 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 35520, threshold: 6.0%)
2025-08-06 18:20:12 - INFO - 📊 SIZE CHECK: Total=412.8MB (Current=6.3MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:20:12 - INFO - FFmpeg recording in progress for _zoematteo: 0.5 minutes
2025-08-06 18:20:43 - INFO - 📊 SIZE CHECK: Total=421.7MB (Current=15.1MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:20:43 - INFO - FFmpeg recording in progress for _zoematteo: 1.0 minutes
2025-08-06 18:20:49 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:01:11.37 (#1)
2025-08-06 18:20:49 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:20:49 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:20:49 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:20:50 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:20:50 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:20:50 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:20:50 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:20:50 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:20:50 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:20:50 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_181942.log (21.7KB)
2025-08-06 18:20:50 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:20:50 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv (17.2MB)
2025-08-06 18:20:50 - INFO - Added recording part 3 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv
2025-08-06 18:20:50 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:20:50 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:20:50 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:20:50 - INFO - ✅ User _zoematteo confirmed still live after 0s (attempt 1)
2025-08-06 18:20:50 - INFO - ✅ User _zoematteo still live, attempting restart with retry logic...
2025-08-06 18:20:50 - INFO - 🔄 Restart attempt 1/3 for _zoematteo
2025-08-06 18:20:50 - INFO - 🔄 Using cached stream URL for corruption restart: _zoematteo
2025-08-06 18:20:50 - INFO - ⏳ Waiting 1s for stream stabilization for _zoematteo
2025-08-06 18:20:51 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 18:20:51 - INFO - Starting continuous recording part 4 for _zoematteo
2025-08-06 18:20:56 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 1162.9s)
2025-08-06 18:20:56 - INFO - Continuous recording part 4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4_flv.mp4
2025-08-06 18:20:56 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182056.log
2025-08-06 18:20:56 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv
2025-08-06 18:20:56 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:20:56 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:20:56 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:20:56 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 4740, threshold: 6.0%)
2025-08-06 18:21:06 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:00:16.18 (#1)
2025-08-06 18:21:06 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:21:06 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:21:06 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:21:06 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:21:06 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:21:06 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:21:06 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:21:07 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:21:07 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:21:07 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182056.log (9.0KB)
2025-08-06 18:21:07 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:21:07 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv (1.6MB)
2025-08-06 18:21:07 - INFO - Added recording part 4 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv
2025-08-06 18:21:07 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:21:07 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:21:07 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:21:07 - INFO - ✅ User _zoematteo confirmed still live after 0s (attempt 1)
2025-08-06 18:21:07 - INFO - ✅ User _zoematteo still live, attempting restart with retry logic...
2025-08-06 18:21:07 - INFO - 🔄 Restart attempt 1/3 for _zoematteo
2025-08-06 18:21:07 - INFO - 🔄 Using cached stream URL for corruption restart: _zoematteo
2025-08-06 18:21:07 - INFO - ⏳ Waiting 1s for stream stabilization for _zoematteo
2025-08-06 18:21:08 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 18:21:08 - INFO - Starting continuous recording part 5 for _zoematteo
2025-08-06 18:21:13 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 1179.5s)
2025-08-06 18:21:13 - INFO - Continuous recording part 5: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5_flv.mp4
2025-08-06 18:21:13 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182113.log
2025-08-06 18:21:13 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv
2025-08-06 18:21:13 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:21:13 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:21:13 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:21:13 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 1928, threshold: 6.0%)
2025-08-06 18:21:14 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:21:15 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:21:15 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182113.log (7.3KB)
2025-08-06 18:21:15 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:21:15 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv (0.6MB)
2025-08-06 18:21:15 - INFO - Added recording part 5 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv
2025-08-06 18:21:15 - INFO - FFmpeg terminated normally for _zoematteo, checking if stream continues...
2025-08-06 18:21:15 - INFO - 🔍 Starting stream continuation validation for _zoematteo for 2 minutes (4 checks every 30s)...
2025-08-06 18:21:15 - INFO - ✅ Stream alive confirmed for _zoematteo on attempt 1/3
2025-08-06 18:21:15 - INFO - ✅ Stream confirmed active for _zoematteo (check 1/4) - validation successful!
2025-08-06 18:21:15 - INFO - Stream continues for _zoematteo, starting automatic continuation...
2025-08-06 18:21:15 - INFO - Starting continuous recording part 6 for _zoematteo
2025-08-06 18:21:20 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 1186.7s)
2025-08-06 18:21:20 - INFO - Continuous recording part 6: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6_flv.mp4
2025-08-06 18:21:20 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182120.log
2025-08-06 18:21:20 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv
2025-08-06 18:21:20 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:21:20 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:21:20 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:21:20 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 26340, threshold: 6.0%)
2025-08-06 18:21:23 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:00:08.17 (#1)
2025-08-06 18:21:23 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:21:23 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:21:23 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:21:24 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:21:24 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:21:24 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:21:24 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:21:24 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:21:24 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:21:24 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182120.log (7.5KB)
2025-08-06 18:21:24 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:21:24 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv (2.0MB)
2025-08-06 18:21:24 - INFO - Added recording part 6 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv
2025-08-06 18:21:24 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:21:24 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:21:24 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:21:24 - INFO - ✅ User _zoematteo confirmed still live after 0s (attempt 1)
2025-08-06 18:21:24 - INFO - ✅ User _zoematteo still live, attempting restart with retry logic...
2025-08-06 18:21:24 - INFO - 🔄 Restart attempt 1/3 for _zoematteo
2025-08-06 18:21:24 - INFO - 🔄 Using cached stream URL for corruption restart: _zoematteo
2025-08-06 18:21:24 - INFO - ⏳ Waiting 1s for stream stabilization for _zoematteo
2025-08-06 18:21:25 - INFO - 🔄 Starting continuous recording for corruption restart - Part 6
2025-08-06 18:21:25 - INFO - Starting continuous recording part 7 for _zoematteo
2025-08-06 18:21:30 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 1197.3s)
2025-08-06 18:21:30 - INFO - Continuous recording part 7: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7_flv.mp4
2025-08-06 18:21:30 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182130.log
2025-08-06 18:21:30 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv
2025-08-06 18:21:30 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755730894&sign=b92f75ed986a1d99f3d99743b4058ce3
2025-08-06 18:21:30 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:21:30 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:21:30 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 27896, threshold: 6.0%)
2025-08-06 18:21:38 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:00:12.93 (#1)
2025-08-06 18:21:38 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:21:38 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:21:38 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:21:38 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:21:38 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:21:38 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:21:38 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:21:39 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:21:39 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:21:39 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182130.log (8.4KB)
2025-08-06 18:21:39 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:21:39 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv (3.1MB)
2025-08-06 18:21:39 - INFO - Added recording part 7 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv
2025-08-06 18:21:39 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:21:39 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:21:39 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:21:39 - INFO - ✅ User _zoematteo confirmed still live after 0s (attempt 1)
2025-08-06 18:21:39 - INFO - ✅ User _zoematteo still live, attempting restart with retry logic...
2025-08-06 18:21:39 - INFO - 🔄 Restart attempt 1/3 for _zoematteo
2025-08-06 18:21:39 - INFO - 🔄 Fetching fresh stream URL for restart attempt 1: _zoematteo
2025-08-06 18:21:39 - INFO - 🔄 Forcing fresh stream URL for restart: _zoematteo
2025-08-06 18:21:39 - INFO - ⏳ Waiting 5s for URL refresh...
2025-08-06 18:21:44 - INFO - 🌐 Fetching fresh stream URL for _zoematteo
2025-08-06 18:21:45 - INFO - ✅ Stream URL cached for _zoematteo (valid for 20.0 minutes)
2025-08-06 18:21:45 - INFO - ✅ Fresh stream URL obtained for _zoematteo
2025-08-06 18:21:45 - INFO - ⏳ Waiting 1s for stream stabilization for _zoematteo
2025-08-06 18:21:46 - INFO - 🔄 Starting continuous recording for corruption restart - Part 7
2025-08-06 18:21:46 - INFO - Starting continuous recording part 8 for _zoematteo
2025-08-06 18:21:51 - INFO - 🔄 Reusing cached stream URL for _zoematteo (age: 6.4s)
2025-08-06 18:21:51 - INFO - Continuous recording part 8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8_flv.mp4
2025-08-06 18:21:51 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182151.log
2025-08-06 18:21:51 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv
2025-08-06 18:21:51 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535593126536579862_or4.flv?expire=1755732104&sign=e326b813bea8f7236434b0b239418e3d
2025-08-06 18:21:51 - INFO - Executing FFmpeg command for _zoematteo
2025-08-06 18:21:51 - INFO - 🔍 Starting FFmpeg stderr monitor for _zoematteo
2025-08-06 18:21:51 - INFO - 🔍 Started memory guardian for _zoematteo (PID: 34364, threshold: 6.0%)
2025-08-06 18:22:21 - INFO - 📊 SIZE CHECK: Total=443.1MB (Current=12.2MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:22:21 - INFO - FFmpeg recording in progress for _zoematteo: 0.5 minutes
2025-08-06 18:22:51 - INFO - 📊 SIZE CHECK: Total=453.0MB (Current=22.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:22:51 - INFO - FFmpeg recording in progress for _zoematteo: 1.0 minutes
2025-08-06 18:23:21 - INFO - 📊 SIZE CHECK: Total=463.7MB (Current=32.7MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:23:21 - INFO - FFmpeg recording in progress for _zoematteo: 1.5 minutes
2025-08-06 18:23:51 - INFO - 📊 SIZE CHECK: Total=475.7MB (Current=44.8MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:23:51 - INFO - FFmpeg recording in progress for _zoematteo: 2.0 minutes
2025-08-06 18:24:22 - INFO - 📊 SIZE CHECK: Total=485.3MB (Current=54.4MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:24:22 - INFO - FFmpeg recording in progress for _zoematteo: 2.5 minutes
2025-08-06 18:24:52 - INFO - 📊 SIZE CHECK: Total=497.9MB (Current=67.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:24:52 - INFO - FFmpeg recording in progress for _zoematteo: 3.0 minutes
2025-08-06 18:25:11 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _zoematteo: time=00:03:26.00 (#1)
2025-08-06 18:25:11 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _zoematteo - triggering immediate restart
2025-08-06 18:25:11 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _zoematteo
2025-08-06 18:25:11 - INFO - 🔍 FFmpeg stderr monitor finished for _zoematteo
2025-08-06 18:25:11 - WARNING - 🚨 CORRUPTION DETECTED for _zoematteo, stopping current recording to restart
2025-08-06 18:25:11 - INFO - Starting graceful FFmpeg termination for _zoematteo - Reason: corruption detected
2025-08-06 18:25:11 - INFO - Sending 'q' command to FFmpeg for _zoematteo
2025-08-06 18:25:11 - INFO - Waiting 30s for FFmpeg to complete container headers for _zoematteo
2025-08-06 18:25:13 - INFO - FFmpeg terminated cleanly via stdin for _zoematteo
2025-08-06 18:25:13 - INFO - FFmpeg recording completed successfully for _zoematteo
2025-08-06 18:25:13 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__zoematteo_20250806_182151.log (51.5KB)
2025-08-06 18:25:13 - INFO - ✅ No corruption patterns detected for _zoematteo
2025-08-06 18:25:13 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv (73.9MB)
2025-08-06 18:25:13 - INFO - Added recording part 8 for _zoematteo: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv
2025-08-06 18:25:13 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _zoematteo
2025-08-06 18:25:13 - INFO - 🔍 Starting robust live verification for _zoematteo (2min validation period)
2025-08-06 18:25:13 - INFO - 🔍 Checking if _zoematteo still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:25:13 - WARNING - ⚠️ User _zoematteo appears offline on attempt 1
2025-08-06 18:25:13 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:25:23 - INFO - 🔍 Checking if _zoematteo still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 18:25:23 - WARNING - ⚠️ User _zoematteo appears offline on attempt 2
2025-08-06 18:25:23 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:25:33 - INFO - 🔍 Checking if _zoematteo still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 18:25:33 - WARNING - ⚠️ User _zoematteo appears offline on attempt 3
2025-08-06 18:25:33 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:25:43 - INFO - 🔍 Checking if _zoematteo still live (attempt 4, 30s/120s, 90s remaining)
2025-08-06 18:25:43 - WARNING - ⚠️ User _zoematteo appears offline on attempt 4
2025-08-06 18:25:43 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:25:53 - INFO - 🔍 Checking if _zoematteo still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 18:25:53 - WARNING - ⚠️ User _zoematteo appears offline on attempt 5
2025-08-06 18:25:53 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:26:03 - INFO - 🔍 Checking if _zoematteo still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 18:26:04 - WARNING - ⚠️ User _zoematteo appears offline on attempt 6
2025-08-06 18:26:04 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:26:14 - INFO - 🔍 Checking if _zoematteo still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 18:26:14 - WARNING - ⚠️ User _zoematteo appears offline on attempt 7
2025-08-06 18:26:14 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:26:24 - INFO - 🔍 Checking if _zoematteo still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 18:26:24 - WARNING - ⚠️ User _zoematteo appears offline on attempt 8
2025-08-06 18:26:24 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:26:34 - INFO - 🔍 Checking if _zoematteo still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 18:26:34 - WARNING - ⚠️ User _zoematteo appears offline on attempt 9
2025-08-06 18:26:34 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:26:44 - INFO - 🔍 Checking if _zoematteo still live (attempt 10, 91s/120s, 29s remaining)
2025-08-06 18:26:44 - WARNING - ⚠️ User _zoematteo appears offline on attempt 10
2025-08-06 18:26:44 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:26:54 - INFO - 🔍 Checking if _zoematteo still live (attempt 11, 101s/120s, 19s remaining)
2025-08-06 18:26:54 - WARNING - ⚠️ User _zoematteo appears offline on attempt 11
2025-08-06 18:26:54 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 18:27:04 - INFO - 🔍 Checking if _zoematteo still live (attempt 12, 112s/120s, 8s remaining)
2025-08-06 18:27:04 - WARNING - ⚠️ User _zoematteo appears offline on attempt 12
2025-08-06 18:27:04 - INFO - ❌ User _zoematteo confirmed offline after 2 minutes of validation
2025-08-06 18:27:04 - INFO - ❌ User _zoematteo no longer live, ending recording after corruption
2025-08-06 18:27:04 - INFO - FFmpeg terminated normally for _zoematteo, checking if stream continues...
2025-08-06 18:27:04 - INFO - 🔍 Starting stream continuation validation for _zoematteo for 2 minutes (4 checks every 30s)...
2025-08-06 18:27:15 - INFO - ❌ Room alive check failed for _zoematteo after 3 attempts (total time: 15s)
2025-08-06 18:27:15 - WARNING - ❌ Stream check 1/4: user _zoematteo not detected as live (consecutive failures: 1)
2025-08-06 18:27:56 - INFO - ❌ Room alive check failed for _zoematteo after 3 attempts (total time: 15s)
2025-08-06 18:27:56 - WARNING - ❌ Stream check 2/4: user _zoematteo not detected as live (consecutive failures: 2)
2025-08-06 18:28:36 - INFO - ❌ Room alive check failed for _zoematteo after 3 attempts (total time: 15s)
2025-08-06 18:28:36 - WARNING - ❌ Stream check 3/4: user _zoematteo not detected as live (consecutive failures: 3)
2025-08-06 18:28:36 - WARNING - Multiple consecutive failed checks (3) for _zoematteo (non-URL error), ending validation early
2025-08-06 18:28:36 - INFO - 🏁 Stream validation completed for _zoematteo after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 18:28:36 - INFO - Stream ended for _zoematteo, processing final recording...
2025-08-06 18:28:36 - INFO - Processing 8 existing recording parts for _zoematteo (current recording success: True)
2025-08-06 18:28:36 - INFO - Converting part 1/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mp4
2025-08-06 18:28:36 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mp4 (source: 403.1MB)
2025-08-06 18:28:36 - INFO - MKV file size: 0.39GB, conversion timeout: 623s (600s base + 23s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mp4 (403.7MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-01-34.mkv'
2025-08-06 18:28:37 - INFO - Converting part 2/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mp4 (source: 3.4MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mp4 (3.4MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-19-28_cont2.mkv'
2025-08-06 18:28:37 - INFO - Converting part 3/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mp4 (source: 17.2MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.02GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mp4 (17.2MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-19-42_cont3.mkv'
2025-08-06 18:28:37 - INFO - Converting part 4/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mp4 (source: 1.6MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mp4 (1.6MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-20-56_cont4.mkv'
2025-08-06 18:28:37 - INFO - Converting part 5/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mp4 (source: 0.6MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mp4 (0.6MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-21-13_cont5.mkv'
2025-08-06 18:28:37 - INFO - Converting part 6/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mp4 (source: 2.0MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mp4 (2.0MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-21-20_cont6.mkv'
2025-08-06 18:28:37 - INFO - Converting part 7/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mp4 (source: 3.1MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 18:28:37 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mp4 (3.1MB)
2025-08-06 18:28:37 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-21-30_cont7.mkv'
2025-08-06 18:28:37 - INFO - Converting part 8/8: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mp4
2025-08-06 18:28:37 - INFO - Converting MKV to MP4: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv -> D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mp4 (source: 73.9MB)
2025-08-06 18:28:37 - INFO - MKV file size: 0.07GB, conversion timeout: 604s (600s base + 4s for size)
2025-08-06 18:28:38 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mp4 (74.0MB)
2025-08-06 18:28:38 - WARNING - Could not cleanup MKV file D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\_zoematteo-2025-08-06_18-01-32\\TK__zoematteo_2025.08.06_18-21-51_cont8.mkv'
2025-08-06 18:28:38 - INFO - Converted all parts to MP4. Final parts count: 8
2025-08-06 18:28:38 - INFO - 📥 Added _zoematteo to post-processing queue (8 parts) - Job ID: _zoematteo_1754522918
2025-08-06 18:28:38 - INFO - 📥 Recording submitted to post-processing queue: _zoematteo_1754522918
2025-08-06 18:28:38 - INFO - 📄 Session state marked as completed (preserved for upload recovery): _zoematteo_1754521292
2025-08-06 18:28:38 - INFO - FFmpeg recording finished definitively for _zoematteo, calling cleanup
2025-08-06 18:28:38 - INFO - 🧹 Recording cleanup callback for _zoematteo
2025-08-06 18:28:39 - INFO - 👷 Worker-1 processing job _zoematteo_1754522918 for _zoematteo
2025-08-06 18:28:39 - INFO - 🔍 [Worker-1] Starting validation for _zoematteo (8 parts)
2025-08-06 18:28:39 - INFO - ✅ Marked recording as completed: _zoematteo_1754521288_1268285169
2025-08-06 18:28:39 - INFO - 📏 [Worker-1] Part 1 too large (403.7MB), skipping validation: TK__zoematteo_2025.08.06_18-01-34.mp4
2025-08-06 18:28:40 - INFO - 🧹 Redis cleanup completed for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Restart successful on attempt 1 for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Restart successful on attempt 1 for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Restart successful on attempt 1 for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Restart successful on attempt 1 for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Restart successful on attempt 1 for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Restart successful on attempt 1 for _zoematteo
2025-08-06 18:28:40 - INFO - ✅ Recording completed successfully for _zoematteo
2025-08-06 18:28:41 - WARNING - 🗑️ [Worker-1] Part 2 corrupted (87.5% errors), discarding: TK__zoematteo_2025.08.06_18-19-28_cont2.mp4
2025-08-06 18:28:41 - INFO - ✅ [Worker-1] Deleted corrupted file: TK__zoematteo_2025.08.06_18-19-28_cont2.mp4
2025-08-06 18:28:45 - WARNING - 🗑️ [Worker-1] Part 3 corrupted (38.2% errors), discarding: TK__zoematteo_2025.08.06_18-19-42_cont3.mp4
2025-08-06 18:28:45 - INFO - ✅ [Worker-1] Deleted corrupted file: TK__zoematteo_2025.08.06_18-19-42_cont3.mp4
2025-08-06 18:28:46 - WARNING - 🗑️ [Worker-1] Part 4 corrupted (84.0% errors), discarding: TK__zoematteo_2025.08.06_18-20-56_cont4.mp4
2025-08-06 18:28:46 - INFO - ✅ [Worker-1] Deleted corrupted file: TK__zoematteo_2025.08.06_18-20-56_cont4.mp4
2025-08-06 18:28:46 - WARNING - 🗑️ [Worker-1] Part 5 corrupted (43.3% errors), discarding: TK__zoematteo_2025.08.06_18-21-13_cont5.mp4
2025-08-06 18:28:46 - INFO - ✅ [Worker-1] Deleted corrupted file: TK__zoematteo_2025.08.06_18-21-13_cont5.mp4
2025-08-06 18:28:47 - WARNING - 🗑️ [Worker-1] Part 6 corrupted (38.9% errors), discarding: TK__zoematteo_2025.08.06_18-21-20_cont6.mp4
2025-08-06 18:28:47 - INFO - ✅ [Worker-1] Deleted corrupted file: TK__zoematteo_2025.08.06_18-21-20_cont6.mp4
2025-08-06 18:28:47 - INFO - ✅ [Worker-1] Part 7 valid (18.2% errors): TK__zoematteo_2025.08.06_18-21-30_cont7.mp4
2025-08-06 18:29:21 - INFO - ✅ [Worker-1] Part 8 valid (0.0% errors): TK__zoematteo_2025.08.06_18-21-51_cont8.mp4
2025-08-06 18:29:21 - INFO - 🧹 [Worker-1] Filtered 5 corrupted parts (24.8MB) for _zoematteo
2025-08-06 18:29:21 - INFO - 🔗 [Worker-1] Concatenating 3 valid parts for _zoematteo
2025-08-06 18:29:22 - INFO - ✅ [Worker-1] Concatenation successful: TK__zoematteo_2025.08.06_18-01-34_COMPLETE.mp4 (480.8MB)
2025-08-06 18:29:22 - INFO - 📤 [Worker-1] Processing for Telegram upload: _zoematteo
2025-08-06 18:29:22 - INFO - Generating video collage for: TK__zoematteo_2025.08.06_18-01-34_COMPLETE.mp4
2025-08-06 18:29:25 - INFO - Successfully extracted 16 screenshots
2025-08-06 18:29:25 - INFO - Video collage generated successfully: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34_COMPLETE_collage.jpg
2025-08-06 18:29:25 - INFO - 📸 [Worker-1] Video collage generated: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34_COMPLETE_collage.jpg
2025-08-06 18:29:25 - INFO - 🖼️ [Worker-1] Video thumbnail generated: D:/recordings/organized\_zoematteo-2025-08-06_18-01-32\TK__zoematteo_2025.08.06_18-01-34_COMPLETE_thumb.jpg
2025-08-06 18:29:25 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 18:29:25 - INFO - Added upload task for _zoematteo (fragment 1) to queue (size: 480.79MB)
2025-08-06 18:29:25 - INFO - ✅ [Worker-1] Upload task added for _zoematteo
2025-08-06 18:29:25 - INFO - ✅ [Worker-1] Job _zoematteo_1754522918 completed successfully for _zoematteo
2025-08-06 18:32:58 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:33:00 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:33:00 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:33:00 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:33:01 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:33:02 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:33:13 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:33:15 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:33:20 - INFO - Database connection initialized successfully
2025-08-06 18:33:22 - INFO - Checking and Installing dependencies...

2025-08-06 18:33:22 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754523202
2025-08-06 18:33:22 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:33:22 - INFO - Upload recovery worker started
2025-08-06 18:33:22 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:33:22 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:33:22 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:33:22 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:33:22 - INFO - User cache initialized with 3600s duration
2025-08-06 18:33:22 - INFO - User cache cleanup thread started
2025-08-06 18:33:23 - INFO -  ✅ Redis connection established
2025-08-06 18:33:23 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:33:23 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:33:23 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:33:23 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:33:23 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:33:23 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:33:23 - INFO - 👷 Worker-1 started
2025-08-06 18:33:23 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:33:23 - INFO - 👷 Worker-2 started
2025-08-06 18:33:23 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:33:24 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754523202 registered from DESKTOP-U62C3NA
2025-08-06 18:33:24 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523202 initialized successfully
2025-08-06 18:33:24 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:33:24 - INFO -    IP: 192.168.1.11
2025-08-06 18:33:24 - INFO -    Max concurrent jobs: 5
2025-08-06 18:33:24 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754523202
2025-08-06 18:33:24 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754523202 started processing jobs
2025-08-06 18:33:26 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:33:26 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:33:26 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:34:23 - INFO - 📥 Job d27718da-ffa3-499c-845a-183a22818c7c assigned to worker worker_DESKTOP-U62C3NA_1754523202
2025-08-06 18:34:23 - INFO - 🎥 Processing job d27718da-ffa3-499c-845a-183a22818c7c for selenasistii
2025-08-06 18:34:24 - INFO - 📝 Job d27718da-ffa3-499c-845a-183a22818c7c status updated to in_progress
2025-08-06 18:34:24 - INFO - 🎥 Worker starting recording for selenasistii (user: 1268285169, chat: 1268285169)
2025-08-06 18:34:24 - INFO - Cache DISABLED: Fetching fresh room_id for selenasistii from API
2025-08-06 18:34:24 - INFO - PRIMARY: Using TikTok API for room_id extraction of selenasistii
2025-08-06 18:34:25 - INFO - ✅ TikTok API successful for selenasistii: 7535616209179396886
2025-08-06 18:34:26 - INFO - Logged room_id for selenasistii: 7535616209179396886 (cache disabled, DB log only)
2025-08-06 18:34:26 - INFO - PRIMARY TikTok API successful for room ID of selenasistii: 7535616209179396886
2025-08-06 18:34:26 - INFO - ✅ User selenasistii validated as live with room_id: 7535616209179396886
2025-08-06 18:34:27 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 18:34:27 - INFO - 🎯 Created master recording: selenasistii_1754523264_1268285169
2025-08-06 18:34:29 - INFO - ✅ Redis state updated for recording: selenasistii_1754523264_1268285169
2025-08-06 18:34:29 - INFO - 🎬 Starting TikTokRecorder for selenasistii
2025-08-06 18:34:29 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:34:29 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:34:29 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_selenasistii_1754523269.json
2025-08-06 18:34:29 - INFO - 🔍 RealtimeVideoSampler initialized for selenasistii - interval: 30s, threshold: 30.0%
2025-08-06 18:34:29 - INFO - Using provided room_id: 7535616209179396886 for user: selenasistii
2025-08-06 18:34:29 - INFO - USERNAME: selenasistii
2025-08-06 18:34:29 - INFO - ROOM_ID:  7535616209179396886
2025-08-06 18:34:30 - INFO - 🌐 Fetching fresh stream URL for selenasistii
2025-08-06 18:34:30 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 18:34:30 - INFO - Trying TikTokLive fallback for user 'selenasistii' (room 7535616209179396886) due to: Live is private, login required. 
2025-08-06 18:34:30 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10064+none
2025-08-06 18:34:31 - INFO - 📝 Job d27718da-ffa3-499c-845a-183a22818c7c status updated to completed
2025-08-06 18:34:31 - INFO - ✅ Recording job d27718da-ffa3-499c-845a-183a22818c7c completed for selenasistii
2025-08-06 18:34:37 - INFO - TikTokLive fallback: Room info obtenido para selenasistii (attempt 1)
2025-08-06 18:34:37 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 18:34:37 - INFO - TikTokLive fallback: Usando FLV URL con calidad FULL_HD1
2025-08-06 18:34:37 - INFO - TikTokLive fallback successful for selenasistii
2025-08-06 18:34:37 - INFO - ✅ Stream URL cached for selenasistii (valid for 20.0 minutes)
2025-08-06 18:34:37 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535616708762028822_uhd.flv?expire=1755732875&sign=9527c3af96c2d58e69a74959597e3def
2025-08-06 18:34:37 - INFO - 📁 Created session folder: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\
2025-08-06 18:34:37 - INFO - Started recording...
2025-08-06 18:34:37 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:34:37 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183437.log
2025-08-06 18:34:37 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-34-37.mkv
2025-08-06 18:34:37 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535616708762028822_uhd.flv?expire=1755732875&sign=9527c3af96c2d58e69a74959597e3def
2025-08-06 18:34:37 - INFO - Executing FFmpeg command for selenasistii
2025-08-06 18:34:37 - INFO - 🔍 Starting FFmpeg stderr monitor for selenasistii
2025-08-06 18:34:37 - INFO - 🔍 Started memory guardian for selenasistii (PID: 15240, threshold: 6.0%)
2025-08-06 18:35:07 - INFO - FFmpeg recording in progress for selenasistii: 0.5 minutes
2025-08-06 18:35:18 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for selenasistii: time=00:00:40.19 (#1)
2025-08-06 18:35:18 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for selenasistii - triggering immediate restart
2025-08-06 18:35:18 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for selenasistii
2025-08-06 18:35:18 - INFO - 🔍 FFmpeg stderr monitor finished for selenasistii
2025-08-06 18:35:19 - WARNING - 🚨 CORRUPTION DETECTED for selenasistii, stopping current recording to restart
2025-08-06 18:35:19 - INFO - Starting graceful FFmpeg termination for selenasistii - Reason: corruption detected
2025-08-06 18:35:19 - INFO - Sending 'q' command to FFmpeg for selenasistii
2025-08-06 18:35:19 - INFO - Waiting 30s for FFmpeg to complete container headers for selenasistii
2025-08-06 18:35:20 - INFO - FFmpeg terminated cleanly via stdin for selenasistii
2025-08-06 18:35:20 - INFO - FFmpeg recording completed successfully for selenasistii
2025-08-06 18:35:20 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183437.log (16.2KB)
2025-08-06 18:35:20 - INFO - ✅ No corruption patterns detected for selenasistii
2025-08-06 18:35:20 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-34-37.mkv (4.9MB)
2025-08-06 18:35:20 - INFO - Added recording part 1 for selenasistii: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-34-37.mkv
2025-08-06 18:35:20 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for selenasistii
2025-08-06 18:35:20 - INFO - 🔍 Starting robust live verification for selenasistii (2min validation period)
2025-08-06 18:35:20 - INFO - 🔍 Checking if selenasistii still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:35:20 - INFO - ✅ User selenasistii confirmed still live after 0s (attempt 1)
2025-08-06 18:35:20 - INFO - ✅ User selenasistii still live, attempting restart with retry logic...
2025-08-06 18:35:20 - INFO - 🔄 Restart attempt 1/3 for selenasistii
2025-08-06 18:35:20 - INFO - 🔄 Using cached stream URL for corruption restart: selenasistii
2025-08-06 18:35:20 - INFO - ⏳ Waiting 1s for stream stabilization for selenasistii
2025-08-06 18:35:21 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 18:35:21 - INFO - Starting continuous recording part 2 for selenasistii
2025-08-06 18:35:26 - INFO - 🔄 Reusing cached stream URL for selenasistii (age: 56.4s)
2025-08-06 18:35:26 - INFO - Continuous recording part 2: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-26_cont2_flv.mp4
2025-08-06 18:35:26 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183526.log
2025-08-06 18:35:26 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-26_cont2.mkv
2025-08-06 18:35:26 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535616708762028822_uhd.flv?expire=1755732875&sign=9527c3af96c2d58e69a74959597e3def
2025-08-06 18:35:26 - INFO - Executing FFmpeg command for selenasistii
2025-08-06 18:35:26 - INFO - 🔍 Starting FFmpeg stderr monitor for selenasistii
2025-08-06 18:35:26 - INFO - 🔍 Started memory guardian for selenasistii (PID: 31992, threshold: 6.0%)
2025-08-06 18:35:51 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for selenasistii: time=00:00:24.24 (#1)
2025-08-06 18:35:51 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for selenasistii - triggering immediate restart
2025-08-06 18:35:51 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for selenasistii
2025-08-06 18:35:51 - INFO - 🔍 FFmpeg stderr monitor finished for selenasistii
2025-08-06 18:35:51 - WARNING - 🚨 CORRUPTION DETECTED for selenasistii, stopping current recording to restart
2025-08-06 18:35:51 - INFO - Starting graceful FFmpeg termination for selenasistii - Reason: corruption detected
2025-08-06 18:35:51 - INFO - Sending 'q' command to FFmpeg for selenasistii
2025-08-06 18:35:51 - INFO - Waiting 30s for FFmpeg to complete container headers for selenasistii
2025-08-06 18:35:51 - INFO - FFmpeg terminated cleanly via stdin for selenasistii
2025-08-06 18:35:51 - INFO - FFmpeg recording completed successfully for selenasistii
2025-08-06 18:35:51 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183526.log (12.5KB)
2025-08-06 18:35:51 - INFO - ✅ No corruption patterns detected for selenasistii
2025-08-06 18:35:51 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-26_cont2.mkv (2.9MB)
2025-08-06 18:35:51 - INFO - Added recording part 2 for selenasistii: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-26_cont2.mkv
2025-08-06 18:35:51 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for selenasistii
2025-08-06 18:35:51 - INFO - 🔍 Starting robust live verification for selenasistii (2min validation period)
2025-08-06 18:35:51 - INFO - 🔍 Checking if selenasistii still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:35:52 - INFO - ✅ User selenasistii confirmed still live after 0s (attempt 1)
2025-08-06 18:35:52 - INFO - ✅ User selenasistii still live, attempting restart with retry logic...
2025-08-06 18:35:52 - INFO - 🔄 Restart attempt 1/3 for selenasistii
2025-08-06 18:35:52 - INFO - 🔄 Using cached stream URL for corruption restart: selenasistii
2025-08-06 18:35:52 - INFO - ⏳ Waiting 1s for stream stabilization for selenasistii
2025-08-06 18:35:53 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 18:35:53 - INFO - Starting continuous recording part 3 for selenasistii
2025-08-06 18:35:58 - INFO - 🔄 Reusing cached stream URL for selenasistii (age: 87.8s)
2025-08-06 18:35:58 - INFO - Continuous recording part 3: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-58_cont3_flv.mp4
2025-08-06 18:35:58 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183558.log
2025-08-06 18:35:58 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-58_cont3.mkv
2025-08-06 18:35:58 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535616708762028822_uhd.flv?expire=1755732875&sign=9527c3af96c2d58e69a74959597e3def
2025-08-06 18:35:58 - INFO - Executing FFmpeg command for selenasistii
2025-08-06 18:35:58 - INFO - 🔍 Starting FFmpeg stderr monitor for selenasistii
2025-08-06 18:35:58 - INFO - 🔍 Started memory guardian for selenasistii (PID: 11948, threshold: 6.0%)
2025-08-06 18:36:15 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for selenasistii: time=00:00:17.74 (#1)
2025-08-06 18:36:15 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for selenasistii - triggering immediate restart
2025-08-06 18:36:15 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for selenasistii
2025-08-06 18:36:15 - INFO - 🔍 FFmpeg stderr monitor finished for selenasistii
2025-08-06 18:36:15 - WARNING - 🚨 CORRUPTION DETECTED for selenasistii, stopping current recording to restart
2025-08-06 18:36:15 - INFO - Starting graceful FFmpeg termination for selenasistii - Reason: corruption detected
2025-08-06 18:36:15 - INFO - Sending 'q' command to FFmpeg for selenasistii
2025-08-06 18:36:15 - INFO - Waiting 30s for FFmpeg to complete container headers for selenasistii
2025-08-06 18:36:17 - INFO - FFmpeg terminated cleanly via stdin for selenasistii
2025-08-06 18:36:17 - INFO - FFmpeg recording completed successfully for selenasistii
2025-08-06 18:36:17 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183558.log (10.9KB)
2025-08-06 18:36:17 - INFO - ✅ No corruption patterns detected for selenasistii
2025-08-06 18:36:17 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-58_cont3.mkv (2.2MB)
2025-08-06 18:36:17 - INFO - Added recording part 3 for selenasistii: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-35-58_cont3.mkv
2025-08-06 18:36:17 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for selenasistii
2025-08-06 18:36:17 - INFO - 🔍 Starting robust live verification for selenasistii (2min validation period)
2025-08-06 18:36:17 - INFO - 🔍 Checking if selenasistii still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:36:17 - INFO - ✅ User selenasistii confirmed still live after 0s (attempt 1)
2025-08-06 18:36:17 - INFO - ✅ User selenasistii still live, attempting restart with retry logic...
2025-08-06 18:36:17 - INFO - 🔄 Restart attempt 1/3 for selenasistii
2025-08-06 18:36:17 - INFO - 🔄 Using cached stream URL for corruption restart: selenasistii
2025-08-06 18:36:17 - INFO - ⏳ Waiting 1s for stream stabilization for selenasistii
2025-08-06 18:36:18 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 18:36:18 - INFO - Starting continuous recording part 4 for selenasistii
2025-08-06 18:36:23 - INFO - 🔄 Reusing cached stream URL for selenasistii (age: 113.2s)
2025-08-06 18:36:23 - INFO - Continuous recording part 4: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-36-23_cont4_flv.mp4
2025-08-06 18:36:23 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183623.log
2025-08-06 18:36:23 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-36-23_cont4.mkv
2025-08-06 18:36:23 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535616708762028822_uhd.flv?expire=1755732875&sign=9527c3af96c2d58e69a74959597e3def
2025-08-06 18:36:23 - INFO - Executing FFmpeg command for selenasistii
2025-08-06 18:36:23 - INFO - 🔍 Starting FFmpeg stderr monitor for selenasistii
2025-08-06 18:36:23 - INFO - 🔍 Started memory guardian for selenasistii (PID: 24616, threshold: 6.0%)
2025-08-06 18:36:34 - WARNING - 🚨 CORRUPTION PATTERN DETECTED for selenasistii: [tls @ 000001c6b2be65c0] Decryption has failed.
2025-08-06 18:36:34 - ERROR - 🚨 CRITICAL ERROR DETECTED for selenasistii, triggering immediate restart: [tls @ 000001c6b2be65c0] Decryption has failed.
2025-08-06 18:36:34 - WARNING - 🚨 CORRUPTION DETECTED for selenasistii, stopping current recording to restart
2025-08-06 18:36:34 - INFO - Starting graceful FFmpeg termination for selenasistii - Reason: corruption detected
2025-08-06 18:36:34 - INFO - Sending 'q' command to FFmpeg for selenasistii
2025-08-06 18:36:34 - INFO - Waiting 30s for FFmpeg to complete container headers for selenasistii
2025-08-06 18:36:35 - WARNING - 🚨 CORRUPTION PATTERN DETECTED for selenasistii: [flv @ 000001c6b2be3200] Packet mismatch 1179407873 9019 169442
2025-08-06 18:36:35 - ERROR - 🚨 CRITICAL ERROR DETECTED for selenasistii, triggering immediate restart: [flv @ 000001c6b2be3200] Packet mismatch 1179407873 9019 169442
2025-08-06 18:36:35 - INFO - 🔍 FFmpeg stderr monitor finished for selenasistii
2025-08-06 18:36:35 - INFO - FFmpeg terminated cleanly via stdin for selenasistii
2025-08-06 18:36:35 - INFO - FFmpeg recording completed successfully for selenasistii
2025-08-06 18:36:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183623.log (8.0KB)
2025-08-06 18:36:35 - WARNING - 🚨 CORRUPTION SUMMARY for selenasistii: 2 corruption patterns detected
2025-08-06 18:36:35 - WARNING - 📋 Please review the stderr log file for detailed analysis
2025-08-06 18:36:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-36-23_cont4.mkv (0.2MB)
2025-08-06 18:36:35 - INFO - Added recording part 4 for selenasistii: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-36-23_cont4.mkv
2025-08-06 18:36:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for selenasistii
2025-08-06 18:36:35 - INFO - 🔍 Starting robust live verification for selenasistii (2min validation period)
2025-08-06 18:36:35 - INFO - 🔍 Checking if selenasistii still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:36:36 - INFO - ✅ User selenasistii confirmed still live after 0s (attempt 1)
2025-08-06 18:36:36 - INFO - ✅ User selenasistii still live, attempting restart with retry logic...
2025-08-06 18:36:36 - INFO - 🔄 Restart attempt 1/3 for selenasistii
2025-08-06 18:36:36 - INFO - 🔄 Using cached stream URL for corruption restart: selenasistii
2025-08-06 18:36:36 - INFO - ⏳ Waiting 1s for stream stabilization for selenasistii
2025-08-06 18:36:37 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 18:36:37 - INFO - Starting continuous recording part 5 for selenasistii
2025-08-06 18:36:42 - INFO - 🔄 Reusing cached stream URL for selenasistii (age: 131.7s)
2025-08-06 18:36:42 - INFO - Continuous recording part 5: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-36-42_cont5_flv.mp4
2025-08-06 18:36:42 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_selenasistii_20250806_183642.log
2025-08-06 18:36:42 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\selenasistii-2025-08-06_18-34-29\TK_selenasistii_2025.08.06_18-36-42_cont5.mkv
2025-08-06 18:36:42 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535616708762028822_uhd.flv?expire=1755732875&sign=9527c3af96c2d58e69a74959597e3def
2025-08-06 18:36:42 - INFO - Executing FFmpeg command for selenasistii
2025-08-06 18:36:42 - INFO - 🔍 Starting FFmpeg stderr monitor for selenasistii
2025-08-06 18:36:42 - INFO - 🔍 Started memory guardian for selenasistii (PID: 22724, threshold: 6.0%)
2025-08-06 18:36:48 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:36:54 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:37:05 - INFO - 🔍 FFmpeg stderr monitor finished for selenasistii
2025-08-06 18:37:09 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:37:10 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:37:15 - INFO - Database connection initialized successfully
2025-08-06 18:37:17 - INFO - Checking and Installing dependencies...

2025-08-06 18:37:17 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754523437
2025-08-06 18:37:17 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:37:17 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:37:17 - INFO - User cache initialized with 3600s duration
2025-08-06 18:37:17 - INFO - User cache cleanup thread started
2025-08-06 18:37:18 - INFO -  ✅ Redis connection established
2025-08-06 18:37:18 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:37:18 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:37:18 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:37:18 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:37:18 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:37:18 - INFO - 👷 Worker-1 started
2025-08-06 18:37:18 - INFO - 👷 Worker-2 started
2025-08-06 18:37:18 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:37:18 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:37:18 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:37:18 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 18:37:18 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:37:18 - INFO - Upload recovery worker started
2025-08-06 18:37:18 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:37:18 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:37:19 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754523437 registered from DESKTOP-U62C3NA
2025-08-06 18:37:19 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523437 initialized successfully
2025-08-06 18:37:19 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:37:19 - INFO -    IP: 192.168.1.11
2025-08-06 18:37:19 - INFO -    Max concurrent jobs: 5
2025-08-06 18:37:19 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754523437
2025-08-06 18:37:19 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754523437 started processing jobs
2025-08-06 18:37:21 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:37:21 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:37:21 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:37:27 - INFO - 📥 Job 82e7db28-2736-4ed6-8942-7aaa0ac66fc7 assigned to worker worker_DESKTOP-U62C3NA_1754523437
2025-08-06 18:37:27 - INFO - 🎥 Processing job 82e7db28-2736-4ed6-8942-7aaa0ac66fc7 for cailinsummer
2025-08-06 18:37:27 - INFO - 📝 Job 82e7db28-2736-4ed6-8942-7aaa0ac66fc7 status updated to in_progress
2025-08-06 18:37:27 - INFO - 🎥 Worker starting recording for cailinsummer (user: 1268285169, chat: 1268285169)
2025-08-06 18:37:27 - INFO - Cache DISABLED: Fetching fresh room_id for cailinsummer from API
2025-08-06 18:37:27 - INFO - PRIMARY: Using TikTok API for room_id extraction of cailinsummer
2025-08-06 18:37:28 - INFO - ✅ TikTok API successful for cailinsummer: 7535618870528871199
2025-08-06 18:37:29 - INFO - Logged room_id for cailinsummer: 7535618870528871199 (cache disabled, DB log only)
2025-08-06 18:37:29 - INFO - PRIMARY TikTok API successful for room ID of cailinsummer: 7535618870528871199
2025-08-06 18:37:29 - INFO - ✅ User cailinsummer validated as live with room_id: 7535618870528871199
2025-08-06 18:37:30 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 18:37:31 - INFO - 🎯 Created master recording: cailinsummer_1754523447_1268285169
2025-08-06 18:37:32 - INFO - ✅ Redis state updated for recording: cailinsummer_1754523447_1268285169
2025-08-06 18:37:32 - INFO - 🎬 Starting TikTokRecorder for cailinsummer
2025-08-06 18:37:32 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:37:32 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:37:32 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_cailinsummer_1754523452.json
2025-08-06 18:37:32 - INFO - 🔍 RealtimeVideoSampler initialized for cailinsummer - interval: 30s, threshold: 30.0%
2025-08-06 18:37:33 - INFO - Using provided room_id: 7535618870528871199 for user: cailinsummer
2025-08-06 18:37:33 - INFO - USERNAME: cailinsummer
2025-08-06 18:37:33 - INFO - ROOM_ID:  7535618870528871199
2025-08-06 18:37:33 - INFO - 🌐 Fetching fresh stream URL for cailinsummer
2025-08-06 18:37:34 - INFO - ✅ Stream URL cached for cailinsummer (valid for 20.0 minutes)
2025-08-06 18:37:34 - INFO - Starting stream download from: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733054&sign=c127ca679520d14b48a9a7ef37ec2e4d
2025-08-06 18:37:34 - INFO - 📁 Created session folder: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\
2025-08-06 18:37:34 - INFO - Started recording...
2025-08-06 18:37:34 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:37:34 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_183734.log
2025-08-06 18:37:34 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-37-34.mkv
2025-08-06 18:37:34 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733054&sign=c127ca679520d14b48a9a7ef37ec2e4d
2025-08-06 18:37:34 - INFO - Executing FFmpeg command for cailinsummer
2025-08-06 18:37:34 - INFO - 🔍 Starting FFmpeg stderr monitor for cailinsummer
2025-08-06 18:37:34 - INFO - 🔍 Started memory guardian for cailinsummer (PID: 33080, threshold: 6.0%)
2025-08-06 18:37:34 - INFO - 📝 Job 82e7db28-2736-4ed6-8942-7aaa0ac66fc7 status updated to completed
2025-08-06 18:37:34 - INFO - ✅ Recording job 82e7db28-2736-4ed6-8942-7aaa0ac66fc7 completed for cailinsummer
2025-08-06 18:38:04 - INFO - FFmpeg recording in progress for cailinsummer: 0.5 minutes
2025-08-06 18:38:21 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for cailinsummer: time=00:00:54.10 (#1)
2025-08-06 18:38:21 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for cailinsummer - triggering immediate restart
2025-08-06 18:38:21 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for cailinsummer
2025-08-06 18:38:21 - INFO - 🔍 FFmpeg stderr monitor finished for cailinsummer
2025-08-06 18:38:22 - WARNING - 🚨 CORRUPTION DETECTED for cailinsummer, stopping current recording to restart
2025-08-06 18:38:22 - INFO - Starting graceful FFmpeg termination for cailinsummer - Reason: corruption detected
2025-08-06 18:38:22 - INFO - Sending 'q' command to FFmpeg for cailinsummer
2025-08-06 18:38:22 - INFO - Waiting 30s for FFmpeg to complete container headers for cailinsummer
2025-08-06 18:38:22 - INFO - FFmpeg terminated cleanly via stdin for cailinsummer
2025-08-06 18:38:22 - INFO - FFmpeg recording completed successfully for cailinsummer
2025-08-06 18:38:22 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_183734.log (16.1KB)
2025-08-06 18:38:22 - INFO - ✅ No corruption patterns detected for cailinsummer
2025-08-06 18:38:22 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-37-34.mkv (20.8MB)
2025-08-06 18:38:22 - INFO - Added recording part 1 for cailinsummer: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-37-34.mkv
2025-08-06 18:38:22 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for cailinsummer
2025-08-06 18:38:22 - INFO - 🔍 Starting robust live verification for cailinsummer (2min validation period)
2025-08-06 18:38:22 - INFO - 🔍 Checking if cailinsummer still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:38:23 - INFO - ✅ User cailinsummer confirmed still live after 0s (attempt 1)
2025-08-06 18:38:23 - INFO - ✅ User cailinsummer still live, attempting restart with retry logic...
2025-08-06 18:38:23 - INFO - 🔄 Restart attempt 1/3 for cailinsummer
2025-08-06 18:38:23 - INFO - 🔄 Using cached stream URL for corruption restart: cailinsummer
2025-08-06 18:38:23 - INFO - ⏳ Waiting 1s for stream stabilization for cailinsummer
2025-08-06 18:38:24 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 18:38:24 - INFO - Starting continuous recording part 2 for cailinsummer
2025-08-06 18:38:29 - INFO - 🔄 Reusing cached stream URL for cailinsummer (age: 55.6s)
2025-08-06 18:38:29 - INFO - Continuous recording part 2: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-38-29_cont2_flv.mp4
2025-08-06 18:38:29 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_183829.log
2025-08-06 18:38:29 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-38-29_cont2.mkv
2025-08-06 18:38:29 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733054&sign=c127ca679520d14b48a9a7ef37ec2e4d
2025-08-06 18:38:29 - INFO - Executing FFmpeg command for cailinsummer
2025-08-06 18:38:29 - INFO - 🔍 Starting FFmpeg stderr monitor for cailinsummer
2025-08-06 18:38:29 - INFO - 🔍 Started memory guardian for cailinsummer (PID: 33700, threshold: 6.0%)
2025-08-06 18:38:59 - INFO - 📊 SIZE CHECK: Total=34.7MB (Current=13.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:38:59 - INFO - FFmpeg recording in progress for cailinsummer: 0.5 minutes
2025-08-06 18:39:05 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:39:05 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:39:05 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:39:06 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:39:11 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:39:24 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for cailinsummer: time=00:01:02.52 (#1)
2025-08-06 18:39:24 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for cailinsummer - triggering immediate restart
2025-08-06 18:39:24 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for cailinsummer
2025-08-06 18:39:24 - INFO - 🔍 FFmpeg stderr monitor finished for cailinsummer
2025-08-06 18:39:25 - WARNING - 🚨 CORRUPTION DETECTED for cailinsummer, stopping current recording to restart
2025-08-06 18:39:25 - INFO - Starting graceful FFmpeg termination for cailinsummer - Reason: corruption detected
2025-08-06 18:39:25 - INFO - Sending 'q' command to FFmpeg for cailinsummer
2025-08-06 18:39:25 - INFO - Waiting 30s for FFmpeg to complete container headers for cailinsummer
2025-08-06 18:39:25 - INFO - FFmpeg terminated cleanly via stdin for cailinsummer
2025-08-06 18:39:25 - INFO - FFmpeg recording completed successfully for cailinsummer
2025-08-06 18:39:25 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_183829.log (17.8KB)
2025-08-06 18:39:25 - INFO - ✅ No corruption patterns detected for cailinsummer
2025-08-06 18:39:25 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-38-29_cont2.mkv (24.3MB)
2025-08-06 18:39:25 - INFO - Added recording part 2 for cailinsummer: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-38-29_cont2.mkv
2025-08-06 18:39:25 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for cailinsummer
2025-08-06 18:39:25 - INFO - 🔍 Starting robust live verification for cailinsummer (2min validation period)
2025-08-06 18:39:25 - INFO - 🔍 Checking if cailinsummer still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:39:26 - INFO - ✅ User cailinsummer confirmed still live after 0s (attempt 1)
2025-08-06 18:39:26 - INFO - ✅ User cailinsummer still live, attempting restart with retry logic...
2025-08-06 18:39:26 - INFO - 🔄 Restart attempt 1/3 for cailinsummer
2025-08-06 18:39:26 - INFO - 🔄 Using cached stream URL for corruption restart: cailinsummer
2025-08-06 18:39:26 - INFO - ⏳ Waiting 1s for stream stabilization for cailinsummer
2025-08-06 18:39:27 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 18:39:27 - INFO - Starting continuous recording part 3 for cailinsummer
2025-08-06 18:39:32 - INFO - 🔄 Reusing cached stream URL for cailinsummer (age: 118.7s)
2025-08-06 18:39:32 - INFO - Continuous recording part 3: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-39-32_cont3_flv.mp4
2025-08-06 18:39:32 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_183932.log
2025-08-06 18:39:32 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\cailinsummer-2025-08-06_18-37-32\TK_cailinsummer_2025.08.06_18-39-32_cont3.mkv
2025-08-06 18:39:32 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733054&sign=c127ca679520d14b48a9a7ef37ec2e4d
2025-08-06 18:39:32 - INFO - Executing FFmpeg command for cailinsummer
2025-08-06 18:39:32 - INFO - 🔍 Starting FFmpeg stderr monitor for cailinsummer
2025-08-06 18:39:32 - INFO - 🔍 Started memory guardian for cailinsummer (PID: 27168, threshold: 6.0%)
2025-08-06 18:40:02 - INFO - 📊 SIZE CHECK: Total=57.5MB (Current=12.4MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:40:02 - INFO - FFmpeg recording in progress for cailinsummer: 0.5 minutes
2025-08-06 18:40:32 - INFO - 📊 SIZE CHECK: Total=69.4MB (Current=24.4MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:40:32 - INFO - FFmpeg recording in progress for cailinsummer: 1.0 minutes
2025-08-06 18:41:02 - INFO - 📊 SIZE CHECK: Total=80.8MB (Current=35.8MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:41:02 - INFO - FFmpeg recording in progress for cailinsummer: 1.5 minutes
2025-08-06 18:41:33 - INFO - 📊 SIZE CHECK: Total=92.7MB (Current=47.6MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:41:33 - INFO - FFmpeg recording in progress for cailinsummer: 2.0 minutes
2025-08-06 18:42:03 - INFO - 📊 SIZE CHECK: Total=104.3MB (Current=59.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:42:03 - INFO - FFmpeg recording in progress for cailinsummer: 2.5 minutes
2025-08-06 18:42:33 - INFO - 📊 SIZE CHECK: Total=115.6MB (Current=70.5MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:42:33 - INFO - FFmpeg recording in progress for cailinsummer: 3.0 minutes
2025-08-06 18:42:54 - INFO - 🔍 FFmpeg stderr monitor finished for cailinsummer
2025-08-06 18:42:57 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:43:00 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:43:04 - INFO - Database connection initialized successfully
2025-08-06 18:43:06 - INFO - Checking and Installing dependencies...

2025-08-06 18:43:06 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754523786
2025-08-06 18:43:06 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:43:06 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:43:06 - INFO - User cache initialized with 3600s duration
2025-08-06 18:43:06 - INFO - User cache cleanup thread started
2025-08-06 18:43:07 - INFO -  ✅ Redis connection established
2025-08-06 18:43:07 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:43:07 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:43:07 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:43:07 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:43:07 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:43:07 - INFO - 👷 Worker-1 started
2025-08-06 18:43:07 - INFO - 👷 Worker-2 started
2025-08-06 18:43:07 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:43:07 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:43:07 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:43:07 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 18:43:07 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:43:07 - INFO - Upload recovery worker started
2025-08-06 18:43:07 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:43:07 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:43:08 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754523786 registered from DESKTOP-U62C3NA
2025-08-06 18:43:08 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523786 initialized successfully
2025-08-06 18:43:08 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:43:08 - INFO -    IP: 192.168.1.11
2025-08-06 18:43:08 - INFO -    Max concurrent jobs: 5
2025-08-06 18:43:08 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754523786
2025-08-06 18:43:08 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754523786 started processing jobs
2025-08-06 18:43:10 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:43:10 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:43:10 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:43:32 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:43:32 - INFO - 🛑 Worker shutdown flag set
2025-08-06 18:43:32 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 18:43:32 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754523786
2025-08-06 18:43:32 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:43:32 - INFO - Upload Manager Statistics:
2025-08-06 18:43:32 - INFO - Total uploads attempted: 0
2025-08-06 18:43:32 - INFO - Successful uploads: 0
2025-08-06 18:43:32 - INFO - Failed uploads: 0
2025-08-06 18:43:32 - INFO - Retried uploads: 0
2025-08-06 18:43:32 - INFO - Fatal errors: 0
2025-08-06 18:43:32 - INFO - ✅ Upload manager stopped
2025-08-06 18:43:32 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523786 shutdown complete
2025-08-06 18:43:32 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754523786
2025-08-06 18:43:32 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:43:32 - INFO - Upload Manager Statistics:
2025-08-06 18:43:32 - INFO - Total uploads attempted: 0
2025-08-06 18:43:32 - INFO - Successful uploads: 0
2025-08-06 18:43:32 - INFO - Failed uploads: 0
2025-08-06 18:43:32 - INFO - Retried uploads: 0
2025-08-06 18:43:32 - INFO - Fatal errors: 0
2025-08-06 18:43:32 - INFO - ✅ Upload manager stopped
2025-08-06 18:43:32 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523786 shutdown complete
2025-08-06 18:43:49 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:43:50 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:43:56 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:43:58 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:44:02 - INFO - Database connection initialized successfully
2025-08-06 18:44:04 - INFO - Checking and Installing dependencies...

2025-08-06 18:44:04 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754523844
2025-08-06 18:44:04 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:44:04 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:44:04 - INFO - User cache initialized with 3600s duration
2025-08-06 18:44:04 - INFO - User cache cleanup thread started
2025-08-06 18:44:06 - INFO -  ✅ Redis connection established
2025-08-06 18:44:06 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:44:06 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:44:06 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:44:06 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:44:06 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:44:06 - INFO - 👷 Worker-1 started
2025-08-06 18:44:06 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:44:06 - INFO - 👷 Worker-2 started
2025-08-06 18:44:06 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:44:06 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:44:06 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 18:44:06 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:44:06 - INFO - Upload recovery worker started
2025-08-06 18:44:06 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:44:06 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:44:06 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754523844 registered from DESKTOP-U62C3NA
2025-08-06 18:44:06 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523844 initialized successfully
2025-08-06 18:44:06 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:44:06 - INFO -    IP: 192.168.1.11
2025-08-06 18:44:06 - INFO -    Max concurrent jobs: 5
2025-08-06 18:44:06 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754523844
2025-08-06 18:44:06 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754523844 started processing jobs
2025-08-06 18:44:08 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:44:08 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:44:08 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:44:20 - INFO - 📥 Job 9bfaf577-9dbe-418f-9a64-c6c964330fac assigned to worker worker_DESKTOP-U62C3NA_1754523844
2025-08-06 18:44:20 - INFO - 🎥 Processing job 9bfaf577-9dbe-418f-9a64-c6c964330fac for cailinsummer
2025-08-06 18:44:20 - INFO - 📝 Job 9bfaf577-9dbe-418f-9a64-c6c964330fac status updated to in_progress
2025-08-06 18:44:20 - INFO - 🎥 Worker starting recording for cailinsummer (user: 1268285169, chat: 1268285169)
2025-08-06 18:44:20 - INFO - Cache DISABLED: Fetching fresh room_id for cailinsummer from API
2025-08-06 18:44:20 - INFO - PRIMARY: Using TikTok API for room_id extraction of cailinsummer
2025-08-06 18:44:21 - INFO - ✅ TikTok API successful for cailinsummer: 7535618870528871199
2025-08-06 18:44:22 - INFO - Logged room_id for cailinsummer: 7535618870528871199 (cache disabled, DB log only)
2025-08-06 18:44:22 - INFO - PRIMARY TikTok API successful for room ID of cailinsummer: 7535618870528871199
2025-08-06 18:44:22 - INFO - ✅ User cailinsummer validated as live with room_id: 7535618870528871199
2025-08-06 18:44:23 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 18:44:23 - INFO - 🎯 Created master recording: cailinsummer_1754523860_1268285169
2025-08-06 18:44:25 - INFO - ✅ Redis state updated for recording: cailinsummer_1754523860_1268285169
2025-08-06 18:44:25 - INFO - 🎬 Starting TikTokRecorder for cailinsummer
2025-08-06 18:44:25 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:44:25 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:44:25 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_cailinsummer_1754523865.json
2025-08-06 18:44:25 - INFO - 🔍 RealtimeVideoSampler initialized for cailinsummer - interval: 30s, threshold: 30.0%
2025-08-06 18:44:25 - INFO - Using provided room_id: 7535618870528871199 for user: cailinsummer
2025-08-06 18:44:25 - INFO - USERNAME: cailinsummer
2025-08-06 18:44:25 - INFO - ROOM_ID:  7535618870528871199
2025-08-06 18:44:26 - INFO - 🌐 Fetching fresh stream URL for cailinsummer
2025-08-06 18:44:26 - INFO - ✅ Stream URL cached for cailinsummer (valid for 20.0 minutes)
2025-08-06 18:44:26 - INFO - Starting stream download from: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733466&sign=3a0f3baac260cb4ce9c42823f4dcc270
2025-08-06 18:44:26 - INFO - 📁 Created session folder: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\
2025-08-06 18:44:26 - INFO - Started recording...
2025-08-06 18:44:26 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:44:26 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_184426.log
2025-08-06 18:44:26 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-44-26.mkv
2025-08-06 18:44:26 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733466&sign=3a0f3baac260cb4ce9c42823f4dcc270
2025-08-06 18:44:26 - INFO - Executing FFmpeg command for cailinsummer
2025-08-06 18:44:26 - INFO - 🔍 Starting FFmpeg stderr monitor for cailinsummer
2025-08-06 18:44:26 - INFO - 🔍 Started memory guardian for cailinsummer (PID: 30460, threshold: 6.0%)
2025-08-06 18:44:26 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-44-26.mkv
2025-08-06 18:44:26 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:44:27 - INFO - 📝 Job 9bfaf577-9dbe-418f-9a64-c6c964330fac status updated to completed
2025-08-06 18:44:27 - INFO - ✅ Recording job 9bfaf577-9dbe-418f-9a64-c6c964330fac completed for cailinsummer
2025-08-06 18:44:57 - INFO - FFmpeg recording in progress for cailinsummer: 0.5 minutes
2025-08-06 18:45:27 - INFO - FFmpeg recording in progress for cailinsummer: 1.0 minutes
2025-08-06 18:45:57 - INFO - FFmpeg recording in progress for cailinsummer: 1.5 minutes
2025-08-06 18:46:27 - INFO - FFmpeg recording in progress for cailinsummer: 2.0 minutes
2025-08-06 18:46:57 - INFO - FFmpeg recording in progress for cailinsummer: 2.5 minutes
2025-08-06 18:47:27 - INFO - FFmpeg recording in progress for cailinsummer: 3.0 minutes
2025-08-06 18:47:39 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for cailinsummer: time=00:03:19.06 (#1)
2025-08-06 18:47:39 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for cailinsummer - triggering immediate restart
2025-08-06 18:47:39 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for cailinsummer
2025-08-06 18:47:39 - INFO - 🔍 FFmpeg stderr monitor finished for cailinsummer
2025-08-06 18:47:39 - WARNING - 🚨 CORRUPTION DETECTED for cailinsummer, stopping current recording to restart
2025-08-06 18:47:39 - INFO - Starting graceful FFmpeg termination for cailinsummer - Reason: corruption detected
2025-08-06 18:47:39 - INFO - Sending 'q' command to FFmpeg for cailinsummer
2025-08-06 18:47:39 - INFO - Waiting 30s for FFmpeg to complete container headers for cailinsummer
2025-08-06 18:47:39 - INFO - FFmpeg terminated cleanly via stdin for cailinsummer
2025-08-06 18:47:39 - INFO - FFmpeg recording completed successfully for cailinsummer
2025-08-06 18:47:39 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_184426.log (48.5KB)
2025-08-06 18:47:39 - INFO - ✅ No corruption patterns detected for cailinsummer
2025-08-06 18:47:39 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-44-26.mkv (77.4MB)
2025-08-06 18:47:39 - INFO - Added recording part 1 for cailinsummer: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-44-26.mkv
2025-08-06 18:47:39 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for cailinsummer
2025-08-06 18:47:39 - INFO - 🔍 Starting robust live verification for cailinsummer (2min validation period)
2025-08-06 18:47:39 - INFO - 🔍 Checking if cailinsummer still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:47:40 - INFO - ✅ User cailinsummer confirmed still live after 0s (attempt 1)
2025-08-06 18:47:40 - INFO - ✅ User cailinsummer still live, attempting restart with retry logic...
2025-08-06 18:47:40 - INFO - 🔄 Restart attempt 1/3 for cailinsummer
2025-08-06 18:47:40 - INFO - 🔄 Using cached stream URL for corruption restart: cailinsummer
2025-08-06 18:47:40 - INFO - ⏳ Waiting 1s for stream stabilization for cailinsummer
2025-08-06 18:47:41 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 18:47:41 - INFO - Starting continuous recording part 2 for cailinsummer
2025-08-06 18:47:46 - INFO - 🔄 Reusing cached stream URL for cailinsummer (age: 200.0s)
2025-08-06 18:47:46 - INFO - Continuous recording part 2: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-47-46_cont2_flv.mp4
2025-08-06 18:47:46 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_cailinsummer_20250806_184746.log
2025-08-06 18:47:46 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-47-46_cont2.mkv
2025-08-06 18:47:46 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864738947984524226_or4.flv?expire=1755733466&sign=3a0f3baac260cb4ce9c42823f4dcc270
2025-08-06 18:47:46 - INFO - Executing FFmpeg command for cailinsummer
2025-08-06 18:47:46 - INFO - 🔍 Starting FFmpeg stderr monitor for cailinsummer
2025-08-06 18:47:46 - INFO - 🔍 Started memory guardian for cailinsummer (PID: 23356, threshold: 6.0%)
2025-08-06 18:47:46 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\cailinsummer-2025-08-06_18-44-25\TK_cailinsummer_2025.08.06_18-47-46_cont2.mkv
2025-08-06 18:47:46 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:48:16 - INFO - 📊 SIZE CHECK: Total=90.5MB (Current=13.1MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:48:16 - INFO - FFmpeg recording in progress for cailinsummer: 0.5 minutes
2025-08-06 18:48:46 - INFO - 📊 SIZE CHECK: Total=102.8MB (Current=25.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:48:46 - INFO - FFmpeg recording in progress for cailinsummer: 1.0 minutes
2025-08-06 18:49:16 - INFO - 📊 SIZE CHECK: Total=114.2MB (Current=36.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:49:16 - INFO - FFmpeg recording in progress for cailinsummer: 1.5 minutes
2025-08-06 18:49:46 - INFO - 📊 SIZE CHECK: Total=126.5MB (Current=49.1MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:49:46 - INFO - FFmpeg recording in progress for cailinsummer: 2.0 minutes
2025-08-06 18:50:16 - INFO - 📊 SIZE CHECK: Total=137.8MB (Current=60.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:50:16 - INFO - FFmpeg recording in progress for cailinsummer: 2.5 minutes
2025-08-06 18:50:47 - INFO - 📊 SIZE CHECK: Total=149.3MB (Current=71.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:50:47 - INFO - FFmpeg recording in progress for cailinsummer: 3.0 minutes
2025-08-06 18:51:15 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:51:15 - INFO - 🛑 Worker shutdown flag set
2025-08-06 18:51:15 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 18:51:15 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754523844
2025-08-06 18:51:15 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:51:15 - INFO - Upload Manager Statistics:
2025-08-06 18:51:15 - INFO - Total uploads attempted: 0
2025-08-06 18:51:15 - INFO - Successful uploads: 0
2025-08-06 18:51:15 - INFO - Failed uploads: 0
2025-08-06 18:51:15 - INFO - Retried uploads: 0
2025-08-06 18:51:15 - INFO - Fatal errors: 0
2025-08-06 18:51:15 - INFO - ✅ Upload manager stopped
2025-08-06 18:51:15 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523844 shutdown complete
2025-08-06 18:51:15 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754523844
2025-08-06 18:51:15 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:51:15 - INFO - Upload Manager Statistics:
2025-08-06 18:51:15 - INFO - Total uploads attempted: 0
2025-08-06 18:51:15 - INFO - Successful uploads: 0
2025-08-06 18:51:15 - INFO - Failed uploads: 0
2025-08-06 18:51:15 - INFO - Retried uploads: 0
2025-08-06 18:51:15 - INFO - Fatal errors: 0
2025-08-06 18:51:15 - INFO - ✅ Upload manager stopped
2025-08-06 18:51:15 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754523844 shutdown complete
2025-08-06 18:51:26 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:51:28 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:51:32 - INFO - Database connection initialized successfully
2025-08-06 18:51:34 - INFO - Checking and Installing dependencies...

2025-08-06 18:51:34 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754524294
2025-08-06 18:51:34 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:51:34 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:51:34 - INFO - User cache initialized with 3600s duration
2025-08-06 18:51:34 - INFO - User cache cleanup thread started
2025-08-06 18:51:36 - INFO -  ✅ Redis connection established
2025-08-06 18:51:36 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:51:36 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:51:36 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:51:36 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:51:36 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:51:36 - INFO - 👷 Worker-1 started
2025-08-06 18:51:36 - INFO - 👷 Worker-2 started
2025-08-06 18:51:36 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:51:36 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:51:36 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:51:36 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 18:51:36 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:51:36 - INFO - Upload recovery worker started
2025-08-06 18:51:36 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:51:36 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:51:36 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754524294 registered from DESKTOP-U62C3NA
2025-08-06 18:51:36 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524294 initialized successfully
2025-08-06 18:51:36 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:51:36 - INFO -    IP: 192.168.1.11
2025-08-06 18:51:36 - INFO -    Max concurrent jobs: 5
2025-08-06 18:51:36 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754524294
2025-08-06 18:51:36 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754524294 started processing jobs
2025-08-06 18:51:38 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:51:38 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:51:38 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:51:50 - INFO - 📥 Job 706b8000-1665-47a7-b846-880ef5ae91db assigned to worker worker_DESKTOP-U62C3NA_1754524294
2025-08-06 18:51:50 - INFO - 🎥 Processing job 706b8000-1665-47a7-b846-880ef5ae91db for _averylang
2025-08-06 18:51:50 - INFO - 📝 Job 706b8000-1665-47a7-b846-880ef5ae91db status updated to in_progress
2025-08-06 18:51:50 - INFO - 🎥 Worker starting recording for _averylang (user: 1268285169, chat: 1268285169)
2025-08-06 18:51:50 - INFO - Cache DISABLED: Fetching fresh room_id for _averylang from API
2025-08-06 18:51:50 - INFO - PRIMARY: Using TikTok API for room_id extraction of _averylang
2025-08-06 18:51:51 - INFO - ✅ TikTok API successful for _averylang: 7535621497403345677
2025-08-06 18:51:52 - INFO - Logged room_id for _averylang: 7535621497403345677 (cache disabled, DB log only)
2025-08-06 18:51:52 - INFO - PRIMARY TikTok API successful for room ID of _averylang: 7535621497403345677
2025-08-06 18:51:53 - INFO - ✅ User _averylang validated as live with room_id: 7535621497403345677
2025-08-06 18:51:53 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 18:51:54 - INFO - 🎯 Created master recording: _averylang_1754524310_1268285169
2025-08-06 18:51:55 - INFO - ✅ Redis state updated for recording: _averylang_1754524310_1268285169
2025-08-06 18:51:55 - INFO - 🎬 Starting TikTokRecorder for _averylang
2025-08-06 18:51:55 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:51:55 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:51:55 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session__averylang_1754524315.json
2025-08-06 18:51:55 - INFO - 🔍 RealtimeVideoSampler initialized for _averylang - interval: 30s, threshold: 30.0%
2025-08-06 18:51:56 - INFO - Using provided room_id: 7535621497403345677 for user: _averylang
2025-08-06 18:51:56 - INFO - USERNAME: _averylang
2025-08-06 18:51:56 - INFO - ROOM_ID:  7535621497403345677
2025-08-06 18:51:57 - INFO - 🌐 Fetching fresh stream URL for _averylang
2025-08-06 18:51:57 - INFO - ✅ Stream URL cached for _averylang (valid for 20.0 minutes)
2025-08-06 18:51:57 - INFO - Starting stream download from: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755733917&sign=bdc38ce3b36c86a37a97ee44b3808925
2025-08-06 18:51:57 - INFO - 📁 Created session folder: D:/recordings/organized\_averylang-2025-08-06_18-51-55\
2025-08-06 18:51:57 - INFO - Started recording...
2025-08-06 18:51:57 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:51:57 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_185157.log
2025-08-06 18:51:57 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-51-57.mkv
2025-08-06 18:51:57 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755733917&sign=bdc38ce3b36c86a37a97ee44b3808925
2025-08-06 18:51:57 - INFO - Executing FFmpeg command for _averylang
2025-08-06 18:51:57 - INFO - 🔍 Starting FFmpeg stderr monitor for _averylang
2025-08-06 18:51:57 - INFO - 🔍 Started memory guardian for _averylang (PID: 17956, threshold: 6.0%)
2025-08-06 18:51:57 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-51-57.mkv
2025-08-06 18:51:57 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:51:57 - INFO - 📝 Job 706b8000-1665-47a7-b846-880ef5ae91db status updated to completed
2025-08-06 18:51:58 - INFO - ✅ Recording job 706b8000-1665-47a7-b846-880ef5ae91db completed for _averylang
2025-08-06 18:52:27 - INFO - FFmpeg recording in progress for _averylang: 0.5 minutes
2025-08-06 18:52:58 - INFO - FFmpeg recording in progress for _averylang: 1.0 minutes
2025-08-06 18:53:28 - INFO - FFmpeg recording in progress for _averylang: 1.5 minutes
2025-08-06 18:53:58 - INFO - FFmpeg recording in progress for _averylang: 2.0 minutes
2025-08-06 18:54:28 - INFO - FFmpeg recording in progress for _averylang: 2.5 minutes
2025-08-06 18:54:41 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _averylang: time=00:02:50.23 (#1)
2025-08-06 18:54:41 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _averylang - triggering immediate restart
2025-08-06 18:54:41 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _averylang
2025-08-06 18:54:41 - INFO - 🔍 FFmpeg stderr monitor finished for _averylang
2025-08-06 18:54:42 - WARNING - 🚨 CORRUPTION DETECTED for _averylang, stopping current recording to restart
2025-08-06 18:54:42 - INFO - Starting graceful FFmpeg termination for _averylang - Reason: corruption detected
2025-08-06 18:54:42 - INFO - Sending 'q' command to FFmpeg for _averylang
2025-08-06 18:54:42 - INFO - Waiting 30s for FFmpeg to complete container headers for _averylang
2025-08-06 18:54:43 - INFO - FFmpeg terminated cleanly via stdin for _averylang
2025-08-06 18:54:43 - INFO - FFmpeg recording completed successfully for _averylang
2025-08-06 18:54:43 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_185157.log (43.6KB)
2025-08-06 18:54:43 - INFO - ✅ No corruption patterns detected for _averylang
2025-08-06 18:54:43 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-51-57.mkv (63.6MB)
2025-08-06 18:54:43 - INFO - Added recording part 1 for _averylang: D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-51-57.mkv
2025-08-06 18:54:43 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _averylang
2025-08-06 18:54:43 - INFO - 🔍 Starting robust live verification for _averylang (2min validation period)
2025-08-06 18:54:43 - INFO - 🔍 Checking if _averylang still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:54:43 - INFO - ✅ User _averylang confirmed still live after 0s (attempt 1)
2025-08-06 18:54:43 - INFO - ✅ User _averylang still live, attempting restart with retry logic...
2025-08-06 18:54:43 - INFO - 🔄 Restart attempt 1/3 for _averylang
2025-08-06 18:54:43 - INFO - 🔄 Using cached stream URL for corruption restart: _averylang
2025-08-06 18:54:43 - INFO - ⏳ Waiting 1s for stream stabilization for _averylang
2025-08-06 18:54:44 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 18:54:44 - INFO - Starting continuous recording part 2 for _averylang
2025-08-06 18:54:49 - INFO - 🔄 Reusing cached stream URL for _averylang (age: 172.1s)
2025-08-06 18:54:49 - INFO - Continuous recording part 2: D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-54-49_cont2_flv.mp4
2025-08-06 18:54:49 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_185449.log
2025-08-06 18:54:49 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-54-49_cont2.mkv
2025-08-06 18:54:49 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755733917&sign=bdc38ce3b36c86a37a97ee44b3808925
2025-08-06 18:54:49 - INFO - Executing FFmpeg command for _averylang
2025-08-06 18:54:49 - INFO - 🔍 Starting FFmpeg stderr monitor for _averylang
2025-08-06 18:54:49 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\_averylang-2025-08-06_18-51-55\TK__averylang_2025.08.06_18-54-49_cont2.mkv
2025-08-06 18:54:49 - INFO - 🔍 Started memory guardian for _averylang (PID: 31172, threshold: 6.0%)
2025-08-06 18:54:49 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:55:19 - INFO - 📊 SIZE CHECK: Total=76.0MB (Current=12.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:55:19 - INFO - FFmpeg recording in progress for _averylang: 0.5 minutes
2025-08-06 18:55:42 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:55:42 - INFO - 🛑 Worker shutdown flag set
2025-08-06 18:55:42 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 18:55:42 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754524294
2025-08-06 18:55:42 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:55:42 - INFO - Upload Manager Statistics:
2025-08-06 18:55:42 - INFO - Total uploads attempted: 0
2025-08-06 18:55:42 - INFO - Successful uploads: 0
2025-08-06 18:55:42 - INFO - Failed uploads: 0
2025-08-06 18:55:42 - INFO - Retried uploads: 0
2025-08-06 18:55:42 - INFO - Fatal errors: 0
2025-08-06 18:55:42 - INFO - ✅ Upload manager stopped
2025-08-06 18:55:42 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524294 shutdown complete
2025-08-06 18:55:42 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754524294
2025-08-06 18:55:42 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:55:42 - INFO - Upload Manager Statistics:
2025-08-06 18:55:42 - INFO - Total uploads attempted: 0
2025-08-06 18:55:42 - INFO - Successful uploads: 0
2025-08-06 18:55:42 - INFO - Failed uploads: 0
2025-08-06 18:55:42 - INFO - Retried uploads: 0
2025-08-06 18:55:42 - INFO - Fatal errors: 0
2025-08-06 18:55:42 - INFO - ✅ Upload manager stopped
2025-08-06 18:55:42 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524294 shutdown complete
2025-08-06 18:55:49 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:55:50 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:55:55 - INFO - Database connection initialized successfully
2025-08-06 18:55:58 - INFO - Checking and Installing dependencies...

2025-08-06 18:55:58 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754524558
2025-08-06 18:55:58 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:55:58 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:55:58 - INFO - User cache initialized with 3600s duration
2025-08-06 18:55:58 - INFO - User cache cleanup thread started
2025-08-06 18:55:59 - INFO -  ✅ Redis connection established
2025-08-06 18:55:59 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:55:59 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:55:59 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:55:59 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:55:59 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:55:59 - INFO - 👷 Worker-1 started
2025-08-06 18:55:59 - INFO - 👷 Worker-2 started
2025-08-06 18:55:59 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:55:59 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:55:59 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:55:59 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 18:55:59 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:55:59 - INFO - Upload recovery worker started
2025-08-06 18:55:59 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:55:59 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:55:59 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754524558 registered from DESKTOP-U62C3NA
2025-08-06 18:55:59 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524558 initialized successfully
2025-08-06 18:55:59 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:55:59 - INFO -    IP: 192.168.1.11
2025-08-06 18:55:59 - INFO -    Max concurrent jobs: 5
2025-08-06 18:55:59 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754524558
2025-08-06 18:55:59 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754524558 started processing jobs
2025-08-06 18:56:01 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:56:01 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:56:01 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:56:18 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 18:56:18 - INFO - 🛑 Worker shutdown flag set
2025-08-06 18:56:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754524558
2025-08-06 18:56:18 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 18:56:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:56:18 - INFO - Upload Manager Statistics:
2025-08-06 18:56:18 - INFO - Total uploads attempted: 0
2025-08-06 18:56:18 - INFO - Successful uploads: 0
2025-08-06 18:56:18 - INFO - Failed uploads: 0
2025-08-06 18:56:18 - INFO - Retried uploads: 0
2025-08-06 18:56:18 - INFO - Fatal errors: 0
2025-08-06 18:56:18 - INFO - ✅ Upload manager stopped
2025-08-06 18:56:18 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524558 shutdown complete
2025-08-06 18:56:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754524558
2025-08-06 18:56:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 18:56:18 - INFO - Upload Manager Statistics:
2025-08-06 18:56:18 - INFO - Total uploads attempted: 0
2025-08-06 18:56:18 - INFO - Successful uploads: 0
2025-08-06 18:56:18 - INFO - Failed uploads: 0
2025-08-06 18:56:18 - INFO - Retried uploads: 0
2025-08-06 18:56:18 - INFO - Fatal errors: 0
2025-08-06 18:56:18 - INFO - ✅ Upload manager stopped
2025-08-06 18:56:18 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524558 shutdown complete
2025-08-06 18:56:20 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 18:56:22 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 18:56:26 - INFO - Database connection initialized successfully
2025-08-06 18:56:28 - INFO - Checking and Installing dependencies...

2025-08-06 18:56:28 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 18:56:28 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:56:28 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:56:28 - INFO - User cache initialized with 3600s duration
2025-08-06 18:56:28 - INFO - User cache cleanup thread started
2025-08-06 18:56:30 - INFO -  ✅ Redis connection established
2025-08-06 18:56:30 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 18:56:30 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 18:56:30 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 18:56:30 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 18:56:30 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 18:56:30 - INFO - 👷 Worker-1 started
2025-08-06 18:56:30 - INFO - 👷 Worker-2 started
2025-08-06 18:56:30 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:56:30 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:56:30 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 18:56:30 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 18:56:30 - INFO - 🚀 Started 2 upload workers
2025-08-06 18:56:30 - INFO - Upload recovery worker started
2025-08-06 18:56:30 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 18:56:30 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 18:56:30 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754524588 registered from DESKTOP-U62C3NA
2025-08-06 18:56:30 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524588 initialized successfully
2025-08-06 18:56:30 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 18:56:30 - INFO -    IP: 192.168.1.11
2025-08-06 18:56:30 - INFO -    Max concurrent jobs: 5
2025-08-06 18:56:30 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 18:56:30 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754524588 started processing jobs
2025-08-06 18:56:32 - INFO - 🚀 Upload worker 1 started
2025-08-06 18:56:32 - INFO - 🚀 Upload worker 2 started
2025-08-06 18:56:32 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 18:56:38 - INFO - 📥 Job 56804b61-ae64-4148-aa9a-b501597e4656 assigned to worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 18:56:38 - INFO - 🎥 Processing job 56804b61-ae64-4148-aa9a-b501597e4656 for laoreja3
2025-08-06 18:56:38 - INFO - 📝 Job 56804b61-ae64-4148-aa9a-b501597e4656 status updated to in_progress
2025-08-06 18:56:38 - INFO - 🎥 Worker starting recording for laoreja3 (user: 1268285169, chat: 1268285169)
2025-08-06 18:56:38 - INFO - Cache DISABLED: Fetching fresh room_id for laoreja3 from API
2025-08-06 18:56:38 - INFO - PRIMARY: Using TikTok API for room_id extraction of laoreja3
2025-08-06 18:56:39 - INFO - ✅ TikTok API successful for laoreja3: 7535587733838793495
2025-08-06 18:56:40 - INFO - Logged room_id for laoreja3: 7535587733838793495 (cache disabled, DB log only)
2025-08-06 18:56:40 - INFO - PRIMARY TikTok API successful for room ID of laoreja3: 7535587733838793495
2025-08-06 18:56:41 - INFO - ✅ User laoreja3 validated as live with room_id: 7535587733838793495
2025-08-06 18:56:41 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 18:56:42 - INFO - 🎯 Created master recording: laoreja3_1754524598_1268285169
2025-08-06 18:56:43 - INFO - ✅ Redis state updated for recording: laoreja3_1754524598_1268285169
2025-08-06 18:56:43 - INFO - 🎬 Starting TikTokRecorder for laoreja3
2025-08-06 18:56:43 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:56:43 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:56:43 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_laoreja3_1754524603.json
2025-08-06 18:56:43 - INFO - 🔍 RealtimeVideoSampler initialized for laoreja3 - interval: 30s, threshold: 30.0%
2025-08-06 18:56:44 - INFO - Using provided room_id: 7535587733838793495 for user: laoreja3
2025-08-06 18:56:44 - INFO - USERNAME: laoreja3
2025-08-06 18:56:44 - INFO - ROOM_ID:  7535587733838793495
2025-08-06 18:56:44 - INFO - 🌐 Fetching fresh stream URL for laoreja3
2025-08-06 18:56:45 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 18:56:45 - INFO - Trying TikTokLive fallback for user 'laoreja3' (room 7535587733838793495) due to: Live is private, login required. 
2025-08-06 18:56:45 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10077+none
2025-08-06 18:56:45 - INFO - 📝 Job 56804b61-ae64-4148-aa9a-b501597e4656 status updated to completed
2025-08-06 18:56:46 - INFO - ✅ Recording job 56804b61-ae64-4148-aa9a-b501597e4656 completed for laoreja3
2025-08-06 18:56:51 - INFO - TikTokLive fallback: Room info obtenido para laoreja3 (attempt 1)
2025-08-06 18:56:51 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 18:56:51 - INFO - TikTokLive fallback: Usando FLV URL con calidad SD1
2025-08-06 18:56:51 - INFO - TikTokLive fallback successful for laoreja3
2025-08-06 18:56:51 - INFO - ✅ Stream URL cached for laoreja3 (valid for 20.0 minutes)
2025-08-06 18:56:51 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_ld.flv?expire=1755734209&sign=5d953709fbf789c80f33cb0fabe2156a
2025-08-06 18:56:51 - INFO - 📁 Created session folder: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\
2025-08-06 18:56:51 - INFO - Started recording...
2025-08-06 18:56:51 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:56:51 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_185651.log
2025-08-06 18:56:51 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-56-51.mkv
2025-08-06 18:56:51 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_ld.flv?expire=1755734209&sign=5d953709fbf789c80f33cb0fabe2156a
2025-08-06 18:56:51 - INFO - Executing FFmpeg command for laoreja3
2025-08-06 18:56:51 - INFO - 🔍 Starting FFmpeg stderr monitor for laoreja3
2025-08-06 18:56:51 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-56-51.mkv
2025-08-06 18:56:51 - INFO - 🔍 Started memory guardian for laoreja3 (PID: 21428, threshold: 6.0%)
2025-08-06 18:56:51 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:57:21 - INFO - FFmpeg recording in progress for laoreja3: 0.5 minutes
2025-08-06 18:57:31 - INFO - 📥 Job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6 assigned to worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 18:57:31 - INFO - 🎥 Processing job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6 for biaah.____
2025-08-06 18:57:31 - INFO - 📝 Job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6 status updated to in_progress
2025-08-06 18:57:31 - INFO - 🎥 Worker starting recording for biaah.____ (user: 1284010946, chat: 1284010946)
2025-08-06 18:57:31 - INFO - Cache DISABLED: Fetching fresh room_id for biaah.____ from API
2025-08-06 18:57:31 - INFO - PRIMARY: Using TikTok API for room_id extraction of biaah.____
2025-08-06 18:57:32 - INFO - ✅ TikTok API successful for biaah.____: 7535617607290866438
2025-08-06 18:57:33 - INFO - Logged room_id for biaah.____: 7535617607290866438 (cache disabled, DB log only)
2025-08-06 18:57:33 - INFO - PRIMARY TikTok API successful for room ID of biaah.____: 7535617607290866438
2025-08-06 18:57:33 - ERROR - Failed to start recording for biaah.____: User biaah.____ is not currently live
2025-08-06 18:57:35 - INFO - 🧹 Cleaned up Redis entries for failed recording: biaah._____1754524651_1284010946
2025-08-06 18:57:35 - ERROR - ❌ Recording job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6 failed: User biaah.____ is not currently live
2025-08-06 18:57:35 - INFO - 📝 Job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6 status updated to failed
2025-08-06 18:57:35 - ERROR - ❌ Error processing job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6: User biaah.____ is not currently live
2025-08-06 18:57:35 - INFO - 📝 Job c3b315ec-e6ea-4e72-a5eb-e7990a64afa6 status updated to failed
2025-08-06 18:57:51 - INFO - FFmpeg recording in progress for laoreja3: 1.0 minutes
2025-08-06 18:58:01 - INFO - 📥 Job 4d2f8366-e41a-4cd1-a638-947a8c13ec26 assigned to worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 18:58:01 - INFO - 🎥 Processing job 4d2f8366-e41a-4cd1-a638-947a8c13ec26 for _averylang
2025-08-06 18:58:01 - INFO - 📝 Job 4d2f8366-e41a-4cd1-a638-947a8c13ec26 status updated to in_progress
2025-08-06 18:58:02 - INFO - 🎥 Worker starting recording for _averylang (user: 1268285169, chat: 1268285169)
2025-08-06 18:58:02 - INFO - Cache DISABLED: Fetching fresh room_id for _averylang from API
2025-08-06 18:58:02 - INFO - PRIMARY: Using TikTok API for room_id extraction of _averylang
2025-08-06 18:58:03 - INFO - ✅ TikTok API successful for _averylang: 7535621497403345677
2025-08-06 18:58:03 - INFO - Logged room_id for _averylang: 7535621497403345677 (cache disabled, DB log only)
2025-08-06 18:58:03 - INFO - PRIMARY TikTok API successful for room ID of _averylang: 7535621497403345677
2025-08-06 18:58:04 - INFO - ✅ User _averylang validated as live with room_id: 7535621497403345677
2025-08-06 18:58:04 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 18:58:05 - INFO - 🎯 Created master recording: _averylang_1754524682_1268285169
2025-08-06 18:58:06 - INFO - ✅ Redis state updated for recording: _averylang_1754524682_1268285169
2025-08-06 18:58:06 - INFO - 🎬 Starting TikTokRecorder for _averylang
2025-08-06 18:58:06 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 18:58:06 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 18:58:06 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session__averylang_1754524686.json
2025-08-06 18:58:06 - INFO - 🔍 RealtimeVideoSampler initialized for _averylang - interval: 30s, threshold: 30.0%
2025-08-06 18:58:07 - INFO - Using provided room_id: 7535621497403345677 for user: _averylang
2025-08-06 18:58:07 - INFO - USERNAME: _averylang
2025-08-06 18:58:07 - INFO - ROOM_ID:  7535621497403345677
2025-08-06 18:58:07 - INFO - 🌐 Fetching fresh stream URL for _averylang
2025-08-06 18:58:08 - INFO - ✅ Stream URL cached for _averylang (valid for 20.0 minutes)
2025-08-06 18:58:08 - INFO - Starting stream download from: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755734288&sign=72698a31d13d3dc8d6f27fa0a65eadf6
2025-08-06 18:58:08 - INFO - 📁 Created session folder: D:/recordings/organized\_averylang-2025-08-06_18-58-06\
2025-08-06 18:58:08 - INFO - Started recording...
2025-08-06 18:58:08 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 18:58:08 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_185808.log
2025-08-06 18:58:08 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_18-58-08.mkv
2025-08-06 18:58:08 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755734288&sign=72698a31d13d3dc8d6f27fa0a65eadf6
2025-08-06 18:58:08 - INFO - Executing FFmpeg command for _averylang
2025-08-06 18:58:08 - INFO - 🔍 Starting FFmpeg stderr monitor for _averylang
2025-08-06 18:58:08 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_18-58-08.mkv
2025-08-06 18:58:08 - INFO - 🔍 Started memory guardian for _averylang (PID: 9632, threshold: 6.0%)
2025-08-06 18:58:08 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:58:08 - INFO - 📝 Job 4d2f8366-e41a-4cd1-a638-947a8c13ec26 status updated to completed
2025-08-06 18:58:08 - INFO - ✅ Recording job 4d2f8366-e41a-4cd1-a638-947a8c13ec26 completed for _averylang
2025-08-06 18:58:21 - INFO - FFmpeg recording in progress for laoreja3: 1.5 minutes
2025-08-06 18:58:38 - INFO - FFmpeg recording in progress for _averylang: 0.5 minutes
2025-08-06 18:58:51 - INFO - FFmpeg recording in progress for laoreja3: 2.0 minutes
2025-08-06 18:59:08 - INFO - FFmpeg recording in progress for _averylang: 1.0 minutes
2025-08-06 18:59:11 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for laoreja3: time=00:02:20.83 (#1)
2025-08-06 18:59:11 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for laoreja3 - triggering immediate restart
2025-08-06 18:59:11 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for laoreja3
2025-08-06 18:59:11 - INFO - 🔍 FFmpeg stderr monitor finished for laoreja3
2025-08-06 18:59:11 - WARNING - 🚨 CORRUPTION DETECTED for laoreja3, stopping current recording to restart
2025-08-06 18:59:11 - INFO - Starting graceful FFmpeg termination for laoreja3 - Reason: corruption detected
2025-08-06 18:59:11 - INFO - Sending 'q' command to FFmpeg for laoreja3
2025-08-06 18:59:11 - INFO - Waiting 30s for FFmpeg to complete container headers for laoreja3
2025-08-06 18:59:12 - INFO - FFmpeg terminated cleanly via stdin for laoreja3
2025-08-06 18:59:12 - INFO - FFmpeg recording completed successfully for laoreja3
2025-08-06 18:59:12 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_185651.log (38.3KB)
2025-08-06 18:59:12 - INFO - ✅ No corruption patterns detected for laoreja3
2025-08-06 18:59:12 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-56-51.mkv (10.4MB)
2025-08-06 18:59:12 - INFO - Added recording part 1 for laoreja3: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-56-51.mkv
2025-08-06 18:59:12 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for laoreja3
2025-08-06 18:59:12 - INFO - 🔍 Starting robust live verification for laoreja3 (2min validation period)
2025-08-06 18:59:12 - INFO - 🔍 Checking if laoreja3 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 18:59:12 - INFO - ✅ User laoreja3 confirmed still live after 0s (attempt 1)
2025-08-06 18:59:12 - INFO - ✅ User laoreja3 still live, attempting restart with retry logic...
2025-08-06 18:59:12 - INFO - 🔄 Restart attempt 1/3 for laoreja3
2025-08-06 18:59:12 - INFO - 🔄 Using cached stream URL for corruption restart: laoreja3
2025-08-06 18:59:12 - INFO - ⏳ Waiting 1s for stream stabilization for laoreja3
2025-08-06 18:59:13 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 18:59:13 - INFO - Starting continuous recording part 2 for laoreja3
2025-08-06 18:59:18 - INFO - 🔄 Reusing cached stream URL for laoreja3 (age: 153.4s)
2025-08-06 18:59:18 - INFO - Continuous recording part 2: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-59-18_cont2_flv.mp4
2025-08-06 18:59:18 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_185918.log
2025-08-06 18:59:18 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-59-18_cont2.mkv
2025-08-06 18:59:18 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_ld.flv?expire=1755734209&sign=5d953709fbf789c80f33cb0fabe2156a
2025-08-06 18:59:18 - INFO - Executing FFmpeg command for laoreja3
2025-08-06 18:59:18 - INFO - 🔍 Starting FFmpeg stderr monitor for laoreja3
2025-08-06 18:59:18 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-59-18_cont2.mkv
2025-08-06 18:59:18 - INFO - 🔍 Started memory guardian for laoreja3 (PID: 26400, threshold: 6.0%)
2025-08-06 18:59:18 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 18:59:39 - INFO - FFmpeg recording in progress for _averylang: 1.5 minutes
2025-08-06 18:59:48 - INFO - 📊 SIZE CHECK: Total=12.4MB (Current=2.0MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 18:59:48 - INFO - FFmpeg recording in progress for laoreja3: 0.5 minutes
2025-08-06 19:00:02 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _averylang: time=00:01:58.22 (#1)
2025-08-06 19:00:02 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _averylang - triggering immediate restart
2025-08-06 19:00:02 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _averylang
2025-08-06 19:00:02 - INFO - 🔍 FFmpeg stderr monitor finished for _averylang
2025-08-06 19:00:03 - WARNING - 🚨 CORRUPTION DETECTED for _averylang, stopping current recording to restart
2025-08-06 19:00:03 - INFO - Starting graceful FFmpeg termination for _averylang - Reason: corruption detected
2025-08-06 19:00:03 - INFO - Sending 'q' command to FFmpeg for _averylang
2025-08-06 19:00:03 - INFO - Waiting 30s for FFmpeg to complete container headers for _averylang
2025-08-06 19:00:03 - INFO - FFmpeg terminated cleanly via stdin for _averylang
2025-08-06 19:00:03 - INFO - FFmpeg recording completed successfully for _averylang
2025-08-06 19:00:03 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_185808.log (32.4KB)
2025-08-06 19:00:03 - INFO - ✅ No corruption patterns detected for _averylang
2025-08-06 19:00:03 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_18-58-08.mkv (44.1MB)
2025-08-06 19:00:03 - INFO - Added recording part 1 for _averylang: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_18-58-08.mkv
2025-08-06 19:00:03 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _averylang
2025-08-06 19:00:03 - INFO - 🔍 Starting robust live verification for _averylang (2min validation period)
2025-08-06 19:00:03 - INFO - 🔍 Checking if _averylang still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:00:03 - INFO - ✅ User _averylang confirmed still live after 0s (attempt 1)
2025-08-06 19:00:03 - INFO - ✅ User _averylang still live, attempting restart with retry logic...
2025-08-06 19:00:03 - INFO - 🔄 Restart attempt 1/3 for _averylang
2025-08-06 19:00:03 - INFO - 🔄 Using cached stream URL for corruption restart: _averylang
2025-08-06 19:00:03 - INFO - ⏳ Waiting 1s for stream stabilization for _averylang
2025-08-06 19:00:04 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 19:00:04 - INFO - Starting continuous recording part 2 for _averylang
2025-08-06 19:00:09 - INFO - 🔄 Reusing cached stream URL for _averylang (age: 121.6s)
2025-08-06 19:00:09 - INFO - Continuous recording part 2: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-00-09_cont2_flv.mp4
2025-08-06 19:00:09 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_190009.log
2025-08-06 19:00:09 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-00-09_cont2.mkv
2025-08-06 19:00:09 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755734288&sign=72698a31d13d3dc8d6f27fa0a65eadf6
2025-08-06 19:00:09 - INFO - Executing FFmpeg command for _averylang
2025-08-06 19:00:09 - INFO - 🔍 Starting FFmpeg stderr monitor for _averylang
2025-08-06 19:00:09 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-00-09_cont2.mkv
2025-08-06 19:00:09 - INFO - 🔍 Started memory guardian for _averylang (PID: 28948, threshold: 6.0%)
2025-08-06 19:00:09 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:00:18 - INFO - 📊 SIZE CHECK: Total=14.9MB (Current=4.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:00:18 - INFO - FFmpeg recording in progress for laoreja3: 1.0 minutes
2025-08-06 19:00:39 - INFO - 📊 SIZE CHECK: Total=56.0MB (Current=11.9MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:00:39 - INFO - FFmpeg recording in progress for _averylang: 0.5 minutes
2025-08-06 19:00:48 - INFO - 📊 SIZE CHECK: Total=17.3MB (Current=6.9MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:00:48 - INFO - FFmpeg recording in progress for laoreja3: 1.5 minutes
2025-08-06 19:01:09 - INFO - 📊 SIZE CHECK: Total=66.9MB (Current=22.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:01:09 - INFO - FFmpeg recording in progress for _averylang: 1.0 minutes
2025-08-06 19:01:18 - INFO - 📊 SIZE CHECK: Total=19.6MB (Current=9.2MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:01:18 - INFO - FFmpeg recording in progress for laoreja3: 2.0 minutes
2025-08-06 19:01:36 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for laoreja3: time=00:02:17.82 (#1)
2025-08-06 19:01:36 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for laoreja3 - triggering immediate restart
2025-08-06 19:01:36 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for laoreja3
2025-08-06 19:01:36 - INFO - 🔍 FFmpeg stderr monitor finished for laoreja3
2025-08-06 19:01:36 - WARNING - 🚨 CORRUPTION DETECTED for laoreja3, stopping current recording to restart
2025-08-06 19:01:36 - INFO - Starting graceful FFmpeg termination for laoreja3 - Reason: corruption detected
2025-08-06 19:01:36 - INFO - Sending 'q' command to FFmpeg for laoreja3
2025-08-06 19:01:36 - INFO - Waiting 30s for FFmpeg to complete container headers for laoreja3
2025-08-06 19:01:37 - INFO - FFmpeg terminated cleanly via stdin for laoreja3
2025-08-06 19:01:37 - INFO - FFmpeg recording completed successfully for laoreja3
2025-08-06 19:01:37 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_185918.log (37.7KB)
2025-08-06 19:01:37 - INFO - ✅ No corruption patterns detected for laoreja3
2025-08-06 19:01:37 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-59-18_cont2.mkv (10.7MB)
2025-08-06 19:01:37 - INFO - Added recording part 2 for laoreja3: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_18-59-18_cont2.mkv
2025-08-06 19:01:37 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for laoreja3
2025-08-06 19:01:37 - INFO - 🔍 Starting robust live verification for laoreja3 (2min validation period)
2025-08-06 19:01:37 - INFO - 🔍 Checking if laoreja3 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:01:37 - INFO - ✅ User laoreja3 confirmed still live after 0s (attempt 1)
2025-08-06 19:01:37 - INFO - ✅ User laoreja3 still live, attempting restart with retry logic...
2025-08-06 19:01:37 - INFO - 🔄 Restart attempt 1/3 for laoreja3
2025-08-06 19:01:37 - INFO - 🔄 Using cached stream URL for corruption restart: laoreja3
2025-08-06 19:01:37 - INFO - ⏳ Waiting 1s for stream stabilization for laoreja3
2025-08-06 19:01:38 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 19:01:38 - INFO - Starting continuous recording part 3 for laoreja3
2025-08-06 19:01:40 - INFO - 📊 SIZE CHECK: Total=77.9MB (Current=33.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:01:40 - INFO - FFmpeg recording in progress for _averylang: 1.5 minutes
2025-08-06 19:01:43 - INFO - 🔄 Reusing cached stream URL for laoreja3 (age: 298.4s)
2025-08-06 19:01:43 - INFO - Continuous recording part 3: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-01-43_cont3_flv.mp4
2025-08-06 19:01:43 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190143.log
2025-08-06 19:01:43 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-01-43_cont3.mkv
2025-08-06 19:01:43 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_ld.flv?expire=1755734209&sign=5d953709fbf789c80f33cb0fabe2156a
2025-08-06 19:01:43 - INFO - Executing FFmpeg command for laoreja3
2025-08-06 19:01:43 - INFO - 🔍 Starting FFmpeg stderr monitor for laoreja3
2025-08-06 19:01:43 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-01-43_cont3.mkv
2025-08-06 19:01:43 - INFO - 🔍 Started memory guardian for laoreja3 (PID: 2452, threshold: 6.0%)
2025-08-06 19:01:43 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:02:10 - INFO - 📊 SIZE CHECK: Total=89.3MB (Current=45.3MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:02:10 - INFO - FFmpeg recording in progress for _averylang: 2.0 minutes
2025-08-06 19:02:13 - INFO - 📊 SIZE CHECK: Total=23.1MB (Current=2.0MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:02:13 - INFO - FFmpeg recording in progress for laoreja3: 0.5 minutes
2025-08-06 19:02:40 - INFO - 📊 SIZE CHECK: Total=100.4MB (Current=56.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:02:40 - INFO - FFmpeg recording in progress for _averylang: 2.5 minutes
2025-08-06 19:02:41 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _averylang: time=00:02:35.86 (#1)
2025-08-06 19:02:41 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _averylang - triggering immediate restart
2025-08-06 19:02:41 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _averylang
2025-08-06 19:02:41 - INFO - 🔍 FFmpeg stderr monitor finished for _averylang
2025-08-06 19:02:42 - WARNING - 🚨 CORRUPTION DETECTED for _averylang, stopping current recording to restart
2025-08-06 19:02:42 - INFO - Starting graceful FFmpeg termination for _averylang - Reason: corruption detected
2025-08-06 19:02:42 - INFO - Sending 'q' command to FFmpeg for _averylang
2025-08-06 19:02:42 - INFO - Waiting 30s for FFmpeg to complete container headers for _averylang
2025-08-06 19:02:42 - INFO - FFmpeg terminated cleanly via stdin for _averylang
2025-08-06 19:02:42 - INFO - FFmpeg recording completed successfully for _averylang
2025-08-06 19:02:42 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_190009.log (40.7KB)
2025-08-06 19:02:42 - INFO - ✅ No corruption patterns detected for _averylang
2025-08-06 19:02:42 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-00-09_cont2.mkv (57.5MB)
2025-08-06 19:02:42 - INFO - Added recording part 2 for _averylang: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-00-09_cont2.mkv
2025-08-06 19:02:42 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _averylang
2025-08-06 19:02:42 - INFO - 🔍 Starting robust live verification for _averylang (2min validation period)
2025-08-06 19:02:42 - INFO - 🔍 Checking if _averylang still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:02:42 - INFO - ✅ User _averylang confirmed still live after 0s (attempt 1)
2025-08-06 19:02:42 - INFO - ✅ User _averylang still live, attempting restart with retry logic...
2025-08-06 19:02:42 - INFO - 🔄 Restart attempt 1/3 for _averylang
2025-08-06 19:02:42 - INFO - 🔄 Using cached stream URL for corruption restart: _averylang
2025-08-06 19:02:42 - INFO - ⏳ Waiting 1s for stream stabilization for _averylang
2025-08-06 19:02:43 - INFO - 📊 SIZE CHECK: Total=25.6MB (Current=4.4MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:02:43 - INFO - FFmpeg recording in progress for laoreja3: 1.0 minutes
2025-08-06 19:02:43 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 19:02:43 - INFO - Starting continuous recording part 3 for _averylang
2025-08-06 19:02:48 - INFO - 🔄 Reusing cached stream URL for _averylang (age: 280.7s)
2025-08-06 19:02:48 - INFO - Continuous recording part 3: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-02-48_cont3_flv.mp4
2025-08-06 19:02:48 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_190248.log
2025-08-06 19:02:48 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-02-48_cont3.mkv
2025-08-06 19:02:48 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755734288&sign=72698a31d13d3dc8d6f27fa0a65eadf6
2025-08-06 19:02:48 - INFO - Executing FFmpeg command for _averylang
2025-08-06 19:02:48 - INFO - 🔍 Starting FFmpeg stderr monitor for _averylang
2025-08-06 19:02:48 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-02-48_cont3.mkv
2025-08-06 19:02:48 - INFO - 🔍 Started memory guardian for _averylang (PID: 7692, threshold: 6.0%)
2025-08-06 19:02:48 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:02:56 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _averylang: time=00:00:14.28 (#1)
2025-08-06 19:02:56 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _averylang - triggering immediate restart
2025-08-06 19:02:56 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _averylang
2025-08-06 19:02:56 - INFO - 🔍 FFmpeg stderr monitor finished for _averylang
2025-08-06 19:02:57 - WARNING - 🚨 CORRUPTION DETECTED for _averylang, stopping current recording to restart
2025-08-06 19:02:57 - INFO - Starting graceful FFmpeg termination for _averylang - Reason: corruption detected
2025-08-06 19:02:57 - INFO - Sending 'q' command to FFmpeg for _averylang
2025-08-06 19:02:57 - INFO - Waiting 30s for FFmpeg to complete container headers for _averylang
2025-08-06 19:02:57 - INFO - FFmpeg terminated cleanly via stdin for _averylang
2025-08-06 19:02:57 - INFO - FFmpeg recording completed successfully for _averylang
2025-08-06 19:02:57 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_190248.log (8.7KB)
2025-08-06 19:02:57 - INFO - ✅ No corruption patterns detected for _averylang
2025-08-06 19:02:57 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-02-48_cont3.mkv (5.5MB)
2025-08-06 19:02:57 - INFO - Added recording part 3 for _averylang: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-02-48_cont3.mkv
2025-08-06 19:02:57 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _averylang
2025-08-06 19:02:57 - INFO - 🔍 Starting robust live verification for _averylang (2min validation period)
2025-08-06 19:02:57 - INFO - 🔍 Checking if _averylang still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:02:57 - INFO - ✅ User _averylang confirmed still live after 0s (attempt 1)
2025-08-06 19:02:57 - INFO - ✅ User _averylang still live, attempting restart with retry logic...
2025-08-06 19:02:57 - INFO - 🔄 Restart attempt 1/3 for _averylang
2025-08-06 19:02:57 - INFO - 🔄 Using cached stream URL for corruption restart: _averylang
2025-08-06 19:02:57 - INFO - ⏳ Waiting 1s for stream stabilization for _averylang
2025-08-06 19:02:58 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 19:02:58 - INFO - Starting continuous recording part 4 for _averylang
2025-08-06 19:03:03 - INFO - 🔄 Reusing cached stream URL for _averylang (age: 295.9s)
2025-08-06 19:03:03 - INFO - Continuous recording part 4: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-03-03_cont4_flv.mp4
2025-08-06 19:03:03 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_190303.log
2025-08-06 19:03:03 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-03-03_cont4.mkv
2025-08-06 19:03:03 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576508609820361648_or4.flv?expire=1755734288&sign=72698a31d13d3dc8d6f27fa0a65eadf6
2025-08-06 19:03:03 - INFO - Executing FFmpeg command for _averylang
2025-08-06 19:03:03 - INFO - 🔍 Starting FFmpeg stderr monitor for _averylang
2025-08-06 19:03:03 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-03-03_cont4.mkv
2025-08-06 19:03:03 - INFO - 🔍 Started memory guardian for _averylang (PID: 15356, threshold: 6.0%)
2025-08-06 19:03:03 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:03:13 - INFO - 📊 SIZE CHECK: Total=28.0MB (Current=6.9MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:03:13 - INFO - FFmpeg recording in progress for laoreja3: 1.5 minutes
2025-08-06 19:03:34 - INFO - 📊 SIZE CHECK: Total=120.5MB (Current=13.4MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:03:34 - INFO - FFmpeg recording in progress for _averylang: 0.5 minutes
2025-08-06 19:03:43 - INFO - 📊 SIZE CHECK: Total=30.3MB (Current=9.1MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:03:43 - INFO - FFmpeg recording in progress for laoreja3: 2.0 minutes
2025-08-06 19:04:04 - INFO - 📊 SIZE CHECK: Total=131.5MB (Current=24.4MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:04:04 - INFO - FFmpeg recording in progress for _averylang: 1.0 minutes
2025-08-06 19:04:14 - INFO - 📊 SIZE CHECK: Total=32.7MB (Current=11.6MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:04:14 - INFO - FFmpeg recording in progress for laoreja3: 2.5 minutes
2025-08-06 19:04:34 - INFO - 📊 SIZE CHECK: Total=142.5MB (Current=35.4MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:04:34 - INFO - FFmpeg recording in progress for _averylang: 1.5 minutes
2025-08-06 19:04:37 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for laoreja3: time=00:02:53.76 (#1)
2025-08-06 19:04:37 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for laoreja3 - triggering immediate restart
2025-08-06 19:04:37 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for laoreja3
2025-08-06 19:04:37 - INFO - 🔍 FFmpeg stderr monitor finished for laoreja3
2025-08-06 19:04:37 - WARNING - 🚨 CORRUPTION DETECTED for laoreja3, stopping current recording to restart
2025-08-06 19:04:37 - INFO - Starting graceful FFmpeg termination for laoreja3 - Reason: corruption detected
2025-08-06 19:04:37 - INFO - Sending 'q' command to FFmpeg for laoreja3
2025-08-06 19:04:37 - INFO - Waiting 30s for FFmpeg to complete container headers for laoreja3
2025-08-06 19:04:38 - INFO - FFmpeg terminated cleanly via stdin for laoreja3
2025-08-06 19:04:38 - INFO - FFmpeg recording completed successfully for laoreja3
2025-08-06 19:04:38 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190143.log (45.6KB)
2025-08-06 19:04:38 - INFO - ✅ No corruption patterns detected for laoreja3
2025-08-06 19:04:38 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-01-43_cont3.mkv (13.4MB)
2025-08-06 19:04:38 - INFO - Added recording part 3 for laoreja3: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-01-43_cont3.mkv
2025-08-06 19:04:38 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for laoreja3
2025-08-06 19:04:38 - INFO - 🔍 Starting robust live verification for laoreja3 (2min validation period)
2025-08-06 19:04:38 - INFO - 🔍 Checking if laoreja3 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:04:39 - INFO - ✅ User laoreja3 confirmed still live after 0s (attempt 1)
2025-08-06 19:04:39 - INFO - ✅ User laoreja3 still live, attempting restart with retry logic...
2025-08-06 19:04:39 - INFO - 🔄 Restart attempt 1/3 for laoreja3
2025-08-06 19:04:39 - INFO - 🔄 Using cached stream URL for corruption restart: laoreja3
2025-08-06 19:04:39 - INFO - ⏳ Waiting 1s for stream stabilization for laoreja3
2025-08-06 19:04:40 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 19:04:40 - INFO - Starting continuous recording part 4 for laoreja3
2025-08-06 19:04:45 - INFO - 🔄 Reusing cached stream URL for laoreja3 (age: 480.3s)
2025-08-06 19:04:45 - INFO - Continuous recording part 4: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-04-45_cont4_flv.mp4
2025-08-06 19:04:45 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190445.log
2025-08-06 19:04:45 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-04-45_cont4.mkv
2025-08-06 19:04:45 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_ld.flv?expire=1755734209&sign=5d953709fbf789c80f33cb0fabe2156a
2025-08-06 19:04:45 - INFO - Executing FFmpeg command for laoreja3
2025-08-06 19:04:45 - INFO - 🔍 Starting FFmpeg stderr monitor for laoreja3
2025-08-06 19:04:45 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\laoreja3-2025-08-06_18-56-43\TK_laoreja3_2025.08.06_19-04-45_cont4.mkv
2025-08-06 19:04:45 - INFO - 🔍 Started memory guardian for laoreja3 (PID: 22536, threshold: 6.0%)
2025-08-06 19:04:45 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:05:04 - INFO - 📊 SIZE CHECK: Total=154.2MB (Current=47.1MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:05:04 - INFO - FFmpeg recording in progress for _averylang: 2.0 minutes
2025-08-06 19:05:15 - INFO - 📊 SIZE CHECK: Total=37.1MB (Current=2.5MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:05:15 - INFO - FFmpeg recording in progress for laoreja3: 0.5 minutes
2025-08-06 19:05:25 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for _averylang: time=00:02:27.24 (#1)
2025-08-06 19:05:25 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for _averylang - triggering immediate restart
2025-08-06 19:05:25 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for _averylang
2025-08-06 19:05:25 - INFO - 🔍 FFmpeg stderr monitor finished for _averylang
2025-08-06 19:05:25 - WARNING - 🚨 CORRUPTION DETECTED for _averylang, stopping current recording to restart
2025-08-06 19:05:25 - INFO - Starting graceful FFmpeg termination for _averylang - Reason: corruption detected
2025-08-06 19:05:25 - INFO - Sending 'q' command to FFmpeg for _averylang
2025-08-06 19:05:25 - INFO - Waiting 30s for FFmpeg to complete container headers for _averylang
2025-08-06 19:05:25 - INFO - FFmpeg terminated cleanly via stdin for _averylang
2025-08-06 19:05:25 - INFO - FFmpeg recording completed successfully for _averylang
2025-08-06 19:05:25 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr__averylang_20250806_190303.log (38.5KB)
2025-08-06 19:05:25 - INFO - ✅ No corruption patterns detected for _averylang
2025-08-06 19:05:25 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-03-03_cont4.mkv (54.8MB)
2025-08-06 19:05:25 - INFO - Added recording part 4 for _averylang: D:/recordings/organized\_averylang-2025-08-06_18-58-06\TK__averylang_2025.08.06_19-03-03_cont4.mkv
2025-08-06 19:05:25 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for _averylang
2025-08-06 19:05:25 - INFO - 🔍 Starting robust live verification for _averylang (2min validation period)
2025-08-06 19:05:25 - INFO - 🔍 Checking if _averylang still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:05:26 - INFO - ✅ User _averylang confirmed still live after 0s (attempt 1)
2025-08-06 19:05:26 - INFO - ✅ User _averylang still live, attempting restart with retry logic...
2025-08-06 19:05:26 - INFO - 🔄 Restart attempt 1/3 for _averylang
2025-08-06 19:05:26 - INFO - 🔄 Using cached stream URL for corruption restart: _averylang
2025-08-06 19:05:26 - INFO - ⏳ Waiting 1s for stream stabilization for _averylang
2025-08-06 19:05:27 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 19:05:27 - INFO - Starting continuous recording part 5 for _averylang
2025-08-06 19:05:27 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 19:05:27 - INFO - 🛑 Worker shutdown flag set
2025-08-06 19:05:27 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 19:05:27 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:05:27 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 19:05:27 - INFO - Upload recovery worker stopped
2025-08-06 19:05:27 - INFO - Upload Manager Statistics:
2025-08-06 19:05:27 - INFO - Total uploads attempted: 0
2025-08-06 19:05:27 - INFO - Successful uploads: 0
2025-08-06 19:05:27 - INFO - Failed uploads: 0
2025-08-06 19:05:27 - INFO - Retried uploads: 0
2025-08-06 19:05:27 - INFO - Fatal errors: 0
2025-08-06 19:05:27 - INFO - ✅ Upload manager stopped
2025-08-06 19:05:27 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524588 shutdown complete
2025-08-06 19:05:27 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754524588
2025-08-06 19:05:27 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:05:27 - INFO - Upload Manager Statistics:
2025-08-06 19:05:27 - INFO - Total uploads attempted: 0
2025-08-06 19:05:27 - INFO - Successful uploads: 0
2025-08-06 19:05:27 - INFO - Failed uploads: 0
2025-08-06 19:05:27 - INFO - Retried uploads: 0
2025-08-06 19:05:27 - INFO - Fatal errors: 0
2025-08-06 19:05:27 - INFO - ✅ Upload manager stopped
2025-08-06 19:05:27 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754524588 shutdown complete
2025-08-06 19:05:38 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 19:05:40 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 19:05:45 - INFO - Database connection initialized successfully
2025-08-06 19:05:47 - INFO - Checking and Installing dependencies...

2025-08-06 19:05:47 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754525147
2025-08-06 19:05:47 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:05:47 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:05:47 - INFO - User cache initialized with 3600s duration
2025-08-06 19:05:47 - INFO - User cache cleanup thread started
2025-08-06 19:05:49 - INFO -  ✅ Redis connection established
2025-08-06 19:05:49 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 19:05:49 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 19:05:49 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 19:05:49 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 19:05:49 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 19:05:49 - INFO - 👷 Worker-1 started
2025-08-06 19:05:49 - INFO - 👷 Worker-2 started
2025-08-06 19:05:49 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:05:49 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:05:49 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 19:05:49 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 19:05:49 - INFO - 🚀 Started 2 upload workers
2025-08-06 19:05:49 - INFO - Upload recovery worker started
2025-08-06 19:05:49 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 19:05:49 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 19:05:49 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754525147 registered from DESKTOP-U62C3NA
2025-08-06 19:05:49 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754525147 initialized successfully
2025-08-06 19:05:49 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 19:05:49 - INFO -    IP: 192.168.1.11
2025-08-06 19:05:49 - INFO -    Max concurrent jobs: 5
2025-08-06 19:05:49 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754525147
2025-08-06 19:05:49 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754525147 started processing jobs
2025-08-06 19:05:51 - INFO - 🚀 Upload worker 1 started
2025-08-06 19:05:51 - INFO - 🚀 Upload worker 2 started
2025-08-06 19:05:51 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 19:06:20 - INFO - 📥 Job cba44029-6bee-40fd-b53c-b7383ba4efba assigned to worker worker_DESKTOP-U62C3NA_1754525147
2025-08-06 19:06:20 - INFO - 🎥 Processing job cba44029-6bee-40fd-b53c-b7383ba4efba for laoreja3
2025-08-06 19:06:20 - INFO - 📝 Job cba44029-6bee-40fd-b53c-b7383ba4efba status updated to in_progress
2025-08-06 19:06:21 - INFO - 🎥 Worker starting recording for laoreja3 (user: 1268285169, chat: 1268285169)
2025-08-06 19:06:21 - INFO - Cache DISABLED: Fetching fresh room_id for laoreja3 from API
2025-08-06 19:06:21 - INFO - PRIMARY: Using TikTok API for room_id extraction of laoreja3
2025-08-06 19:06:22 - INFO - ✅ TikTok API successful for laoreja3: 7535587733838793495
2025-08-06 19:06:22 - INFO - Logged room_id for laoreja3: 7535587733838793495 (cache disabled, DB log only)
2025-08-06 19:06:22 - INFO - PRIMARY TikTok API successful for room ID of laoreja3: 7535587733838793495
2025-08-06 19:06:23 - INFO - ✅ User laoreja3 validated as live with room_id: 7535587733838793495
2025-08-06 19:06:23 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 19:06:24 - INFO - 🎯 Created master recording: laoreja3_1754525181_1268285169
2025-08-06 19:06:25 - INFO - ✅ Redis state updated for recording: laoreja3_1754525181_1268285169
2025-08-06 19:06:25 - INFO - 🎬 Starting TikTokRecorder for laoreja3
2025-08-06 19:06:25 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:06:25 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:06:25 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_laoreja3_1754525185.json
2025-08-06 19:06:25 - INFO - 🔍 RealtimeVideoSampler initialized for laoreja3 - interval: 30s, threshold: 30.0%
2025-08-06 19:06:26 - INFO - Using provided room_id: 7535587733838793495 for user: laoreja3
2025-08-06 19:06:26 - INFO - USERNAME: laoreja3
2025-08-06 19:06:26 - INFO - ROOM_ID:  7535587733838793495
2025-08-06 19:06:26 - INFO - 🌐 Fetching fresh stream URL for laoreja3
2025-08-06 19:06:27 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 19:06:27 - INFO - Trying TikTokLive fallback for user 'laoreja3' (room 7535587733838793495) due to: Live is private, login required. 
2025-08-06 19:06:27 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10041+none
2025-08-06 19:06:27 - INFO - 📝 Job cba44029-6bee-40fd-b53c-b7383ba4efba status updated to completed
2025-08-06 19:06:28 - INFO - ✅ Recording job cba44029-6bee-40fd-b53c-b7383ba4efba completed for laoreja3
2025-08-06 19:06:33 - INFO - TikTokLive fallback: Room info obtenido para laoreja3 (attempt 1)
2025-08-06 19:06:33 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 19:06:33 - INFO - TikTokLive fallback: Usando FLV URL con calidad FULL_HD1
2025-08-06 19:06:33 - INFO - TikTokLive fallback successful for laoreja3
2025-08-06 19:06:33 - INFO - ✅ Stream URL cached for laoreja3 (valid for 20.0 minutes)
2025-08-06 19:06:33 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_uhd.flv?expire=1755734791&sign=4fd40d026fea169c01aa2fc18a9a5e30
2025-08-06 19:06:33 - INFO - 📁 Created session folder: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\
2025-08-06 19:06:33 - INFO - Started recording...
2025-08-06 19:06:33 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 19:06:33 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190633.log
2025-08-06 19:06:33 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv
2025-08-06 19:06:33 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_uhd.flv?expire=1755734791&sign=4fd40d026fea169c01aa2fc18a9a5e30
2025-08-06 19:06:33 - INFO - Executing FFmpeg command for laoreja3
2025-08-06 19:06:33 - INFO - 🔍 Starting FFmpeg stderr monitor for laoreja3
2025-08-06 19:06:33 - INFO - 🔍 Started memory guardian for laoreja3 (PID: 22884, threshold: 6.0%)
2025-08-06 19:06:33 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv
2025-08-06 19:06:33 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:07:03 - INFO - FFmpeg recording in progress for laoreja3: 0.5 minutes
2025-08-06 19:07:08 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for laoreja3: time=00:00:35.08 (#1)
2025-08-06 19:07:08 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for laoreja3 - triggering immediate restart
2025-08-06 19:07:08 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for laoreja3
2025-08-06 19:07:08 - INFO - 🔍 FFmpeg stderr monitor finished for laoreja3
2025-08-06 19:07:09 - WARNING - 🚨 CORRUPTION DETECTED for laoreja3, stopping current recording to restart
2025-08-06 19:07:09 - INFO - Starting graceful FFmpeg termination for laoreja3 - Reason: corruption detected
2025-08-06 19:07:09 - INFO - Sending 'q' command to FFmpeg for laoreja3
2025-08-06 19:07:09 - INFO - Waiting 30s for FFmpeg to complete container headers for laoreja3
2025-08-06 19:07:10 - INFO - FFmpeg terminated cleanly via stdin for laoreja3
2025-08-06 19:07:10 - INFO - FFmpeg recording completed successfully for laoreja3
2025-08-06 19:07:10 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190633.log (14.9KB)
2025-08-06 19:07:10 - INFO - ✅ No corruption patterns detected for laoreja3
2025-08-06 19:07:10 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv (4.2MB)
2025-08-06 19:07:10 - INFO - Added recording part 1 for laoreja3: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv
2025-08-06 19:07:10 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for laoreja3
2025-08-06 19:07:10 - INFO - 🔍 Starting robust live verification for laoreja3 (2min validation period)
2025-08-06 19:07:10 - INFO - 🔍 Checking if laoreja3 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:07:10 - INFO - ✅ User laoreja3 confirmed still live after 0s (attempt 1)
2025-08-06 19:07:10 - INFO - ✅ User laoreja3 still live, attempting restart with retry logic...
2025-08-06 19:07:10 - INFO - 🔄 Restart attempt 1/3 for laoreja3
2025-08-06 19:07:10 - INFO - 🔄 Using cached stream URL for corruption restart: laoreja3
2025-08-06 19:07:10 - INFO - ⏳ Waiting 1s for stream stabilization for laoreja3
2025-08-06 19:07:11 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 19:07:11 - INFO - Starting continuous recording part 2 for laoreja3
2025-08-06 19:07:16 - INFO - 🔄 Reusing cached stream URL for laoreja3 (age: 49.4s)
2025-08-06 19:07:16 - INFO - Continuous recording part 2: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2_flv.mp4
2025-08-06 19:07:16 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190716.log
2025-08-06 19:07:16 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv
2025-08-06 19:07:16 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn.com/stage/stream-7535587967235738390_uhd.flv?expire=1755734791&sign=4fd40d026fea169c01aa2fc18a9a5e30
2025-08-06 19:07:16 - INFO - Executing FFmpeg command for laoreja3
2025-08-06 19:07:16 - INFO - 🔍 Starting FFmpeg stderr monitor for laoreja3
2025-08-06 19:07:16 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv
2025-08-06 19:07:16 - INFO - 🔍 Started memory guardian for laoreja3 (PID: 13700, threshold: 6.0%)
2025-08-06 19:07:16 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:07:20 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for laoreja3: time=00:00:04.88 (#1)
2025-08-06 19:07:20 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for laoreja3 - triggering immediate restart
2025-08-06 19:07:20 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for laoreja3
2025-08-06 19:07:20 - INFO - 🔍 FFmpeg stderr monitor finished for laoreja3
2025-08-06 19:07:21 - WARNING - 🚨 CORRUPTION DETECTED for laoreja3, stopping current recording to restart
2025-08-06 19:07:21 - INFO - Starting graceful FFmpeg termination for laoreja3 - Reason: corruption detected
2025-08-06 19:07:21 - INFO - Sending 'q' command to FFmpeg for laoreja3
2025-08-06 19:07:21 - INFO - Waiting 30s for FFmpeg to complete container headers for laoreja3
2025-08-06 19:07:24 - INFO - FFmpeg terminated cleanly via stdin for laoreja3
2025-08-06 19:07:24 - INFO - FFmpeg recording completed successfully for laoreja3
2025-08-06 19:07:24 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_laoreja3_20250806_190716.log (8.1KB)
2025-08-06 19:07:24 - INFO - ✅ No corruption patterns detected for laoreja3
2025-08-06 19:07:24 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv (0.2MB)
2025-08-06 19:07:24 - INFO - Added recording part 2 for laoreja3: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv
2025-08-06 19:07:24 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for laoreja3
2025-08-06 19:07:24 - INFO - 🔍 Starting robust live verification for laoreja3 (2min validation period)
2025-08-06 19:07:24 - INFO - 🔍 Checking if laoreja3 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:07:25 - WARNING - ⚠️ User laoreja3 appears offline on attempt 1
2025-08-06 19:07:25 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:07:35 - INFO - 🔍 Checking if laoreja3 still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 19:07:35 - WARNING - ⚠️ User laoreja3 appears offline on attempt 2
2025-08-06 19:07:35 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:07:45 - INFO - 🔍 Checking if laoreja3 still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 19:07:45 - WARNING - ⚠️ User laoreja3 appears offline on attempt 3
2025-08-06 19:07:45 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:07:55 - INFO - 🔍 Checking if laoreja3 still live (attempt 4, 30s/120s, 90s remaining)
2025-08-06 19:07:55 - WARNING - ⚠️ User laoreja3 appears offline on attempt 4
2025-08-06 19:07:55 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:08:05 - INFO - 🔍 Checking if laoreja3 still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 19:08:05 - WARNING - ⚠️ User laoreja3 appears offline on attempt 5
2025-08-06 19:08:05 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:08:15 - INFO - 🔍 Checking if laoreja3 still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 19:08:15 - WARNING - ⚠️ User laoreja3 appears offline on attempt 6
2025-08-06 19:08:15 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:08:25 - INFO - 🔍 Checking if laoreja3 still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 19:08:25 - WARNING - ⚠️ User laoreja3 appears offline on attempt 7
2025-08-06 19:08:25 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:08:35 - INFO - 🔍 Checking if laoreja3 still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 19:08:35 - WARNING - ⚠️ User laoreja3 appears offline on attempt 8
2025-08-06 19:08:35 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:08:45 - INFO - 🔍 Checking if laoreja3 still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 19:08:46 - WARNING - ⚠️ User laoreja3 appears offline on attempt 9
2025-08-06 19:08:46 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:08:56 - INFO - 🔍 Checking if laoreja3 still live (attempt 10, 91s/120s, 29s remaining)
2025-08-06 19:08:56 - WARNING - ⚠️ User laoreja3 appears offline on attempt 10
2025-08-06 19:08:56 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:09:06 - INFO - 🔍 Checking if laoreja3 still live (attempt 11, 101s/120s, 19s remaining)
2025-08-06 19:09:06 - WARNING - ⚠️ User laoreja3 appears offline on attempt 11
2025-08-06 19:09:06 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:09:16 - INFO - 🔍 Checking if laoreja3 still live (attempt 12, 111s/120s, 9s remaining)
2025-08-06 19:09:16 - WARNING - ⚠️ User laoreja3 appears offline on attempt 12
2025-08-06 19:09:16 - INFO - ❌ User laoreja3 confirmed offline after 2 minutes of validation
2025-08-06 19:09:16 - INFO - ❌ User laoreja3 no longer live, ending recording after corruption
2025-08-06 19:09:16 - INFO - FFmpeg terminated normally for laoreja3, checking if stream continues...
2025-08-06 19:09:16 - INFO - 🔍 Starting stream continuation validation for laoreja3 for 2 minutes (4 checks every 30s)...
2025-08-06 19:09:27 - INFO - ❌ Room alive check failed for laoreja3 after 3 attempts (total time: 15s)
2025-08-06 19:09:27 - WARNING - ❌ Stream check 1/4: user laoreja3 not detected as live (consecutive failures: 1)
2025-08-06 19:10:07 - INFO - ❌ Room alive check failed for laoreja3 after 3 attempts (total time: 15s)
2025-08-06 19:10:07 - WARNING - ❌ Stream check 2/4: user laoreja3 not detected as live (consecutive failures: 2)
2025-08-06 19:10:48 - INFO - ❌ Room alive check failed for laoreja3 after 3 attempts (total time: 15s)
2025-08-06 19:10:48 - WARNING - ❌ Stream check 3/4: user laoreja3 not detected as live (consecutive failures: 3)
2025-08-06 19:10:48 - WARNING - Multiple consecutive failed checks (3) for laoreja3 (non-URL error), ending validation early
2025-08-06 19:10:48 - INFO - 🏁 Stream validation completed for laoreja3 after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 19:10:48 - INFO - Stream ended for laoreja3, processing final recording...
2025-08-06 19:10:48 - INFO - Processing 2 existing recording parts for laoreja3 (current recording success: True)
2025-08-06 19:10:48 - INFO - Converting part 1/2: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv -> D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mp4
2025-08-06 19:10:48 - INFO - Converting MKV to MP4: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv -> D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mp4 (source: 4.2MB)
2025-08-06 19:10:48 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 19:10:48 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mp4 (4.2MB)
2025-08-06 19:10:48 - WARNING - Could not cleanup MKV file D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\laoreja3-2025-08-06_19-06-25\\TK_laoreja3_2025.08.06_19-06-33.mkv'
2025-08-06 19:10:48 - INFO - Converting part 2/2: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv -> D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mp4
2025-08-06 19:10:48 - INFO - Converting MKV to MP4: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv -> D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mp4 (source: 0.2MB)
2025-08-06 19:10:48 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 19:10:48 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mp4 (0.2MB)
2025-08-06 19:10:48 - WARNING - Could not cleanup MKV file D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\laoreja3-2025-08-06_19-06-25\\TK_laoreja3_2025.08.06_19-07-16_cont2.mkv'
2025-08-06 19:10:48 - INFO - Converted all parts to MP4. Final parts count: 2
2025-08-06 19:10:48 - INFO - ⚡ Processing laoreja3 immediately (2 parts < 3 threshold)
2025-08-06 19:10:48 - INFO - ⚡ Processing laoreja3 immediately - bypassing queue
2025-08-06 19:10:48 - INFO - 🔗 [Immediate] Concatenating 2 valid parts for laoreja3
2025-08-06 19:10:48 - INFO - ✅ [Immediate] Concatenation successful: TK_laoreja3_2025.08.06_19-06-33_COMPLETE.mp4 (4.4MB)
2025-08-06 19:10:48 - INFO - 📤 [Immediate] Processing for Telegram upload: laoreja3
2025-08-06 19:10:48 - INFO - Generating video collage for: TK_laoreja3_2025.08.06_19-06-33_COMPLETE.mp4
2025-08-06 19:10:49 - INFO - Successfully extracted 16 screenshots
2025-08-06 19:10:49 - INFO - Video collage generated successfully: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33_COMPLETE_collage.jpg
2025-08-06 19:10:49 - INFO - 📸 [Immediate] Video collage generated: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33_COMPLETE_collage.jpg
2025-08-06 19:10:50 - INFO - 🖼️ [Immediate] Video thumbnail generated: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33_COMPLETE_thumb.jpg
2025-08-06 19:10:50 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:10:50 - INFO - Added upload task for laoreja3 (fragment 1) to queue (size: 4.39MB)
2025-08-06 19:10:50 - INFO - ✅ [Immediate] Upload task added for laoreja3
2025-08-06 19:10:50 - INFO - ✅ Immediate processing completed for laoreja3
2025-08-06 19:10:50 - INFO - ⚡ Recording processed immediately (< 3 segments)
2025-08-06 19:10:50 - INFO - 📄 Session state marked as completed (preserved for upload recovery): laoreja3_1754525185
2025-08-06 19:10:50 - INFO - FFmpeg recording finished definitively for laoreja3, calling cleanup
2025-08-06 19:10:50 - INFO - 🧹 Recording cleanup callback for laoreja3
2025-08-06 19:10:51 - INFO - ✅ Marked recording as completed: laoreja3_1754525181_1268285169
2025-08-06 19:10:52 - INFO - 🧹 Redis cleanup completed for laoreja3
2025-08-06 19:10:52 - INFO - ✅ Restart successful on attempt 1 for laoreja3
2025-08-06 19:10:52 - INFO - ✅ Recording completed successfully for laoreja3
2025-08-06 19:10:53 - WARNING - Telegram client is not connected for upload, but avoiding start() to prevent reinitialization
2025-08-06 19:10:54 - WARNING - Upload attempt 1 failed: Client has not been started yet. Retrying in 1 seconds...
2025-08-06 19:10:55 - WARNING - Telegram client is not connected for upload, but avoiding start() to prevent reinitialization
2025-08-06 19:10:55 - WARNING - Upload attempt 2 failed: Client has not been started yet. Retrying in 2 seconds...
2025-08-06 19:10:57 - WARNING - Telegram client is not connected for upload, but avoiding start() to prevent reinitialization
2025-08-06 19:10:57 - WARNING - Upload attempt 3 failed: Client has not been started yet. Retrying in 4 seconds...
2025-08-06 19:11:01 - ERROR - Max retries reached. Upload failed.
2025-08-06 19:11:01 - INFO - 📤 Upload result for laoreja3: False (type: <class 'bool'>)
2025-08-06 19:11:01 - ERROR - Failed to upload laoreja3 after 0 attempts: Upload returned False
2025-08-06 19:23:10 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 19:23:10 - INFO - 🛑 Worker shutdown flag set
2025-08-06 19:23:10 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 19:23:10 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754525147
2025-08-06 19:23:10 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:23:10 - INFO - Upload Manager Statistics:
2025-08-06 19:23:10 - INFO - Total uploads attempted: 1
2025-08-06 19:23:10 - INFO - Successful uploads: 0
2025-08-06 19:23:10 - INFO - Failed uploads: 1
2025-08-06 19:23:10 - INFO - Retried uploads: 0
2025-08-06 19:23:10 - INFO - Fatal errors: 0
2025-08-06 19:23:10 - INFO - ✅ Upload manager stopped
2025-08-06 19:23:10 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754525147 shutdown complete
2025-08-06 19:23:10 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754525147
2025-08-06 19:23:10 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:23:10 - INFO - Upload Manager Statistics:
2025-08-06 19:23:10 - INFO - Total uploads attempted: 1
2025-08-06 19:23:10 - INFO - Successful uploads: 0
2025-08-06 19:23:10 - INFO - Failed uploads: 1
2025-08-06 19:23:10 - INFO - Retried uploads: 0
2025-08-06 19:23:10 - INFO - Fatal errors: 0
2025-08-06 19:23:10 - INFO - ✅ Upload manager stopped
2025-08-06 19:23:10 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754525147 shutdown complete
2025-08-06 19:23:13 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 19:23:14 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 19:23:19 - INFO - Database connection initialized successfully
2025-08-06 19:23:22 - INFO - Checking and Installing dependencies...

2025-08-06 19:23:22 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754526202
2025-08-06 19:23:22 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:23:22 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:23:22 - INFO - User cache initialized with 3600s duration
2025-08-06 19:23:22 - INFO - User cache cleanup thread started
2025-08-06 19:23:23 - INFO -  ✅ Redis connection established
2025-08-06 19:23:23 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 19:23:23 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 19:23:23 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 19:23:23 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 19:23:23 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 19:23:23 - INFO - 👷 Worker-1 started
2025-08-06 19:23:23 - INFO - 👷 Worker-2 started
2025-08-06 19:23:23 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:23:23 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:23:23 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 19:23:23 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 19:23:23 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 19:23:23 - INFO - 🚀 Started 2 upload workers
2025-08-06 19:23:23 - INFO - Upload recovery worker started
2025-08-06 19:23:23 - ERROR - ❌ Error during upload recovery: No module named 'utils.upload_recovery'
2025-08-06 19:23:23 - INFO - ✅ Worker async event loop started
2025-08-06 19:23:23 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 19:23:23 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754526202 registered from DESKTOP-U62C3NA
2025-08-06 19:23:23 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754526202 initialized successfully
2025-08-06 19:23:23 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 19:23:23 - INFO -    IP: 192.168.1.11
2025-08-06 19:23:23 - INFO -    Max concurrent jobs: 5
2025-08-06 19:23:23 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754526202
2025-08-06 19:23:23 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754526202 started processing jobs
2025-08-06 19:23:25 - INFO - 🚀 Upload worker 1 started
2025-08-06 19:23:25 - INFO - 🚀 Upload worker 2 started
2025-08-06 19:23:25 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 19:23:43 - INFO - 📥 Job ed036a4f-fd2d-45b6-b53e-8806c91fbed4 assigned to worker worker_DESKTOP-U62C3NA_1754526202
2025-08-06 19:23:43 - INFO - 🎥 Processing job ed036a4f-fd2d-45b6-b53e-8806c91fbed4 for afriicagoomez_00
2025-08-06 19:23:43 - INFO - 📝 Job ed036a4f-fd2d-45b6-b53e-8806c91fbed4 status updated to in_progress
2025-08-06 19:23:43 - INFO - 🎥 Worker starting recording for afriicagoomez_00 (user: 1268285169, chat: 1268285169)
2025-08-06 19:23:43 - INFO - Cache DISABLED: Fetching fresh room_id for afriicagoomez_00 from API
2025-08-06 19:23:43 - INFO - PRIMARY: Using TikTok API for room_id extraction of afriicagoomez_00
2025-08-06 19:23:44 - INFO - ✅ TikTok API successful for afriicagoomez_00: 7535630767192410902
2025-08-06 19:23:45 - INFO - Logged room_id for afriicagoomez_00: 7535630767192410902 (cache disabled, DB log only)
2025-08-06 19:23:45 - INFO - PRIMARY TikTok API successful for room ID of afriicagoomez_00: 7535630767192410902
2025-08-06 19:23:46 - INFO - ✅ User afriicagoomez_00 validated as live with room_id: 7535630767192410902
2025-08-06 19:23:46 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 19:23:47 - INFO - 🎯 Created master recording: afriicagoomez_00_1754526223_1268285169
2025-08-06 19:23:48 - INFO - ✅ Redis state updated for recording: afriicagoomez_00_1754526223_1268285169
2025-08-06 19:23:48 - INFO - 🎬 Starting TikTokRecorder for afriicagoomez_00
2025-08-06 19:23:48 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:23:48 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:23:48 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_afriicagoomez_00_1754526228.json
2025-08-06 19:23:48 - INFO - 🔍 RealtimeVideoSampler initialized for afriicagoomez_00 - interval: 30s, threshold: 30.0%
2025-08-06 19:23:48 - INFO - Using provided room_id: 7535630767192410902 for user: afriicagoomez_00
2025-08-06 19:23:48 - INFO - USERNAME: afriicagoomez_00
2025-08-06 19:23:48 - INFO - ROOM_ID:  7535630767192410902
2025-08-06 19:23:49 - INFO - 🌐 Fetching fresh stream URL for afriicagoomez_00
2025-08-06 19:23:49 - INFO - ✅ Stream URL cached for afriicagoomez_00 (valid for 20.0 minutes)
2025-08-06 19:23:49 - INFO - Starting stream download from: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535631669336754966_or4.flv?expire=1755735829&sign=123913bca742408e686c96811a968eb6
2025-08-06 19:23:49 - INFO - 📁 Created session folder: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\
2025-08-06 19:23:49 - INFO - Started recording...
2025-08-06 19:23:49 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 19:23:49 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_afriicagoomez_00_20250806_192349.log
2025-08-06 19:23:49 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv
2025-08-06 19:23:49 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535631669336754966_or4.flv?expire=1755735829&sign=123913bca742408e686c96811a968eb6
2025-08-06 19:23:49 - INFO - Executing FFmpeg command for afriicagoomez_00
2025-08-06 19:23:49 - INFO - 🔍 Starting FFmpeg stderr monitor for afriicagoomez_00
2025-08-06 19:23:49 - INFO - 🔍 Started memory guardian for afriicagoomez_00 (PID: 32560, threshold: 6.0%)
2025-08-06 19:23:49 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv
2025-08-06 19:23:49 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:23:50 - INFO - 📝 Job ed036a4f-fd2d-45b6-b53e-8806c91fbed4 status updated to completed
2025-08-06 19:23:50 - INFO - ✅ Recording job ed036a4f-fd2d-45b6-b53e-8806c91fbed4 completed for afriicagoomez_00
2025-08-06 19:24:20 - INFO - FFmpeg recording in progress for afriicagoomez_00: 0.5 minutes
2025-08-06 19:24:30 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for afriicagoomez_00: time=00:00:45.79 (#1)
2025-08-06 19:24:30 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for afriicagoomez_00 - triggering immediate restart
2025-08-06 19:24:30 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for afriicagoomez_00
2025-08-06 19:24:30 - INFO - 🔍 FFmpeg stderr monitor finished for afriicagoomez_00
2025-08-06 19:24:31 - WARNING - 🚨 CORRUPTION DETECTED for afriicagoomez_00, stopping current recording to restart
2025-08-06 19:24:31 - INFO - Starting graceful FFmpeg termination for afriicagoomez_00 - Reason: corruption detected
2025-08-06 19:24:31 - INFO - Sending 'q' command to FFmpeg for afriicagoomez_00
2025-08-06 19:24:31 - INFO - Waiting 30s for FFmpeg to complete container headers for afriicagoomez_00
2025-08-06 19:24:31 - INFO - FFmpeg terminated cleanly via stdin for afriicagoomez_00
2025-08-06 19:24:31 - INFO - FFmpeg recording completed successfully for afriicagoomez_00
2025-08-06 19:24:31 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_afriicagoomez_00_20250806_192349.log (15.9KB)
2025-08-06 19:24:31 - INFO - ✅ No corruption patterns detected for afriicagoomez_00
2025-08-06 19:24:31 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv (17.4MB)
2025-08-06 19:24:31 - INFO - Added recording part 1 for afriicagoomez_00: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv
2025-08-06 19:24:31 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for afriicagoomez_00
2025-08-06 19:24:31 - INFO - 🔍 Starting robust live verification for afriicagoomez_00 (2min validation period)
2025-08-06 19:24:31 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:24:31 - INFO - ✅ User afriicagoomez_00 confirmed still live after 0s (attempt 1)
2025-08-06 19:24:31 - INFO - ✅ User afriicagoomez_00 still live, attempting restart with retry logic...
2025-08-06 19:24:31 - INFO - 🔄 Restart attempt 1/3 for afriicagoomez_00
2025-08-06 19:24:31 - INFO - 🔄 Using cached stream URL for corruption restart: afriicagoomez_00
2025-08-06 19:24:31 - INFO - ⏳ Waiting 1s for stream stabilization for afriicagoomez_00
2025-08-06 19:24:32 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 19:24:32 - INFO - Starting continuous recording part 2 for afriicagoomez_00
2025-08-06 19:24:37 - INFO - 🔄 Reusing cached stream URL for afriicagoomez_00 (age: 48.4s)
2025-08-06 19:24:37 - INFO - Continuous recording part 2: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2_flv.mp4
2025-08-06 19:24:37 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_afriicagoomez_00_20250806_192437.log
2025-08-06 19:24:37 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv
2025-08-06 19:24:37 - INFO - Stream URL: https://pull-f5-tt04.tiktokcdn-eu.com/stage/stream-7535631669336754966_or4.flv?expire=1755735829&sign=123913bca742408e686c96811a968eb6
2025-08-06 19:24:37 - INFO - Executing FFmpeg command for afriicagoomez_00
2025-08-06 19:24:37 - INFO - 🔍 Starting FFmpeg stderr monitor for afriicagoomez_00
2025-08-06 19:24:37 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv
2025-08-06 19:24:37 - INFO - 🔍 Started memory guardian for afriicagoomez_00 (PID: 31756, threshold: 6.0%)
2025-08-06 19:24:37 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:25:01 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for afriicagoomez_00: time=00:00:29.59 (#1)
2025-08-06 19:25:01 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for afriicagoomez_00 - triggering immediate restart
2025-08-06 19:25:01 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for afriicagoomez_00
2025-08-06 19:25:01 - INFO - 🔍 FFmpeg stderr monitor finished for afriicagoomez_00
2025-08-06 19:25:01 - WARNING - 🚨 CORRUPTION DETECTED for afriicagoomez_00, stopping current recording to restart
2025-08-06 19:25:01 - INFO - Starting graceful FFmpeg termination for afriicagoomez_00 - Reason: corruption detected
2025-08-06 19:25:01 - INFO - Sending 'q' command to FFmpeg for afriicagoomez_00
2025-08-06 19:25:01 - INFO - Waiting 30s for FFmpeg to complete container headers for afriicagoomez_00
2025-08-06 19:25:03 - INFO - FFmpeg terminated cleanly via stdin for afriicagoomez_00
2025-08-06 19:25:03 - INFO - FFmpeg recording completed successfully for afriicagoomez_00
2025-08-06 19:25:03 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_afriicagoomez_00_20250806_192437.log (12.2KB)
2025-08-06 19:25:03 - INFO - ✅ No corruption patterns detected for afriicagoomez_00
2025-08-06 19:25:03 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv (10.9MB)
2025-08-06 19:25:03 - INFO - Added recording part 2 for afriicagoomez_00: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv
2025-08-06 19:25:03 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for afriicagoomez_00
2025-08-06 19:25:03 - INFO - 🔍 Starting robust live verification for afriicagoomez_00 (2min validation period)
2025-08-06 19:25:03 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:25:03 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 1
2025-08-06 19:25:03 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:25:13 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 19:25:13 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 2
2025-08-06 19:25:13 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:25:23 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 19:25:23 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 3
2025-08-06 19:25:23 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:25:33 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 4, 30s/120s, 90s remaining)
2025-08-06 19:25:33 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 4
2025-08-06 19:25:33 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:25:43 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 19:25:43 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 5
2025-08-06 19:25:43 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:25:53 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 19:25:53 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 6
2025-08-06 19:25:53 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:26:03 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 19:26:04 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 7
2025-08-06 19:26:04 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:26:14 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 19:26:14 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 8
2025-08-06 19:26:14 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:26:24 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 9, 81s/120s, 39s remaining)
2025-08-06 19:26:24 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 9
2025-08-06 19:26:24 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:26:34 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 10, 91s/120s, 29s remaining)
2025-08-06 19:26:34 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 10
2025-08-06 19:26:34 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:26:44 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 11, 101s/120s, 19s remaining)
2025-08-06 19:26:44 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 11
2025-08-06 19:26:44 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 19:26:54 - INFO - 🔍 Checking if afriicagoomez_00 still live (attempt 12, 111s/120s, 9s remaining)
2025-08-06 19:26:54 - WARNING - ⚠️ User afriicagoomez_00 appears offline on attempt 12
2025-08-06 19:26:54 - INFO - ❌ User afriicagoomez_00 confirmed offline after 2 minutes of validation
2025-08-06 19:26:54 - INFO - ❌ User afriicagoomez_00 no longer live, ending recording after corruption
2025-08-06 19:26:54 - INFO - FFmpeg terminated normally for afriicagoomez_00, checking if stream continues...
2025-08-06 19:26:54 - INFO - 🔍 Starting stream continuation validation for afriicagoomez_00 for 2 minutes (4 checks every 30s)...
2025-08-06 19:27:05 - INFO - ❌ Room alive check failed for afriicagoomez_00 after 3 attempts (total time: 15s)
2025-08-06 19:27:05 - WARNING - ❌ Stream check 1/4: user afriicagoomez_00 not detected as live (consecutive failures: 1)
2025-08-06 19:27:46 - INFO - ❌ Room alive check failed for afriicagoomez_00 after 3 attempts (total time: 15s)
2025-08-06 19:27:46 - WARNING - ❌ Stream check 2/4: user afriicagoomez_00 not detected as live (consecutive failures: 2)
2025-08-06 19:28:26 - INFO - ❌ Room alive check failed for afriicagoomez_00 after 3 attempts (total time: 15s)
2025-08-06 19:28:26 - WARNING - ❌ Stream check 3/4: user afriicagoomez_00 not detected as live (consecutive failures: 3)
2025-08-06 19:28:26 - WARNING - Multiple consecutive failed checks (3) for afriicagoomez_00 (non-URL error), ending validation early
2025-08-06 19:28:26 - INFO - 🏁 Stream validation completed for afriicagoomez_00 after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 19:28:26 - INFO - Stream ended for afriicagoomez_00, processing final recording...
2025-08-06 19:28:26 - INFO - Processing 2 existing recording parts for afriicagoomez_00 (current recording success: True)
2025-08-06 19:28:26 - INFO - Converting part 1/2: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv -> D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mp4
2025-08-06 19:28:26 - INFO - Converting MKV to MP4: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv -> D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mp4 (source: 17.4MB)
2025-08-06 19:28:26 - INFO - MKV file size: 0.02GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 19:28:26 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mp4 (17.5MB)
2025-08-06 19:28:26 - WARNING - Could not cleanup MKV file D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\afriicagoomez_00-2025-08-06_19-23-48\\TK_afriicagoomez_00_2025.08.06_19-23-49.mkv'
2025-08-06 19:28:26 - INFO - Converting part 2/2: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv -> D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mp4
2025-08-06 19:28:26 - INFO - Converting MKV to MP4: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv -> D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mp4 (source: 10.9MB)
2025-08-06 19:28:26 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 19:28:26 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mp4 (10.9MB)
2025-08-06 19:28:26 - WARNING - Could not cleanup MKV file D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\afriicagoomez_00-2025-08-06_19-23-48\\TK_afriicagoomez_00_2025.08.06_19-24-37_cont2.mkv'
2025-08-06 19:28:26 - INFO - Converted all parts to MP4. Final parts count: 2
2025-08-06 19:28:26 - INFO - ⚡ Processing afriicagoomez_00 immediately (2 parts < 3 threshold)
2025-08-06 19:28:26 - INFO - ⚡ Processing afriicagoomez_00 immediately - bypassing queue
2025-08-06 19:28:26 - INFO - 🔗 [Immediate] Concatenating 2 valid parts for afriicagoomez_00
2025-08-06 19:28:26 - INFO - ✅ [Immediate] Concatenation successful: TK_afriicagoomez_00_2025.08.06_19-23-49_COMPLETE.mp4 (28.4MB)
2025-08-06 19:28:26 - INFO - 📤 [Immediate] Processing for Telegram upload: afriicagoomez_00
2025-08-06 19:28:26 - INFO - Generating video collage for: TK_afriicagoomez_00_2025.08.06_19-23-49_COMPLETE.mp4
2025-08-06 19:28:29 - INFO - Successfully extracted 16 screenshots
2025-08-06 19:28:29 - INFO - Video collage generated successfully: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49_COMPLETE_collage.jpg
2025-08-06 19:28:29 - INFO - 📸 [Immediate] Video collage generated: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49_COMPLETE_collage.jpg
2025-08-06 19:28:29 - INFO - 🖼️ [Immediate] Video thumbnail generated: D:/recordings/organized\afriicagoomez_00-2025-08-06_19-23-48\TK_afriicagoomez_00_2025.08.06_19-23-49_COMPLETE_thumb.jpg
2025-08-06 19:28:29 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:28:29 - INFO - Added upload task for afriicagoomez_00 (fragment 1) to queue (size: 28.36MB)
2025-08-06 19:28:29 - INFO - ✅ [Immediate] Upload task added for afriicagoomez_00
2025-08-06 19:28:29 - INFO - ✅ Immediate processing completed for afriicagoomez_00
2025-08-06 19:28:29 - INFO - ⚡ Recording processed immediately (< 3 segments)
2025-08-06 19:28:29 - INFO - 📄 Session state marked as completed (preserved for upload recovery): afriicagoomez_00_1754526228
2025-08-06 19:28:29 - INFO - FFmpeg recording finished definitively for afriicagoomez_00, calling cleanup
2025-08-06 19:28:29 - INFO - 🧹 Recording cleanup callback for afriicagoomez_00
2025-08-06 19:28:31 - INFO - ✅ Marked recording as completed: afriicagoomez_00_1754526223_1268285169
2025-08-06 19:28:32 - INFO - 🧹 Redis cleanup completed for afriicagoomez_00
2025-08-06 19:28:32 - INFO - ✅ Restart successful on attempt 1 for afriicagoomez_00
2025-08-06 19:28:32 - INFO - ✅ Recording completed successfully for afriicagoomez_00
2025-08-06 19:28:32 - WARNING - Telegram client is not connected for upload, but avoiding start() to prevent reinitialization
2025-08-06 19:28:32 - WARNING - Upload attempt 1 failed: Client has not been started yet. Retrying in 1 seconds...
2025-08-06 19:28:33 - WARNING - Telegram client is not connected for upload, but avoiding start() to prevent reinitialization
2025-08-06 19:28:33 - WARNING - Upload attempt 2 failed: Client has not been started yet. Retrying in 2 seconds...
2025-08-06 19:28:35 - WARNING - Telegram client is not connected for upload, but avoiding start() to prevent reinitialization
2025-08-06 19:28:35 - WARNING - Upload attempt 3 failed: Client has not been started yet. Retrying in 4 seconds...
2025-08-06 19:28:39 - ERROR - Max retries reached. Upload failed.
2025-08-06 19:28:39 - INFO - 📤 Upload result for afriicagoomez_00: False (type: <class 'bool'>)
2025-08-06 19:28:39 - ERROR - Failed to upload afriicagoomez_00 after 0 attempts: Upload returned False
2025-08-06 19:38:39 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 19:38:39 - INFO - 🛑 Worker shutdown flag set
2025-08-06 19:38:39 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754526202
2025-08-06 19:38:39 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:38:39 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 19:38:39 - INFO - Upload recovery worker stopped
2025-08-06 19:38:39 - INFO - Upload Manager Statistics:
2025-08-06 19:38:39 - INFO - Total uploads attempted: 1
2025-08-06 19:38:39 - INFO - Successful uploads: 0
2025-08-06 19:38:39 - INFO - Failed uploads: 1
2025-08-06 19:38:39 - INFO - Retried uploads: 0
2025-08-06 19:38:39 - INFO - Fatal errors: 0
2025-08-06 19:38:39 - INFO - ✅ Upload manager stopped
2025-08-06 19:38:39 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754526202 shutdown complete
2025-08-06 19:38:39 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754526202
2025-08-06 19:38:39 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:38:39 - INFO - Upload Manager Statistics:
2025-08-06 19:38:39 - INFO - Total uploads attempted: 1
2025-08-06 19:38:39 - INFO - Successful uploads: 0
2025-08-06 19:38:39 - INFO - Failed uploads: 1
2025-08-06 19:38:39 - INFO - Retried uploads: 0
2025-08-06 19:38:39 - INFO - Fatal errors: 0
2025-08-06 19:38:39 - INFO - ✅ Upload manager stopped
2025-08-06 19:38:39 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754526202 shutdown complete
2025-08-06 19:38:46 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 19:38:48 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 19:38:53 - INFO - Database connection initialized successfully
2025-08-06 19:38:56 - INFO - Checking and Installing dependencies...

2025-08-06 19:38:56 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754527136
2025-08-06 19:39:03 - INFO - ✅ Telegram client connected successfully
2025-08-06 19:39:03 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:39:03 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:39:03 - INFO - User cache initialized with 3600s duration
2025-08-06 19:39:03 - INFO - User cache cleanup thread started
2025-08-06 19:39:04 - INFO -  ✅ Redis connection established
2025-08-06 19:39:04 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 19:39:04 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 19:39:04 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 19:39:04 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 19:39:04 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 19:39:04 - INFO - 👷 Worker-1 started
2025-08-06 19:39:04 - INFO - 👷 Worker-2 started
2025-08-06 19:39:04 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:39:04 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:39:04 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 19:39:04 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 19:39:04 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 19:39:04 - INFO - 🚀 Started 2 upload workers
2025-08-06 19:39:04 - INFO - Upload recovery worker started
2025-08-06 19:39:04 - INFO - ✅ Worker async event loop started
2025-08-06 19:39:04 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 19:39:04 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 19:39:04 - INFO - 🔍 Found 6 MP4 files total
2025-08-06 19:39:04 - INFO - 🔗 Found chat_id 1268285169 for laoreja3 in session laoreja3_1754524603
2025-08-06 19:39:04 - INFO - 📥 Found 1 files pending upload recovery
2025-08-06 19:39:04 - INFO - 📥 Found 1 files pending upload recovery
2025-08-06 19:39:04 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:39:04 - INFO - Added upload task for laoreja3 (fragment 1) to queue (size: 4.39MB)
2025-08-06 19:39:04 - INFO - 📤 Added recovery upload: laoreja3 - TK_laoreja3_2025.08.06_19-06-33_COMPLETE.mp4
2025-08-06 19:39:04 - INFO - 📊 Recovery completed: 1 files added to upload queue, 0 skipped
2025-08-06 19:39:04 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:39:04 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 19:39:04 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754527136 registered from DESKTOP-U62C3NA
2025-08-06 19:39:04 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754527136 initialized successfully
2025-08-06 19:39:04 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 19:39:04 - INFO -    IP: 192.168.1.11
2025-08-06 19:39:04 - INFO -    Max concurrent jobs: 5
2025-08-06 19:39:04 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754527136
2025-08-06 19:39:04 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754527136 started processing jobs
2025-08-06 19:39:06 - INFO - 🚀 Upload worker 1 started
2025-08-06 19:39:06 - INFO - 🚀 Upload worker 2 started
2025-08-06 19:39:06 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 19:39:08 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 19:39:08 - INFO - 🛑 Worker shutdown flag set
2025-08-06 19:39:08 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754527136
2025-08-06 19:39:08 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 19:39:08 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:39:08 - INFO - Upload Manager Statistics:
2025-08-06 19:39:08 - INFO - Total uploads attempted: 1
2025-08-06 19:39:08 - INFO - Successful uploads: 0
2025-08-06 19:39:08 - INFO - Failed uploads: 0
2025-08-06 19:39:08 - INFO - Retried uploads: 0
2025-08-06 19:39:08 - INFO - Fatal errors: 0
2025-08-06 19:39:08 - INFO - ✅ Upload manager stopped
2025-08-06 19:39:08 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754527136
2025-08-06 19:39:08 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 19:39:08 - INFO - Upload Manager Statistics:
2025-08-06 19:39:08 - INFO - Total uploads attempted: 1
2025-08-06 19:39:08 - INFO - Successful uploads: 0
2025-08-06 19:39:08 - INFO - Failed uploads: 0
2025-08-06 19:39:08 - INFO - Retried uploads: 0
2025-08-06 19:39:08 - INFO - Fatal errors: 0
2025-08-06 19:39:08 - INFO - ✅ Upload manager stopped
2025-08-06 19:39:19 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 19:39:20 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 19:39:25 - INFO - Database connection initialized successfully
2025-08-06 19:39:27 - INFO - Checking and Installing dependencies...

2025-08-06 19:39:27 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754527167
2025-08-06 19:39:28 - INFO - ✅ Telegram client connected successfully
2025-08-06 19:39:28 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:39:28 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:39:28 - INFO - User cache initialized with 3600s duration
2025-08-06 19:39:28 - INFO - User cache cleanup thread started
2025-08-06 19:39:30 - INFO -  ✅ Redis connection established
2025-08-06 19:39:30 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 19:39:30 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 19:39:30 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 19:39:30 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 19:39:30 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 19:39:30 - INFO - 👷 Worker-1 started
2025-08-06 19:39:30 - INFO - 👷 Worker-2 started
2025-08-06 19:39:30 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:39:30 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:39:30 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 19:39:30 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 19:39:30 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 19:39:30 - INFO - 🚀 Started 2 upload workers
2025-08-06 19:39:30 - INFO - Upload recovery worker started
2025-08-06 19:39:30 - INFO - ✅ Worker async event loop started
2025-08-06 19:39:30 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 19:39:30 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 19:39:30 - INFO - 🔍 Found 6 MP4 files total
2025-08-06 19:39:30 - INFO - 🔗 Found chat_id 1268285169 for laoreja3 in session laoreja3_1754524603
2025-08-06 19:39:30 - INFO - 📥 Found 1 files pending upload recovery
2025-08-06 19:39:30 - INFO - 📥 Found 1 files pending upload recovery
2025-08-06 19:39:30 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:39:30 - INFO - Added upload task for laoreja3 (fragment 1) to queue (size: 4.39MB)
2025-08-06 19:39:30 - INFO - 📤 Added recovery upload: laoreja3 - TK_laoreja3_2025.08.06_19-06-33_COMPLETE.mp4
2025-08-06 19:39:30 - INFO - 📊 Recovery completed: 1 files added to upload queue, 0 skipped
2025-08-06 19:39:30 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:39:30 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 19:39:30 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754527167 registered from DESKTOP-U62C3NA
2025-08-06 19:39:30 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754527167 initialized successfully
2025-08-06 19:39:30 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 19:39:30 - INFO -    IP: 192.168.1.11
2025-08-06 19:39:30 - INFO -    Max concurrent jobs: 5
2025-08-06 19:39:30 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754527167
2025-08-06 19:39:30 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754527167 started processing jobs
2025-08-06 19:39:32 - INFO - 🚀 Upload worker 1 started
2025-08-06 19:39:32 - INFO - 🚀 Upload worker 2 started
2025-08-06 19:39:32 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 19:39:36 - INFO - Video and collage sent successfully for laoreja3
2025-08-06 19:39:36 - INFO - 📤 Upload result for laoreja3: [10070, 10071] (type: <class 'list'>)
2025-08-06 19:39:36 - INFO - Successfully uploaded video for laoreja3
2025-08-06 19:39:36 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:39:36 - INFO - 🔄 About to call shared recording forwarding for laoreja3
2025-08-06 19:39:36 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 19:39:36 - WARNING - ⚠️ RecordingService not found for laoreja3
2025-08-06 19:39:36 - INFO - Upload process completed for laoreja3 - cleaning up files
2025-08-06 19:39:36 - INFO - Deleted main file: D:/recordings/organized\laoreja3-2025-08-06_19-06-25\TK_laoreja3_2025.08.06_19-06-33_COMPLETE.mp4
2025-08-06 19:39:36 - INFO - 🗑️ Cleaned up empty recording folder after upload: D:/recordings/organized\laoreja3-2025-08-06_19-06-25
2025-08-06 19:39:36 - INFO - 🗑️ Session state file deleted after successful upload: laoreja3
2025-08-06 19:39:44 - INFO - 📥 Job c2fbcad0-93a5-42eb-8188-faae7576978d assigned to worker worker_DESKTOP-U62C3NA_1754527167
2025-08-06 19:39:44 - INFO - 🎥 Processing job c2fbcad0-93a5-42eb-8188-faae7576978d for annebriley
2025-08-06 19:39:44 - INFO - 📝 Job c2fbcad0-93a5-42eb-8188-faae7576978d status updated to in_progress
2025-08-06 19:39:44 - INFO - 🎥 Worker starting recording for annebriley (user: 1268285169, chat: 1268285169)
2025-08-06 19:39:44 - INFO - Cache DISABLED: Fetching fresh room_id for annebriley from API
2025-08-06 19:39:44 - INFO - PRIMARY: Using TikTok API for room_id extraction of annebriley
2025-08-06 19:39:45 - INFO - ✅ TikTok API successful for annebriley: 7535634487288548126
2025-08-06 19:39:46 - INFO - Logged room_id for annebriley: 7535634487288548126 (cache disabled, DB log only)
2025-08-06 19:39:46 - INFO - PRIMARY TikTok API successful for room ID of annebriley: 7535634487288548126
2025-08-06 19:39:46 - INFO - ✅ User annebriley validated as live with room_id: 7535634487288548126
2025-08-06 19:39:47 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 19:39:47 - INFO - 🎯 Created master recording: annebriley_1754527184_1268285169
2025-08-06 19:39:48 - INFO - ✅ Redis state updated for recording: annebriley_1754527184_1268285169
2025-08-06 19:39:48 - INFO - 🎬 Starting TikTokRecorder for annebriley
2025-08-06 19:39:48 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 19:39:48 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 19:39:48 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_annebriley_1754527188.json
2025-08-06 19:39:48 - INFO - 🔍 RealtimeVideoSampler initialized for annebriley - interval: 30s, threshold: 30.0%
2025-08-06 19:39:49 - INFO - Using provided room_id: 7535634487288548126 for user: annebriley
2025-08-06 19:39:49 - INFO - USERNAME: annebriley
2025-08-06 19:39:49 - INFO - ROOM_ID:  7535634487288548126
2025-08-06 19:39:49 - INFO - 🌐 Fetching fresh stream URL for annebriley
2025-08-06 19:39:50 - INFO - ✅ Stream URL cached for annebriley (valid for 20.0 minutes)
2025-08-06 19:39:50 - INFO - Starting stream download from: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:39:50 - INFO - 📁 Created session folder: D:/recordings/organized\annebriley-2025-08-06_19-39-48\
2025-08-06 19:39:50 - INFO - Started recording...
2025-08-06 19:39:50 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 19:39:50 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_193950.log
2025-08-06 19:39:50 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv
2025-08-06 19:39:50 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:39:50 - INFO - Executing FFmpeg command for annebriley
2025-08-06 19:39:50 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 19:39:50 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv
2025-08-06 19:39:50 - INFO - 🔍 Started memory guardian for annebriley (PID: 33740, threshold: 6.0%)
2025-08-06 19:39:50 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:39:51 - INFO - 📝 Job c2fbcad0-93a5-42eb-8188-faae7576978d status updated to completed
2025-08-06 19:39:51 - INFO - ✅ Recording job c2fbcad0-93a5-42eb-8188-faae7576978d completed for annebriley
2025-08-06 19:40:20 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 19:40:50 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 19:41:21 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 19:41:51 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 19:42:21 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 19:42:51 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 19:43:22 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 19:43:52 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 19:44:22 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 19:44:40 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:04:54.34 (#1)
2025-08-06 19:44:40 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 19:44:40 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 19:44:40 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 19:44:40 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 19:44:40 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 19:44:40 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 19:44:40 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 19:44:40 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 19:44:40 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 19:44:40 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_193950.log (70.1KB)
2025-08-06 19:44:40 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 19:44:40 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv (113.7MB)
2025-08-06 19:44:40 - INFO - Added recording part 1 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv
2025-08-06 19:44:40 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 19:44:40 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 19:44:40 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:44:40 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 19:44:40 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 19:44:40 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 19:44:40 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 19:44:40 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 19:44:41 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 19:44:41 - INFO - Starting continuous recording part 2 for annebriley
2025-08-06 19:44:46 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 297.2s)
2025-08-06 19:44:46 - INFO - Continuous recording part 2: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2_flv.mp4
2025-08-06 19:44:46 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194446.log
2025-08-06 19:44:46 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv
2025-08-06 19:44:46 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:44:46 - INFO - Executing FFmpeg command for annebriley
2025-08-06 19:44:46 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 19:44:46 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv
2025-08-06 19:44:46 - INFO - 🔍 Started memory guardian for annebriley (PID: 4500, threshold: 6.0%)
2025-08-06 19:44:46 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:44:57 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:00:16.59 (#1)
2025-08-06 19:44:57 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 19:44:57 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 19:44:57 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 19:44:57 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 19:44:57 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 19:44:57 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 19:44:57 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 19:44:58 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 19:44:58 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 19:44:58 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194446.log (7.7KB)
2025-08-06 19:44:58 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 19:44:58 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv (5.0MB)
2025-08-06 19:44:58 - INFO - Added recording part 2 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv
2025-08-06 19:44:58 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 19:44:58 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 19:44:58 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:44:58 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 19:44:58 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 19:44:58 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 19:44:58 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 19:44:58 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 19:44:59 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 19:44:59 - INFO - Starting continuous recording part 3 for annebriley
2025-08-06 19:45:04 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 314.8s)
2025-08-06 19:45:04 - INFO - Continuous recording part 3: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3_flv.mp4
2025-08-06 19:45:04 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194504.log
2025-08-06 19:45:04 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv
2025-08-06 19:45:04 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:45:04 - INFO - Executing FFmpeg command for annebriley
2025-08-06 19:45:04 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 19:45:04 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv
2025-08-06 19:45:04 - INFO - 🔍 Started memory guardian for annebriley (PID: 13896, threshold: 6.0%)
2025-08-06 19:45:04 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:45:34 - INFO - 📊 SIZE CHECK: Total=127.5MB (Current=8.7MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:45:34 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 19:46:05 - INFO - 📊 SIZE CHECK: Total=136.9MB (Current=18.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:46:05 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 19:46:35 - INFO - 📊 SIZE CHECK: Total=143.0MB (Current=24.3MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:46:35 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 19:47:05 - INFO - 📊 SIZE CHECK: Total=148.9MB (Current=30.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:47:05 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 19:47:35 - INFO - 📊 SIZE CHECK: Total=154.8MB (Current=36.1MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:47:35 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 19:48:06 - INFO - 📊 SIZE CHECK: Total=160.8MB (Current=42.1MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:48:06 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 19:48:22 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:03:22.41 (#1)
2025-08-06 19:48:22 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 19:48:22 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 19:48:22 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 19:48:23 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 19:48:23 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 19:48:23 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 19:48:23 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 19:48:23 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 19:48:23 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 19:48:23 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194504.log (49.7KB)
2025-08-06 19:48:23 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 19:48:23 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv (45.8MB)
2025-08-06 19:48:23 - INFO - Added recording part 3 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv
2025-08-06 19:48:23 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 19:48:23 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 19:48:23 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:48:23 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 19:48:23 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 19:48:23 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 19:48:23 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 19:48:23 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 19:48:24 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 19:48:24 - INFO - Starting continuous recording part 4 for annebriley
2025-08-06 19:48:29 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 519.5s)
2025-08-06 19:48:29 - INFO - Continuous recording part 4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4_flv.mp4
2025-08-06 19:48:29 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194829.log
2025-08-06 19:48:29 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv
2025-08-06 19:48:29 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:48:29 - INFO - Executing FFmpeg command for annebriley
2025-08-06 19:48:29 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 19:48:29 - INFO - 🔍 Started memory guardian for annebriley (PID: 35736, threshold: 6.0%)
2025-08-06 19:48:29 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv
2025-08-06 19:48:29 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:48:59 - INFO - 📊 SIZE CHECK: Total=170.9MB (Current=6.4MB + 3 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:48:59 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 19:49:20 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:00:55.82 (#1)
2025-08-06 19:49:20 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 19:49:20 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 19:49:20 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 19:49:20 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 19:49:20 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 19:49:20 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 19:49:20 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 19:49:21 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 19:49:21 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 19:49:21 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194829.log (16.8KB)
2025-08-06 19:49:21 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 19:49:21 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv (10.6MB)
2025-08-06 19:49:21 - INFO - Added recording part 4 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv
2025-08-06 19:49:21 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 19:49:21 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 19:49:21 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:49:21 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 19:49:21 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 19:49:21 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 19:49:21 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 19:49:21 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 19:49:22 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 19:49:22 - INFO - Starting continuous recording part 5 for annebriley
2025-08-06 19:49:27 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 577.9s)
2025-08-06 19:49:27 - INFO - Continuous recording part 5: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5_flv.mp4
2025-08-06 19:49:27 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194927.log
2025-08-06 19:49:27 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv
2025-08-06 19:49:27 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:49:27 - INFO - Executing FFmpeg command for annebriley
2025-08-06 19:49:27 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 19:49:27 - INFO - 🔍 Started memory guardian for annebriley (PID: 33352, threshold: 6.0%)
2025-08-06 19:49:27 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv
2025-08-06 19:49:27 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:49:45 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:00:23.84 (#1)
2025-08-06 19:49:45 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 19:49:45 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 19:49:45 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 19:49:45 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 19:49:45 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 19:49:45 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 19:49:45 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 19:49:46 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 19:49:46 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 19:49:46 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194927.log (9.5KB)
2025-08-06 19:49:46 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 19:49:46 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv (6.6MB)
2025-08-06 19:49:46 - INFO - Added recording part 5 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv
2025-08-06 19:49:46 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 19:49:46 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 19:49:46 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 19:49:46 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 19:49:46 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 19:49:46 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 19:49:46 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 19:49:46 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 19:49:47 - INFO - 🔄 Starting continuous recording for corruption restart - Part 5
2025-08-06 19:49:47 - INFO - Starting continuous recording part 6 for annebriley
2025-08-06 19:49:52 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 602.4s)
2025-08-06 19:49:52 - INFO - Continuous recording part 6: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6_flv.mp4
2025-08-06 19:49:52 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194952.log
2025-08-06 19:49:52 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv
2025-08-06 19:49:52 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755736790&sign=a0d19ac1ee168ef7b0138dd8f36dfac3
2025-08-06 19:49:52 - INFO - Executing FFmpeg command for annebriley
2025-08-06 19:49:52 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 19:49:52 - INFO - 🔍 Started memory guardian for annebriley (PID: 13104, threshold: 6.0%)
2025-08-06 19:49:52 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv
2025-08-06 19:49:52 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 19:50:22 - INFO - 📊 SIZE CHECK: Total=193.4MB (Current=11.7MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:50:22 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 19:50:52 - INFO - 📊 SIZE CHECK: Total=204.0MB (Current=22.3MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:50:52 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 19:51:22 - INFO - 📊 SIZE CHECK: Total=214.7MB (Current=33.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:51:22 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 19:51:53 - INFO - 📊 SIZE CHECK: Total=225.4MB (Current=43.7MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:51:53 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 19:52:23 - INFO - 📊 SIZE CHECK: Total=236.0MB (Current=54.3MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:52:23 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 19:52:53 - INFO - 📊 SIZE CHECK: Total=246.5MB (Current=64.8MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:52:53 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 19:53:23 - INFO - 📊 SIZE CHECK: Total=257.7MB (Current=76.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:53:23 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 19:53:53 - INFO - 📊 SIZE CHECK: Total=268.6MB (Current=86.9MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:53:53 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 19:54:24 - INFO - 📊 SIZE CHECK: Total=279.7MB (Current=98.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:54:24 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 19:54:54 - INFO - 📊 SIZE CHECK: Total=290.4MB (Current=108.8MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:54:54 - INFO - FFmpeg recording in progress for annebriley: 5.0 minutes
2025-08-06 19:55:24 - INFO - 📊 SIZE CHECK: Total=301.5MB (Current=119.8MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:55:24 - INFO - FFmpeg recording in progress for annebriley: 5.5 minutes
2025-08-06 19:55:54 - INFO - 📊 SIZE CHECK: Total=312.4MB (Current=130.8MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:55:54 - INFO - FFmpeg recording in progress for annebriley: 6.0 minutes
2025-08-06 19:56:24 - INFO - 📊 SIZE CHECK: Total=323.5MB (Current=141.9MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:56:24 - INFO - FFmpeg recording in progress for annebriley: 6.5 minutes
2025-08-06 19:56:55 - INFO - 📊 SIZE CHECK: Total=334.4MB (Current=152.7MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:56:55 - INFO - FFmpeg recording in progress for annebriley: 7.0 minutes
2025-08-06 19:57:25 - INFO - 📊 SIZE CHECK: Total=345.1MB (Current=163.5MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:57:25 - INFO - FFmpeg recording in progress for annebriley: 7.5 minutes
2025-08-06 19:57:55 - INFO - 📊 SIZE CHECK: Total=356.6MB (Current=174.9MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:57:55 - INFO - FFmpeg recording in progress for annebriley: 8.1 minutes
2025-08-06 19:58:25 - INFO - 📊 SIZE CHECK: Total=367.3MB (Current=185.7MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:58:25 - INFO - FFmpeg recording in progress for annebriley: 8.6 minutes
2025-08-06 19:58:56 - INFO - 📊 SIZE CHECK: Total=378.2MB (Current=196.5MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:58:56 - INFO - FFmpeg recording in progress for annebriley: 9.1 minutes
2025-08-06 19:59:26 - INFO - 📊 SIZE CHECK: Total=389.2MB (Current=207.5MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:59:26 - INFO - FFmpeg recording in progress for annebriley: 9.6 minutes
2025-08-06 19:59:56 - INFO - 📊 SIZE CHECK: Total=399.9MB (Current=218.2MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 19:59:56 - INFO - FFmpeg recording in progress for annebriley: 10.1 minutes
2025-08-06 20:00:26 - INFO - 📊 SIZE CHECK: Total=410.7MB (Current=229.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:00:26 - INFO - FFmpeg recording in progress for annebriley: 10.6 minutes
2025-08-06 20:00:56 - INFO - 📊 SIZE CHECK: Total=421.7MB (Current=240.1MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:00:56 - INFO - FFmpeg recording in progress for annebriley: 11.1 minutes
2025-08-06 20:01:27 - INFO - 📊 SIZE CHECK: Total=432.6MB (Current=251.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:01:27 - INFO - FFmpeg recording in progress for annebriley: 11.6 minutes
2025-08-06 20:01:57 - INFO - 📊 SIZE CHECK: Total=444.1MB (Current=262.4MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:01:57 - INFO - FFmpeg recording in progress for annebriley: 12.1 minutes
2025-08-06 20:02:27 - INFO - 📊 SIZE CHECK: Total=454.9MB (Current=273.2MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:02:27 - INFO - FFmpeg recording in progress for annebriley: 12.6 minutes
2025-08-06 20:02:57 - INFO - 📊 SIZE CHECK: Total=465.9MB (Current=284.2MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:02:57 - INFO - FFmpeg recording in progress for annebriley: 13.1 minutes
2025-08-06 20:03:28 - INFO - 📊 SIZE CHECK: Total=476.7MB (Current=295.1MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:03:28 - INFO - FFmpeg recording in progress for annebriley: 13.6 minutes
2025-08-06 20:03:58 - INFO - 📊 SIZE CHECK: Total=487.5MB (Current=305.9MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:03:58 - INFO - FFmpeg recording in progress for annebriley: 14.1 minutes
2025-08-06 20:04:28 - INFO - 📊 SIZE CHECK: Total=498.3MB (Current=316.6MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:04:28 - INFO - FFmpeg recording in progress for annebriley: 14.6 minutes
2025-08-06 20:04:59 - INFO - 📊 SIZE CHECK: Total=509.1MB (Current=327.4MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:04:59 - INFO - FFmpeg recording in progress for annebriley: 15.1 minutes
2025-08-06 20:05:29 - INFO - 📊 SIZE CHECK: Total=519.9MB (Current=338.2MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:05:29 - INFO - FFmpeg recording in progress for annebriley: 15.6 minutes
2025-08-06 20:05:59 - INFO - 📊 SIZE CHECK: Total=530.7MB (Current=349.0MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:05:59 - INFO - FFmpeg recording in progress for annebriley: 16.1 minutes
2025-08-06 20:06:29 - INFO - 📊 SIZE CHECK: Total=542.2MB (Current=360.5MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:06:29 - INFO - FFmpeg recording in progress for annebriley: 16.6 minutes
2025-08-06 20:06:59 - INFO - 📊 SIZE CHECK: Total=552.9MB (Current=371.2MB + 5 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:06:59 - INFO - FFmpeg recording in progress for annebriley: 17.1 minutes
2025-08-06 20:07:27 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:17:40.73 (#1)
2025-08-06 20:07:27 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:07:27 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:07:27 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:07:27 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:07:27 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:07:27 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:07:27 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:07:28 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:07:28 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:07:28 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_194952.log (241.2KB)
2025-08-06 20:07:28 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:07:28 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv (381.6MB)
2025-08-06 20:07:28 - INFO - Added recording part 6 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv
2025-08-06 20:07:28 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:07:28 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:07:28 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:07:29 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:07:29 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:07:29 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:07:29 - INFO - 🔄 Fetching fresh stream URL for restart attempt 1: annebriley
2025-08-06 20:07:29 - INFO - 🔄 Forcing fresh stream URL for restart: annebriley
2025-08-06 20:07:29 - INFO - ⏳ Waiting 5s for URL refresh...
2025-08-06 20:07:34 - INFO - 🌐 Fetching fresh stream URL for annebriley
2025-08-06 20:07:34 - INFO - ✅ Stream URL cached for annebriley (valid for 20.0 minutes)
2025-08-06 20:07:34 - INFO - ✅ Fresh stream URL obtained for annebriley
2025-08-06 20:07:34 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:07:35 - INFO - 🔄 Starting continuous recording for corruption restart - Part 6
2025-08-06 20:07:35 - INFO - Starting continuous recording part 7 for annebriley
2025-08-06 20:07:40 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 6.5s)
2025-08-06 20:07:40 - INFO - Continuous recording part 7: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7_flv.mp4
2025-08-06 20:07:40 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_200740.log
2025-08-06 20:07:40 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv
2025-08-06 20:07:40 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755738454&sign=7c15634c6a3418480dd2e7062a7a20cb
2025-08-06 20:07:40 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:07:40 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:07:40 - INFO - 🔍 Started memory guardian for annebriley (PID: 13876, threshold: 6.0%)
2025-08-06 20:07:40 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv
2025-08-06 20:07:40 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:07:52 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:00:18.10 (#1)
2025-08-06 20:07:52 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:07:52 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:07:52 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:07:53 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:07:53 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:07:53 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:07:53 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:07:55 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:07:55 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:07:55 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_200740.log (8.3KB)
2025-08-06 20:07:55 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:07:55 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv (5.3MB)
2025-08-06 20:07:55 - INFO - Added recording part 7 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv
2025-08-06 20:07:55 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:07:55 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:07:55 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:07:55 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:07:55 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:07:55 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:07:55 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:07:55 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:07:56 - INFO - 🔄 Starting continuous recording for corruption restart - Part 7
2025-08-06 20:07:56 - INFO - Starting continuous recording part 8 for annebriley
2025-08-06 20:08:01 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 27.0s)
2025-08-06 20:08:01 - INFO - Continuous recording part 8: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8_flv.mp4
2025-08-06 20:08:01 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_200801.log
2025-08-06 20:08:01 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv
2025-08-06 20:08:01 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755738454&sign=7c15634c6a3418480dd2e7062a7a20cb
2025-08-06 20:08:01 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:08:01 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:08:01 - INFO - 🔍 Started memory guardian for annebriley (PID: 9968, threshold: 6.0%)
2025-08-06 20:08:01 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv
2025-08-06 20:08:01 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:08:31 - INFO - 📊 SIZE CHECK: Total=580.1MB (Current=11.5MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:08:31 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:09:01 - INFO - 📊 SIZE CHECK: Total=591.0MB (Current=22.3MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:09:01 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:09:32 - INFO - 📊 SIZE CHECK: Total=601.7MB (Current=33.1MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:09:32 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:09:32 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 20:09:32 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 20:09:32 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 20:09:32 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 20:09:32 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 20:09:32 - INFO - ✅ No pending uploads found for recovery
2025-08-06 20:10:02 - INFO - 📊 SIZE CHECK: Total=612.6MB (Current=44.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:10:02 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:10:32 - INFO - 📊 SIZE CHECK: Total=623.2MB (Current=54.6MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:10:32 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:11:02 - INFO - 📊 SIZE CHECK: Total=634.0MB (Current=65.4MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:11:02 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 20:11:32 - INFO - 📊 SIZE CHECK: Total=644.8MB (Current=76.2MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:11:32 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 20:12:03 - INFO - 📊 SIZE CHECK: Total=655.6MB (Current=87.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:12:03 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 20:12:33 - INFO - 📊 SIZE CHECK: Total=666.5MB (Current=97.9MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:12:33 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 20:13:03 - INFO - 📊 SIZE CHECK: Total=678.3MB (Current=109.6MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:13:03 - INFO - FFmpeg recording in progress for annebriley: 5.0 minutes
2025-08-06 20:13:33 - INFO - 📊 SIZE CHECK: Total=689.1MB (Current=120.4MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:13:33 - INFO - FFmpeg recording in progress for annebriley: 5.5 minutes
2025-08-06 20:14:04 - INFO - 📊 SIZE CHECK: Total=699.7MB (Current=131.1MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:14:04 - INFO - FFmpeg recording in progress for annebriley: 6.0 minutes
2025-08-06 20:14:34 - INFO - 📊 SIZE CHECK: Total=710.4MB (Current=141.8MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:14:34 - INFO - FFmpeg recording in progress for annebriley: 6.5 minutes
2025-08-06 20:15:04 - INFO - 📊 SIZE CHECK: Total=721.2MB (Current=152.6MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:15:04 - INFO - FFmpeg recording in progress for annebriley: 7.1 minutes
2025-08-06 20:15:34 - INFO - 📊 SIZE CHECK: Total=731.9MB (Current=163.2MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:15:34 - INFO - FFmpeg recording in progress for annebriley: 7.6 minutes
2025-08-06 20:16:04 - INFO - 📊 SIZE CHECK: Total=742.6MB (Current=174.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:16:04 - INFO - FFmpeg recording in progress for annebriley: 8.1 minutes
2025-08-06 20:16:35 - INFO - 📊 SIZE CHECK: Total=753.5MB (Current=184.9MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:16:35 - INFO - FFmpeg recording in progress for annebriley: 8.6 minutes
2025-08-06 20:17:05 - INFO - 📊 SIZE CHECK: Total=764.3MB (Current=195.7MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:17:05 - INFO - FFmpeg recording in progress for annebriley: 9.1 minutes
2025-08-06 20:17:35 - INFO - 📊 SIZE CHECK: Total=776.0MB (Current=207.3MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:17:35 - INFO - FFmpeg recording in progress for annebriley: 9.6 minutes
2025-08-06 20:18:05 - INFO - 📊 SIZE CHECK: Total=786.8MB (Current=218.1MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:18:05 - INFO - FFmpeg recording in progress for annebriley: 10.1 minutes
2025-08-06 20:18:36 - INFO - 📊 SIZE CHECK: Total=797.7MB (Current=229.0MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:18:36 - INFO - FFmpeg recording in progress for annebriley: 10.6 minutes
2025-08-06 20:19:06 - INFO - 📊 SIZE CHECK: Total=808.5MB (Current=239.9MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:19:06 - INFO - FFmpeg recording in progress for annebriley: 11.1 minutes
2025-08-06 20:19:36 - INFO - 📊 SIZE CHECK: Total=819.4MB (Current=250.7MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:19:36 - INFO - FFmpeg recording in progress for annebriley: 11.6 minutes
2025-08-06 20:20:06 - INFO - 📊 SIZE CHECK: Total=830.3MB (Current=261.6MB + 7 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:20:06 - INFO - FFmpeg recording in progress for annebriley: 12.1 minutes
2025-08-06 20:20:33 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:12:36.43 (#1)
2025-08-06 20:20:33 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:20:33 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:20:33 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:20:33 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:20:33 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:20:33 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:20:33 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:20:34 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:20:34 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:20:34 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_200801.log (173.5KB)
2025-08-06 20:20:34 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:20:34 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv (272.1MB)
2025-08-06 20:20:34 - INFO - Added recording part 8 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv
2025-08-06 20:20:34 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:20:34 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:20:34 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:20:34 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:20:34 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:20:34 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:20:34 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:20:34 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:20:35 - INFO - 🔄 Starting continuous recording for corruption restart - Part 8
2025-08-06 20:20:35 - INFO - Starting continuous recording part 9 for annebriley
2025-08-06 20:20:40 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 786.3s)
2025-08-06 20:20:40 - INFO - Continuous recording part 9: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9_flv.mp4
2025-08-06 20:20:40 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_202040.log
2025-08-06 20:20:40 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv
2025-08-06 20:20:40 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755738454&sign=7c15634c6a3418480dd2e7062a7a20cb
2025-08-06 20:20:40 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:20:40 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:20:40 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv
2025-08-06 20:20:40 - INFO - 🔍 Started memory guardian for annebriley (PID: 33060, threshold: 6.0%)
2025-08-06 20:20:40 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:21:10 - INFO - 📊 SIZE CHECK: Total=852.3MB (Current=11.5MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:21:10 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:21:40 - INFO - 📊 SIZE CHECK: Total=863.2MB (Current=22.5MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:21:40 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:22:11 - INFO - 📊 SIZE CHECK: Total=874.1MB (Current=33.4MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:22:11 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:22:41 - INFO - 📊 SIZE CHECK: Total=884.9MB (Current=44.2MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:22:41 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:23:11 - INFO - 📊 SIZE CHECK: Total=896.7MB (Current=56.0MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:23:11 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:23:41 - INFO - 📊 SIZE CHECK: Total=907.7MB (Current=66.9MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:23:41 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 20:24:12 - INFO - 📊 SIZE CHECK: Total=918.5MB (Current=77.8MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:24:12 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 20:24:42 - INFO - 📊 SIZE CHECK: Total=929.4MB (Current=88.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:24:42 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 20:25:12 - INFO - 📊 SIZE CHECK: Total=940.0MB (Current=99.3MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:25:12 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 20:25:42 - INFO - 📊 SIZE CHECK: Total=951.0MB (Current=110.2MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:25:42 - INFO - FFmpeg recording in progress for annebriley: 5.0 minutes
2025-08-06 20:26:12 - INFO - 📊 SIZE CHECK: Total=962.0MB (Current=121.3MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:26:12 - INFO - FFmpeg recording in progress for annebriley: 5.5 minutes
2025-08-06 20:26:43 - INFO - 📊 SIZE CHECK: Total=972.9MB (Current=132.1MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:26:43 - INFO - FFmpeg recording in progress for annebriley: 6.0 minutes
2025-08-06 20:27:13 - INFO - 📊 SIZE CHECK: Total=984.5MB (Current=143.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:27:13 - INFO - FFmpeg recording in progress for annebriley: 6.5 minutes
2025-08-06 20:27:43 - INFO - 📊 SIZE CHECK: Total=995.4MB (Current=154.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:27:43 - INFO - FFmpeg recording in progress for annebriley: 7.1 minutes
2025-08-06 20:28:13 - INFO - 📊 SIZE CHECK: Total=1006.4MB (Current=165.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:28:13 - INFO - FFmpeg recording in progress for annebriley: 7.6 minutes
2025-08-06 20:28:44 - INFO - 📊 SIZE CHECK: Total=1017.3MB (Current=176.5MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:28:44 - INFO - FFmpeg recording in progress for annebriley: 8.1 minutes
2025-08-06 20:29:14 - INFO - 📊 SIZE CHECK: Total=1028.0MB (Current=187.3MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:29:14 - INFO - FFmpeg recording in progress for annebriley: 8.6 minutes
2025-08-06 20:29:44 - INFO - 📊 SIZE CHECK: Total=1038.8MB (Current=198.1MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:29:44 - INFO - FFmpeg recording in progress for annebriley: 9.1 minutes
2025-08-06 20:30:14 - INFO - 📊 SIZE CHECK: Total=1049.6MB (Current=208.8MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:30:14 - INFO - FFmpeg recording in progress for annebriley: 9.6 minutes
2025-08-06 20:30:45 - INFO - 📊 SIZE CHECK: Total=1060.4MB (Current=219.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:30:45 - INFO - FFmpeg recording in progress for annebriley: 10.1 minutes
2025-08-06 20:31:15 - INFO - 📊 SIZE CHECK: Total=1071.4MB (Current=230.7MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:31:15 - INFO - FFmpeg recording in progress for annebriley: 10.6 minutes
2025-08-06 20:31:45 - INFO - 📊 SIZE CHECK: Total=1082.9MB (Current=242.1MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:31:45 - INFO - FFmpeg recording in progress for annebriley: 11.1 minutes
2025-08-06 20:32:15 - INFO - 📊 SIZE CHECK: Total=1093.8MB (Current=253.1MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:32:15 - INFO - FFmpeg recording in progress for annebriley: 11.6 minutes
2025-08-06 20:32:46 - INFO - 📊 SIZE CHECK: Total=1104.6MB (Current=263.9MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:32:46 - INFO - FFmpeg recording in progress for annebriley: 12.1 minutes
2025-08-06 20:33:16 - INFO - 📊 SIZE CHECK: Total=1115.5MB (Current=274.8MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:33:16 - INFO - FFmpeg recording in progress for annebriley: 12.6 minutes
2025-08-06 20:33:46 - INFO - 📊 SIZE CHECK: Total=1126.3MB (Current=285.6MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:33:46 - INFO - FFmpeg recording in progress for annebriley: 13.1 minutes
2025-08-06 20:34:16 - INFO - 📊 SIZE CHECK: Total=1137.2MB (Current=296.5MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:34:16 - INFO - FFmpeg recording in progress for annebriley: 13.6 minutes
2025-08-06 20:34:47 - INFO - 📊 SIZE CHECK: Total=1148.2MB (Current=307.5MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:34:47 - INFO - FFmpeg recording in progress for annebriley: 14.1 minutes
2025-08-06 20:35:17 - INFO - 📊 SIZE CHECK: Total=1158.7MB (Current=318.0MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:35:17 - INFO - FFmpeg recording in progress for annebriley: 14.6 minutes
2025-08-06 20:35:47 - INFO - 📊 SIZE CHECK: Total=1168.6MB (Current=327.9MB + 8 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:35:47 - INFO - FFmpeg recording in progress for annebriley: 15.1 minutes
2025-08-06 20:35:58 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:15:24.03 (#1)
2025-08-06 20:35:58 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:35:58 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:35:58 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:35:59 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:35:59 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:35:59 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:35:59 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:35:59 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:35:59 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:35:59 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_202040.log (210.5KB)
2025-08-06 20:35:59 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:35:59 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv (332.9MB)
2025-08-06 20:35:59 - INFO - Added recording part 9 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv
2025-08-06 20:35:59 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:35:59 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:35:59 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:36:00 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:36:00 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:36:00 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:36:00 - INFO - 🔄 Fetching fresh stream URL for restart attempt 1: annebriley
2025-08-06 20:36:00 - INFO - 🔄 Forcing fresh stream URL for restart: annebriley
2025-08-06 20:36:00 - INFO - ⏳ Waiting 5s for URL refresh...
2025-08-06 20:36:05 - INFO - 🌐 Fetching fresh stream URL for annebriley
2025-08-06 20:36:05 - INFO - ✅ Stream URL cached for annebriley (valid for 20.0 minutes)
2025-08-06 20:36:05 - INFO - ✅ Fresh stream URL obtained for annebriley
2025-08-06 20:36:05 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:36:06 - INFO - 🔄 Starting continuous recording for corruption restart - Part 9
2025-08-06 20:36:06 - INFO - Starting continuous recording part 10 for annebriley
2025-08-06 20:36:11 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 6.5s)
2025-08-06 20:36:11 - INFO - Continuous recording part 10: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10_flv.mp4
2025-08-06 20:36:11 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_203611.log
2025-08-06 20:36:11 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv
2025-08-06 20:36:11 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:36:11 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:36:11 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:36:11 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv
2025-08-06 20:36:11 - INFO - 🔍 Started memory guardian for annebriley (PID: 31836, threshold: 6.0%)
2025-08-06 20:36:11 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:36:41 - INFO - 📊 SIZE CHECK: Total=1183.7MB (Current=10.1MB + 9 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:36:41 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:37:12 - INFO - 📊 SIZE CHECK: Total=1194.7MB (Current=21.1MB + 9 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:37:12 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:37:42 - INFO - 📊 SIZE CHECK: Total=1202.4MB (Current=28.8MB + 9 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:37:42 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:38:12 - INFO - 📊 SIZE CHECK: Total=1210.0MB (Current=36.4MB + 9 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:38:12 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:38:42 - INFO - 📊 SIZE CHECK: Total=1217.7MB (Current=44.1MB + 9 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:38:42 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:39:12 - INFO - 📊 SIZE CHECK: Total=1225.1MB (Current=51.5MB + 9 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:39:12 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 20:39:13 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:03:06.30 (#1)
2025-08-06 20:39:13 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:39:13 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:39:13 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:39:13 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:39:13 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:39:13 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:39:13 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:39:14 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:39:14 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:39:14 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_203611.log (45.9KB)
2025-08-06 20:39:14 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:39:14 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv (52.0MB)
2025-08-06 20:39:14 - INFO - Added recording part 10 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv
2025-08-06 20:39:14 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:39:14 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:39:14 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:39:14 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:39:14 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:39:14 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:39:14 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:39:14 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:39:15 - INFO - 🔄 Starting continuous recording for corruption restart - Part 10
2025-08-06 20:39:15 - INFO - Starting continuous recording part 11 for annebriley
2025-08-06 20:39:20 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 195.6s)
2025-08-06 20:39:20 - INFO - Continuous recording part 11: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11_flv.mp4
2025-08-06 20:39:20 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_203920.log
2025-08-06 20:39:20 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv
2025-08-06 20:39:20 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:39:20 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:39:20 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:39:20 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv
2025-08-06 20:39:20 - INFO - 🔍 Started memory guardian for annebriley (PID: 29128, threshold: 6.0%)
2025-08-06 20:39:20 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:39:30 - INFO - ⏰ Starting scheduled Redis orphan cleanup...
2025-08-06 20:39:30 - INFO - 🧹 Starting Redis orphaned records cleanup with pipelines...
2025-08-06 20:39:30 - INFO - 🔍 Found 1 pending records, 0 sessions, 0 primary deliveries
2025-08-06 20:39:30 - INFO - 🧠 Found 0 active recordings in memory
2025-08-06 20:39:30 - INFO - ✅ No orphaned records found to clean
2025-08-06 20:39:30 - INFO - 🧹 Redis cleanup completed: cleaned=0, preserved=1, errors=0
2025-08-06 20:39:30 - INFO - ✅ Scheduled cleanup completed: {'cleaned': 0, 'preserved': 1, 'errors': 0}
2025-08-06 20:39:32 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 20:39:32 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 20:39:32 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 20:39:32 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 20:39:32 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 20:39:32 - INFO - ✅ No pending uploads found for recovery
2025-08-06 20:39:51 - INFO - 📊 SIZE CHECK: Total=1232.7MB (Current=7.1MB + 10 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:39:51 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:40:21 - INFO - 📊 SIZE CHECK: Total=1239.1MB (Current=13.5MB + 10 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:40:21 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:40:51 - INFO - 📊 SIZE CHECK: Total=1245.5MB (Current=19.9MB + 10 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:40:51 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:41:21 - INFO - 📊 SIZE CHECK: Total=1251.9MB (Current=26.3MB + 10 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:41:21 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:41:27 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:02:12.44 (#1)
2025-08-06 20:41:27 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:41:27 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:41:27 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:41:27 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:41:27 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:41:27 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:41:27 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:41:27 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:41:27 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:41:27 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_203920.log (33.7KB)
2025-08-06 20:41:27 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:41:27 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv (28.2MB)
2025-08-06 20:41:27 - INFO - Added recording part 11 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv
2025-08-06 20:41:27 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:41:27 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:41:27 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:41:28 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:41:28 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:41:28 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:41:28 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:41:28 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:41:29 - INFO - 🔄 Starting continuous recording for corruption restart - Part 11
2025-08-06 20:41:29 - INFO - Starting continuous recording part 12 for annebriley
2025-08-06 20:41:34 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 329.1s)
2025-08-06 20:41:34 - INFO - Continuous recording part 12: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12_flv.mp4
2025-08-06 20:41:34 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_204134.log
2025-08-06 20:41:34 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv
2025-08-06 20:41:34 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:41:34 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:41:34 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:41:34 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv
2025-08-06 20:41:34 - INFO - 🔍 Started memory guardian for annebriley (PID: 4732, threshold: 6.0%)
2025-08-06 20:41:34 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:42:04 - INFO - 📊 SIZE CHECK: Total=1260.7MB (Current=6.9MB + 11 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:42:04 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:42:34 - INFO - 📊 SIZE CHECK: Total=1267.2MB (Current=13.4MB + 11 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:42:34 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:43:04 - INFO - 📊 SIZE CHECK: Total=1273.6MB (Current=19.8MB + 11 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:43:04 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:43:35 - INFO - 📊 SIZE CHECK: Total=1280.2MB (Current=26.4MB + 11 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:43:35 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:44:05 - INFO - 📊 SIZE CHECK: Total=1286.6MB (Current=32.8MB + 11 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:44:05 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:44:23 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:02:54.97 (#1)
2025-08-06 20:44:23 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:44:23 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:44:23 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:44:24 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:44:24 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:44:24 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:44:24 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:44:35 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:44:35 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:44:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_204134.log (43.4KB)
2025-08-06 20:44:35 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:44:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv (36.9MB)
2025-08-06 20:44:35 - INFO - Added recording part 12 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv
2025-08-06 20:44:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:44:35 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:44:35 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:44:35 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:44:35 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:44:35 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:44:35 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:44:35 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:44:36 - INFO - 🔄 Starting continuous recording for corruption restart - Part 12
2025-08-06 20:44:36 - INFO - Starting continuous recording part 13 for annebriley
2025-08-06 20:44:41 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 516.8s)
2025-08-06 20:44:41 - INFO - Continuous recording part 13: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13_flv.mp4
2025-08-06 20:44:41 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_204441.log
2025-08-06 20:44:41 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv
2025-08-06 20:44:41 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:44:41 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:44:41 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:44:41 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv
2025-08-06 20:44:41 - INFO - 🔍 Started memory guardian for annebriley (PID: 24788, threshold: 6.0%)
2025-08-06 20:44:41 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:45:12 - INFO - 📊 SIZE CHECK: Total=1297.7MB (Current=6.9MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:45:12 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:45:42 - INFO - 📊 SIZE CHECK: Total=1304.0MB (Current=13.2MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:45:42 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:46:12 - INFO - 📊 SIZE CHECK: Total=1310.4MB (Current=19.6MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:46:12 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:46:42 - INFO - 📊 SIZE CHECK: Total=1316.8MB (Current=26.1MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:46:42 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:47:13 - INFO - 📊 SIZE CHECK: Total=1323.2MB (Current=32.5MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:47:13 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:47:43 - INFO - 📊 SIZE CHECK: Total=1329.7MB (Current=38.9MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:47:43 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 20:48:13 - INFO - 📊 SIZE CHECK: Total=1336.5MB (Current=45.7MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:48:13 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 20:48:43 - INFO - 📊 SIZE CHECK: Total=1342.8MB (Current=52.1MB + 12 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:48:43 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 20:49:03 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:04:26.94 (#1)
2025-08-06 20:49:03 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:49:03 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:49:03 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:49:03 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:49:03 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:49:03 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:49:03 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:49:04 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:49:04 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:49:04 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_204441.log (64.0KB)
2025-08-06 20:49:04 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:49:04 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv (56.6MB)
2025-08-06 20:49:04 - INFO - Added recording part 13 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv
2025-08-06 20:49:04 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:49:04 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:49:04 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:49:04 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:49:04 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:49:04 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:49:04 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:49:04 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:49:05 - INFO - 🔄 Starting continuous recording for corruption restart - Part 13
2025-08-06 20:49:05 - INFO - Starting continuous recording part 14 for annebriley
2025-08-06 20:49:10 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 785.4s)
2025-08-06 20:49:10 - INFO - Continuous recording part 14: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14_flv.mp4
2025-08-06 20:49:10 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_204910.log
2025-08-06 20:49:10 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv
2025-08-06 20:49:10 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:49:10 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:49:10 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:49:10 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv
2025-08-06 20:49:10 - INFO - 🔍 Started memory guardian for annebriley (PID: 19668, threshold: 6.0%)
2025-08-06 20:49:10 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:49:40 - INFO - 📊 SIZE CHECK: Total=1354.1MB (Current=6.8MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:49:40 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:50:11 - INFO - 📊 SIZE CHECK: Total=1360.6MB (Current=13.2MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:50:11 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:50:41 - INFO - 📊 SIZE CHECK: Total=1367.0MB (Current=19.7MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:50:41 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:51:11 - INFO - 📊 SIZE CHECK: Total=1373.8MB (Current=26.5MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:51:11 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:51:41 - INFO - 📊 SIZE CHECK: Total=1380.2MB (Current=32.9MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:51:41 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:52:12 - INFO - 📊 SIZE CHECK: Total=1386.5MB (Current=39.1MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:52:12 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 20:52:42 - INFO - 📊 SIZE CHECK: Total=1392.8MB (Current=45.5MB + 13 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:52:42 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 20:52:42 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:03:38.15 (#1)
2025-08-06 20:52:42 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:52:42 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:52:42 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:52:43 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:52:43 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:52:43 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:52:43 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:52:43 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:52:43 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:52:43 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_204910.log (52.9KB)
2025-08-06 20:52:43 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:52:43 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv (45.8MB)
2025-08-06 20:52:43 - INFO - Added recording part 14 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv
2025-08-06 20:52:43 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:52:43 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:52:43 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:52:43 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:52:43 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:52:43 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:52:43 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:52:43 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:52:44 - INFO - 🔄 Starting continuous recording for corruption restart - Part 14
2025-08-06 20:52:44 - INFO - Starting continuous recording part 15 for annebriley
2025-08-06 20:52:49 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 1004.5s)
2025-08-06 20:52:49 - INFO - Continuous recording part 15: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15_flv.mp4
2025-08-06 20:52:49 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_205249.log
2025-08-06 20:52:49 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv
2025-08-06 20:52:49 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:52:49 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:52:49 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:52:49 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv
2025-08-06 20:52:49 - INFO - 🔍 Started memory guardian for annebriley (PID: 6460, threshold: 6.0%)
2025-08-06 20:52:49 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:53:19 - INFO - 📊 SIZE CHECK: Total=1399.5MB (Current=6.4MB + 14 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:53:19 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:53:50 - INFO - 📊 SIZE CHECK: Total=1406.4MB (Current=13.3MB + 14 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:53:50 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:54:20 - INFO - 📊 SIZE CHECK: Total=1412.9MB (Current=19.8MB + 14 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:54:20 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:54:50 - INFO - 📊 SIZE CHECK: Total=1419.3MB (Current=26.1MB + 14 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:54:50 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:55:09 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:02:24.43 (#1)
2025-08-06 20:55:09 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 20:55:09 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 20:55:09 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 20:55:09 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 20:55:09 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 20:55:09 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 20:55:09 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 20:55:09 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 20:55:09 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 20:55:09 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_205249.log (36.6KB)
2025-08-06 20:55:09 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 20:55:09 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv (30.4MB)
2025-08-06 20:55:09 - INFO - Added recording part 15 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv
2025-08-06 20:55:09 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 20:55:09 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 20:55:09 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 20:55:09 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 20:55:09 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 20:55:09 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 20:55:09 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 20:55:09 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 20:55:10 - INFO - 🔄 Starting continuous recording for corruption restart - Part 15
2025-08-06 20:55:10 - INFO - Starting continuous recording part 16 for annebriley
2025-08-06 20:55:15 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 1150.8s)
2025-08-06 20:55:15 - INFO - Continuous recording part 16: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16_flv.mp4
2025-08-06 20:55:15 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_205515.log
2025-08-06 20:55:15 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv
2025-08-06 20:55:15 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755740165&sign=693b712c4f22fb90626e51787a52d2f7
2025-08-06 20:55:15 - INFO - Executing FFmpeg command for annebriley
2025-08-06 20:55:15 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 20:55:15 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv
2025-08-06 20:55:15 - INFO - 🔍 Started memory guardian for annebriley (PID: 14760, threshold: 6.0%)
2025-08-06 20:55:15 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 20:55:46 - INFO - 📊 SIZE CHECK: Total=1430.6MB (Current=7.0MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:55:46 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 20:56:16 - INFO - 📊 SIZE CHECK: Total=1436.8MB (Current=13.3MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:56:16 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 20:56:46 - INFO - 📊 SIZE CHECK: Total=1443.0MB (Current=19.5MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:56:46 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 20:57:16 - INFO - 📊 SIZE CHECK: Total=1449.3MB (Current=25.8MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:57:16 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 20:57:47 - INFO - 📊 SIZE CHECK: Total=1455.6MB (Current=32.0MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:57:47 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 20:58:17 - INFO - 📊 SIZE CHECK: Total=1462.0MB (Current=38.5MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:58:17 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 20:58:47 - INFO - 📊 SIZE CHECK: Total=1468.4MB (Current=44.9MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:58:47 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 20:59:17 - INFO - 📊 SIZE CHECK: Total=1475.4MB (Current=51.8MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:59:17 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 20:59:47 - INFO - 📊 SIZE CHECK: Total=1481.7MB (Current=58.1MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 20:59:47 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 21:00:18 - INFO - 📊 SIZE CHECK: Total=1487.9MB (Current=64.3MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:00:18 - INFO - FFmpeg recording in progress for annebriley: 5.0 minutes
2025-08-06 21:00:48 - INFO - 📊 SIZE CHECK: Total=1494.3MB (Current=70.7MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:00:48 - INFO - FFmpeg recording in progress for annebriley: 5.5 minutes
2025-08-06 21:01:18 - INFO - 📊 SIZE CHECK: Total=1500.7MB (Current=77.2MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:01:18 - INFO - FFmpeg recording in progress for annebriley: 6.0 minutes
2025-08-06 21:01:48 - INFO - 📊 SIZE CHECK: Total=1507.0MB (Current=83.5MB + 15 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:01:48 - INFO - FFmpeg recording in progress for annebriley: 6.5 minutes
2025-08-06 21:02:05 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:06:54.44 (#1)
2025-08-06 21:02:05 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:02:05 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:02:05 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:02:05 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:02:05 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:02:05 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:02:05 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:02:06 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:02:06 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:02:06 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_205515.log (96.9KB)
2025-08-06 21:02:06 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:02:06 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv (87.3MB)
2025-08-06 21:02:06 - INFO - Added recording part 16 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv
2025-08-06 21:02:06 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:02:06 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:02:06 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:02:06 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:02:06 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:02:06 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:02:06 - INFO - 🔄 Fetching fresh stream URL for restart attempt 1: annebriley
2025-08-06 21:02:06 - INFO - 🔄 Forcing fresh stream URL for restart: annebriley
2025-08-06 21:02:06 - INFO - ⏳ Waiting 5s for URL refresh...
2025-08-06 21:02:11 - INFO - 🌐 Fetching fresh stream URL for annebriley
2025-08-06 21:02:12 - INFO - ✅ Stream URL cached for annebriley (valid for 20.0 minutes)
2025-08-06 21:02:12 - INFO - ✅ Fresh stream URL obtained for annebriley
2025-08-06 21:02:12 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:02:13 - INFO - 🔄 Starting continuous recording for corruption restart - Part 16
2025-08-06 21:02:13 - INFO - Starting continuous recording part 17 for annebriley
2025-08-06 21:02:18 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 6.4s)
2025-08-06 21:02:18 - INFO - Continuous recording part 17: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17_flv.mp4
2025-08-06 21:02:18 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210218.log
2025-08-06 21:02:18 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv
2025-08-06 21:02:18 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:02:18 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:02:18 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:02:18 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv
2025-08-06 21:02:18 - INFO - 🔍 Started memory guardian for annebriley (PID: 24520, threshold: 6.0%)
2025-08-06 21:02:18 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:02:48 - INFO - 📊 SIZE CHECK: Total=1518.1MB (Current=7.2MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:02:48 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:03:18 - INFO - 📊 SIZE CHECK: Total=1524.5MB (Current=13.6MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:03:18 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:03:48 - INFO - 📊 SIZE CHECK: Total=1530.9MB (Current=20.0MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:03:48 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 21:04:19 - INFO - 📊 SIZE CHECK: Total=1537.2MB (Current=26.3MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:04:19 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 21:04:49 - INFO - 📊 SIZE CHECK: Total=1543.6MB (Current=32.7MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:04:49 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 21:05:19 - INFO - 📊 SIZE CHECK: Total=1549.9MB (Current=39.0MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:05:19 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 21:05:49 - INFO - 📊 SIZE CHECK: Total=1556.7MB (Current=45.8MB + 16 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:05:49 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 21:06:07 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:03:56.63 (#1)
2025-08-06 21:06:07 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:06:07 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:06:07 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:06:07 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:06:07 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:06:07 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:06:07 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:06:08 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:06:08 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:06:08 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210218.log (56.8KB)
2025-08-06 21:06:08 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:06:08 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv (49.6MB)
2025-08-06 21:06:08 - INFO - Added recording part 17 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv
2025-08-06 21:06:08 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:06:08 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:06:08 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:06:08 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:06:08 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:06:08 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:06:08 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:06:08 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:06:09 - INFO - 🔄 Starting continuous recording for corruption restart - Part 17
2025-08-06 21:06:09 - INFO - Starting continuous recording part 18 for annebriley
2025-08-06 21:06:14 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 242.8s)
2025-08-06 21:06:14 - INFO - Continuous recording part 18: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18_flv.mp4
2025-08-06 21:06:14 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210614.log
2025-08-06 21:06:14 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv
2025-08-06 21:06:14 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:06:14 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:06:14 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:06:14 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv
2025-08-06 21:06:14 - INFO - 🔍 Started memory guardian for annebriley (PID: 316, threshold: 6.0%)
2025-08-06 21:06:14 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:06:44 - INFO - 📊 SIZE CHECK: Total=1567.3MB (Current=6.8MB + 17 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:06:44 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:07:03 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:00:55.10 (#1)
2025-08-06 21:07:03 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:07:03 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:07:03 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:07:03 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:07:03 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:07:03 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:07:03 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:07:04 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:07:04 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:07:04 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210614.log (16.4KB)
2025-08-06 21:07:04 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:07:04 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv (11.3MB)
2025-08-06 21:07:04 - INFO - Added recording part 18 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv
2025-08-06 21:07:04 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:07:04 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:07:04 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:07:04 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:07:04 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:07:04 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:07:04 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:07:04 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:07:05 - INFO - 🔄 Starting continuous recording for corruption restart - Part 18
2025-08-06 21:07:05 - INFO - Starting continuous recording part 19 for annebriley
2025-08-06 21:07:10 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 298.9s)
2025-08-06 21:07:10 - INFO - Continuous recording part 19: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19_flv.mp4
2025-08-06 21:07:10 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210710.log
2025-08-06 21:07:10 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv
2025-08-06 21:07:10 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:07:10 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:07:10 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:07:10 - INFO - 🔍 Started memory guardian for annebriley (PID: 6184, threshold: 6.0%)
2025-08-06 21:07:10 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv
2025-08-06 21:07:10 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:07:40 - INFO - 📊 SIZE CHECK: Total=1578.5MB (Current=6.7MB + 18 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:07:40 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:08:11 - INFO - 📊 SIZE CHECK: Total=1585.0MB (Current=13.2MB + 18 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:08:11 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:08:41 - INFO - 📊 SIZE CHECK: Total=1591.4MB (Current=19.6MB + 18 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:08:41 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 21:09:11 - INFO - 📊 SIZE CHECK: Total=1597.5MB (Current=25.7MB + 18 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:09:11 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 21:09:32 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 21:09:32 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 21:09:32 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 21:09:32 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 21:09:32 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 21:09:32 - INFO - ✅ No pending uploads found for recovery
2025-08-06 21:09:34 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:02:29.95 (#1)
2025-08-06 21:09:34 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:09:34 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:09:34 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:09:35 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:09:35 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:09:35 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:09:35 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:09:35 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:09:35 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:09:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210710.log (37.8KB)
2025-08-06 21:09:35 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:09:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv (31.4MB)
2025-08-06 21:09:35 - INFO - Added recording part 19 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv
2025-08-06 21:09:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:09:35 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:09:35 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:09:36 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:09:36 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:09:36 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:09:36 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:09:36 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:09:37 - INFO - 🔄 Starting continuous recording for corruption restart - Part 19
2025-08-06 21:09:37 - INFO - Starting continuous recording part 20 for annebriley
2025-08-06 21:09:42 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 450.5s)
2025-08-06 21:09:42 - INFO - Continuous recording part 20: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20_flv.mp4
2025-08-06 21:09:42 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210942.log
2025-08-06 21:09:42 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv
2025-08-06 21:09:42 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:09:42 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:09:42 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:09:42 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv
2025-08-06 21:09:42 - INFO - 🔍 Started memory guardian for annebriley (PID: 7972, threshold: 6.0%)
2025-08-06 21:09:42 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:10:12 - INFO - 📊 SIZE CHECK: Total=1610.0MB (Current=6.8MB + 19 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:10:12 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:10:42 - INFO - 📊 SIZE CHECK: Total=1616.5MB (Current=13.3MB + 19 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:10:42 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:10:55 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:01:18.44 (#1)
2025-08-06 21:10:55 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:10:55 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:10:55 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:10:55 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:10:55 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:10:55 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:10:55 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:10:56 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:10:56 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:10:56 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_210942.log (21.9KB)
2025-08-06 21:10:56 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:10:56 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv (16.5MB)
2025-08-06 21:10:56 - INFO - Added recording part 20 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv
2025-08-06 21:10:56 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:10:56 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:10:56 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:10:56 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:10:56 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:10:56 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:10:56 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:10:56 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:10:57 - INFO - 🔄 Starting continuous recording for corruption restart - Part 20
2025-08-06 21:10:57 - INFO - Starting continuous recording part 21 for annebriley
2025-08-06 21:11:02 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 530.9s)
2025-08-06 21:11:02 - INFO - Continuous recording part 21: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21_flv.mp4
2025-08-06 21:11:02 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_211102.log
2025-08-06 21:11:02 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv
2025-08-06 21:11:02 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:11:02 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:11:02 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:11:02 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv
2025-08-06 21:11:02 - INFO - 🔍 Started memory guardian for annebriley (PID: 29820, threshold: 6.0%)
2025-08-06 21:11:02 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:11:33 - INFO - 📊 SIZE CHECK: Total=1626.6MB (Current=7.0MB + 20 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:11:33 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:12:03 - INFO - 📊 SIZE CHECK: Total=1633.0MB (Current=13.3MB + 20 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:12:03 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:12:33 - INFO - 📊 SIZE CHECK: Total=1639.5MB (Current=19.8MB + 20 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:12:33 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 21:13:03 - INFO - 📊 SIZE CHECK: Total=1646.4MB (Current=26.7MB + 20 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:13:03 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 21:13:29 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:02:33.24 (#1)
2025-08-06 21:13:29 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:13:29 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:13:29 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:13:30 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:13:30 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:13:30 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:13:30 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:13:31 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:13:31 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:13:31 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_211102.log (38.3KB)
2025-08-06 21:13:31 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:13:31 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv (32.6MB)
2025-08-06 21:13:31 - INFO - Added recording part 21 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv
2025-08-06 21:13:31 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:13:31 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:13:31 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:13:31 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:13:31 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:13:31 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:13:31 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:13:31 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:13:32 - INFO - 🔄 Starting continuous recording for corruption restart - Part 21
2025-08-06 21:13:32 - INFO - Starting continuous recording part 22 for annebriley
2025-08-06 21:13:37 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 686.1s)
2025-08-06 21:13:37 - INFO - Continuous recording part 22: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22_flv.mp4
2025-08-06 21:13:37 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_211337.log
2025-08-06 21:13:37 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv
2025-08-06 21:13:37 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:13:37 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:13:37 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:13:37 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv
2025-08-06 21:13:37 - INFO - 🔍 Started memory guardian for annebriley (PID: 11820, threshold: 6.0%)
2025-08-06 21:13:37 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:14:08 - INFO - 📊 SIZE CHECK: Total=1659.0MB (Current=6.8MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:14:08 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:14:38 - INFO - 📊 SIZE CHECK: Total=1665.4MB (Current=13.2MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:14:38 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:15:08 - INFO - 📊 SIZE CHECK: Total=1671.8MB (Current=19.6MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:15:08 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 21:15:38 - INFO - 📊 SIZE CHECK: Total=1678.2MB (Current=26.0MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:15:38 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 21:16:08 - INFO - 📊 SIZE CHECK: Total=1684.6MB (Current=32.3MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:16:08 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 21:16:39 - INFO - 📊 SIZE CHECK: Total=1691.0MB (Current=38.7MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:16:39 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 21:17:09 - INFO - 📊 SIZE CHECK: Total=1697.3MB (Current=45.1MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:17:09 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 21:17:39 - INFO - 📊 SIZE CHECK: Total=1703.7MB (Current=51.5MB + 21 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:17:39 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 21:17:57 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:04:24.35 (#1)
2025-08-06 21:17:57 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:17:57 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:17:57 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:17:57 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:17:57 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:17:57 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:17:57 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:17:58 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:17:58 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:17:58 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_211337.log (63.5KB)
2025-08-06 21:17:58 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:17:58 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv (55.8MB)
2025-08-06 21:17:58 - INFO - Added recording part 22 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv
2025-08-06 21:17:58 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:17:58 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:17:58 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:17:58 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:17:58 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:17:58 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:17:58 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:17:58 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:17:59 - INFO - 🔄 Starting continuous recording for corruption restart - Part 22
2025-08-06 21:17:59 - INFO - Starting continuous recording part 23 for annebriley
2025-08-06 21:18:04 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 952.8s)
2025-08-06 21:18:04 - INFO - Continuous recording part 23: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23_flv.mp4
2025-08-06 21:18:04 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_211804.log
2025-08-06 21:18:04 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv
2025-08-06 21:18:04 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755741731&sign=f197a47a78ca954cab85f21506d5443f
2025-08-06 21:18:04 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:18:04 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:18:04 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv
2025-08-06 21:18:04 - INFO - 🔍 Started memory guardian for annebriley (PID: 2600, threshold: 6.0%)
2025-08-06 21:18:04 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:18:34 - INFO - 📊 SIZE CHECK: Total=1714.9MB (Current=6.9MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:18:34 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:19:04 - INFO - 📊 SIZE CHECK: Total=1721.3MB (Current=13.3MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:19:04 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:19:35 - INFO - 📊 SIZE CHECK: Total=1727.7MB (Current=19.7MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:19:35 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 21:20:05 - INFO - 📊 SIZE CHECK: Total=1734.1MB (Current=26.1MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:20:05 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 21:20:35 - INFO - 📊 SIZE CHECK: Total=1741.0MB (Current=33.0MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:20:35 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 21:21:06 - INFO - 📊 SIZE CHECK: Total=1747.5MB (Current=39.5MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:21:06 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 21:21:36 - INFO - 📊 SIZE CHECK: Total=1753.9MB (Current=45.8MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:21:36 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 21:22:06 - INFO - 📊 SIZE CHECK: Total=1760.3MB (Current=52.3MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:22:06 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 21:22:37 - INFO - 📊 SIZE CHECK: Total=1766.7MB (Current=58.7MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:22:37 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 21:23:07 - INFO - 📊 SIZE CHECK: Total=1773.1MB (Current=65.1MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:23:07 - INFO - FFmpeg recording in progress for annebriley: 5.0 minutes
2025-08-06 21:23:37 - INFO - 📊 SIZE CHECK: Total=1779.6MB (Current=71.6MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:23:37 - INFO - FFmpeg recording in progress for annebriley: 5.5 minutes
2025-08-06 21:24:07 - INFO - 📊 SIZE CHECK: Total=1786.5MB (Current=78.4MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:24:07 - INFO - FFmpeg recording in progress for annebriley: 6.1 minutes
2025-08-06 21:24:38 - INFO - 📊 SIZE CHECK: Total=1792.8MB (Current=84.8MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:24:38 - INFO - FFmpeg recording in progress for annebriley: 6.6 minutes
2025-08-06 21:25:08 - INFO - 📊 SIZE CHECK: Total=1799.2MB (Current=91.2MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:25:08 - INFO - FFmpeg recording in progress for annebriley: 7.1 minutes
2025-08-06 21:25:38 - INFO - 📊 SIZE CHECK: Total=1805.6MB (Current=97.6MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:25:38 - INFO - FFmpeg recording in progress for annebriley: 7.6 minutes
2025-08-06 21:26:09 - INFO - 📊 SIZE CHECK: Total=1812.1MB (Current=104.1MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:26:09 - INFO - FFmpeg recording in progress for annebriley: 8.1 minutes
2025-08-06 21:26:39 - INFO - 📊 SIZE CHECK: Total=1818.5MB (Current=110.4MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:26:39 - INFO - FFmpeg recording in progress for annebriley: 8.6 minutes
2025-08-06 21:27:09 - INFO - 📊 SIZE CHECK: Total=1824.9MB (Current=116.9MB + 22 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:27:09 - INFO - FFmpeg recording in progress for annebriley: 9.1 minutes
2025-08-06 21:27:34 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:09:35.92 (#1)
2025-08-06 21:27:34 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:27:34 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:27:34 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:27:35 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:27:35 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:27:35 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:27:35 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:27:35 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:27:35 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:27:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_211804.log (132.9KB)
2025-08-06 21:27:35 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:27:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv (123.0MB)
2025-08-06 21:27:35 - INFO - Added recording part 23 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv
2025-08-06 21:27:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:27:35 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:27:35 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:27:36 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:27:36 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:27:36 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:27:36 - INFO - 🔄 Fetching fresh stream URL for restart attempt 1: annebriley
2025-08-06 21:27:36 - INFO - 🔄 Forcing fresh stream URL for restart: annebriley
2025-08-06 21:27:36 - INFO - ⏳ Waiting 5s for URL refresh...
2025-08-06 21:27:41 - INFO - 🌐 Fetching fresh stream URL for annebriley
2025-08-06 21:27:41 - INFO - ✅ Stream URL cached for annebriley (valid for 20.0 minutes)
2025-08-06 21:27:41 - INFO - ✅ Fresh stream URL obtained for annebriley
2025-08-06 21:27:41 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:27:42 - INFO - 🔄 Starting continuous recording for corruption restart - Part 23
2025-08-06 21:27:42 - INFO - Starting continuous recording part 24 for annebriley
2025-08-06 21:27:47 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 6.5s)
2025-08-06 21:27:47 - INFO - Continuous recording part 24: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24_flv.mp4
2025-08-06 21:27:47 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_212747.log
2025-08-06 21:27:47 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv
2025-08-06 21:27:47 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755743261&sign=401ada3197f6ab171a01ef3cbb39cd2a
2025-08-06 21:27:47 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:27:47 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:27:47 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv
2025-08-06 21:27:47 - INFO - 🔍 Started memory guardian for annebriley (PID: 24276, threshold: 6.0%)
2025-08-06 21:27:47 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:28:18 - INFO - 📊 SIZE CHECK: Total=1837.9MB (Current=6.8MB + 23 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:28:18 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:28:41 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:00:58.37 (#1)
2025-08-06 21:28:41 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:28:41 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:28:41 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:28:42 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:28:42 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:28:42 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:28:42 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:28:42 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:28:42 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:28:42 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_212747.log (17.5KB)
2025-08-06 21:28:42 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:28:42 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv (12.1MB)
2025-08-06 21:28:42 - INFO - Added recording part 24 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv
2025-08-06 21:28:42 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:28:42 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:28:42 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:28:42 - INFO - ✅ User annebriley confirmed still live after 0s (attempt 1)
2025-08-06 21:28:42 - INFO - ✅ User annebriley still live, attempting restart with retry logic...
2025-08-06 21:28:42 - INFO - 🔄 Restart attempt 1/3 for annebriley
2025-08-06 21:28:42 - INFO - 🔄 Using cached stream URL for corruption restart: annebriley
2025-08-06 21:28:42 - INFO - ⏳ Waiting 1s for stream stabilization for annebriley
2025-08-06 21:28:43 - INFO - 🔄 Starting continuous recording for corruption restart - Part 24
2025-08-06 21:28:43 - INFO - Starting continuous recording part 25 for annebriley
2025-08-06 21:28:48 - INFO - 🔄 Reusing cached stream URL for annebriley (age: 67.3s)
2025-08-06 21:28:48 - INFO - Continuous recording part 25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25_flv.mp4
2025-08-06 21:28:48 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_212848.log
2025-08-06 21:28:48 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv
2025-08-06 21:28:48 - INFO - Stream URL: https://pull-f5-tt02.fcdn.eu.tiktokcdn.com/stage/stream-3864739177900016578_or4.flv?expire=1755743261&sign=401ada3197f6ab171a01ef3cbb39cd2a
2025-08-06 21:28:48 - INFO - Executing FFmpeg command for annebriley
2025-08-06 21:28:48 - INFO - 🔍 Starting FFmpeg stderr monitor for annebriley
2025-08-06 21:28:48 - INFO - 🔍 Started memory guardian for annebriley (PID: 35376, threshold: 6.0%)
2025-08-06 21:28:48 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv
2025-08-06 21:28:48 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 21:29:18 - INFO - 📊 SIZE CHECK: Total=1849.8MB (Current=6.8MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:29:18 - INFO - FFmpeg recording in progress for annebriley: 0.5 minutes
2025-08-06 21:29:49 - INFO - 📊 SIZE CHECK: Total=1856.3MB (Current=13.3MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:29:49 - INFO - FFmpeg recording in progress for annebriley: 1.0 minutes
2025-08-06 21:30:19 - INFO - 📊 SIZE CHECK: Total=1862.8MB (Current=19.7MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:30:19 - INFO - FFmpeg recording in progress for annebriley: 1.5 minutes
2025-08-06 21:30:49 - INFO - 📊 SIZE CHECK: Total=1869.2MB (Current=26.2MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:30:49 - INFO - FFmpeg recording in progress for annebriley: 2.0 minutes
2025-08-06 21:31:20 - INFO - 📊 SIZE CHECK: Total=1876.1MB (Current=33.0MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:31:20 - INFO - FFmpeg recording in progress for annebriley: 2.5 minutes
2025-08-06 21:31:50 - INFO - 📊 SIZE CHECK: Total=1882.5MB (Current=39.4MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:31:50 - INFO - FFmpeg recording in progress for annebriley: 3.0 minutes
2025-08-06 21:32:20 - INFO - 📊 SIZE CHECK: Total=1889.0MB (Current=45.9MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:32:20 - INFO - FFmpeg recording in progress for annebriley: 3.5 minutes
2025-08-06 21:32:50 - INFO - 📊 SIZE CHECK: Total=1895.3MB (Current=52.3MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:32:50 - INFO - FFmpeg recording in progress for annebriley: 4.0 minutes
2025-08-06 21:33:21 - INFO - 📊 SIZE CHECK: Total=1901.7MB (Current=58.6MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:33:21 - INFO - FFmpeg recording in progress for annebriley: 4.5 minutes
2025-08-06 21:33:51 - INFO - 📊 SIZE CHECK: Total=1908.1MB (Current=65.1MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:33:51 - INFO - FFmpeg recording in progress for annebriley: 5.0 minutes
2025-08-06 21:34:21 - INFO - 📊 SIZE CHECK: Total=1915.0MB (Current=71.9MB + 24 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 21:34:21 - INFO - FFmpeg recording in progress for annebriley: 5.6 minutes
2025-08-06 21:34:34 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for annebriley: time=00:05:51.05 (#1)
2025-08-06 21:34:34 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for annebriley - triggering immediate restart
2025-08-06 21:34:34 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for annebriley
2025-08-06 21:34:34 - INFO - 🔍 FFmpeg stderr monitor finished for annebriley
2025-08-06 21:34:34 - WARNING - 🚨 CORRUPTION DETECTED for annebriley, stopping current recording to restart
2025-08-06 21:34:34 - INFO - Starting graceful FFmpeg termination for annebriley - Reason: corruption detected
2025-08-06 21:34:34 - INFO - Sending 'q' command to FFmpeg for annebriley
2025-08-06 21:34:34 - INFO - Waiting 30s for FFmpeg to complete container headers for annebriley
2025-08-06 21:34:35 - INFO - FFmpeg terminated cleanly via stdin for annebriley
2025-08-06 21:34:35 - INFO - FFmpeg recording completed successfully for annebriley
2025-08-06 21:34:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_annebriley_20250806_212848.log (82.6KB)
2025-08-06 21:34:35 - INFO - ✅ No corruption patterns detected for annebriley
2025-08-06 21:34:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv (74.3MB)
2025-08-06 21:34:35 - INFO - Added recording part 25 for annebriley: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv
2025-08-06 21:34:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for annebriley
2025-08-06 21:34:35 - INFO - 🔍 Starting robust live verification for annebriley (2min validation period)
2025-08-06 21:34:35 - INFO - 🔍 Checking if annebriley still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 21:34:35 - WARNING - ⚠️ User annebriley appears offline on attempt 1
2025-08-06 21:34:35 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:34:45 - INFO - 🔍 Checking if annebriley still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 21:34:45 - WARNING - ⚠️ User annebriley appears offline on attempt 2
2025-08-06 21:34:45 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:34:55 - INFO - 🔍 Checking if annebriley still live (attempt 3, 20s/120s, 100s remaining)
2025-08-06 21:34:56 - WARNING - ⚠️ User annebriley appears offline on attempt 3
2025-08-06 21:34:56 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:35:06 - INFO - 🔍 Checking if annebriley still live (attempt 4, 31s/120s, 89s remaining)
2025-08-06 21:35:06 - WARNING - ⚠️ User annebriley appears offline on attempt 4
2025-08-06 21:35:06 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:35:16 - INFO - 🔍 Checking if annebriley still live (attempt 5, 41s/120s, 79s remaining)
2025-08-06 21:35:16 - WARNING - ⚠️ User annebriley appears offline on attempt 5
2025-08-06 21:35:16 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:35:26 - INFO - 🔍 Checking if annebriley still live (attempt 6, 51s/120s, 69s remaining)
2025-08-06 21:35:26 - WARNING - ⚠️ User annebriley appears offline on attempt 6
2025-08-06 21:35:26 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:35:36 - INFO - 🔍 Checking if annebriley still live (attempt 7, 61s/120s, 59s remaining)
2025-08-06 21:35:37 - WARNING - ⚠️ User annebriley appears offline on attempt 7
2025-08-06 21:35:37 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:35:47 - INFO - 🔍 Checking if annebriley still live (attempt 8, 71s/120s, 49s remaining)
2025-08-06 21:35:47 - WARNING - ⚠️ User annebriley appears offline on attempt 8
2025-08-06 21:35:47 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:35:57 - INFO - 🔍 Checking if annebriley still live (attempt 9, 82s/120s, 38s remaining)
2025-08-06 21:35:57 - WARNING - ⚠️ User annebriley appears offline on attempt 9
2025-08-06 21:35:57 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:36:07 - INFO - 🔍 Checking if annebriley still live (attempt 10, 92s/120s, 28s remaining)
2025-08-06 21:36:07 - WARNING - ⚠️ User annebriley appears offline on attempt 10
2025-08-06 21:36:07 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:36:17 - INFO - 🔍 Checking if annebriley still live (attempt 11, 102s/120s, 18s remaining)
2025-08-06 21:36:17 - WARNING - ⚠️ User annebriley appears offline on attempt 11
2025-08-06 21:36:17 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 21:36:27 - INFO - 🔍 Checking if annebriley still live (attempt 12, 112s/120s, 8s remaining)
2025-08-06 21:36:28 - WARNING - ⚠️ User annebriley appears offline on attempt 12
2025-08-06 21:36:28 - INFO - ❌ User annebriley confirmed offline after 2 minutes of validation
2025-08-06 21:36:28 - INFO - ❌ User annebriley no longer live, ending recording after corruption
2025-08-06 21:36:28 - INFO - FFmpeg terminated normally for annebriley, checking if stream continues...
2025-08-06 21:36:28 - INFO - 🔍 Starting stream continuation validation for annebriley for 2 minutes (4 checks every 30s)...
2025-08-06 21:36:38 - INFO - ❌ Room alive check failed for annebriley after 3 attempts (total time: 15s)
2025-08-06 21:36:38 - WARNING - ❌ Stream check 1/4: user annebriley not detected as live (consecutive failures: 1)
2025-08-06 21:37:19 - INFO - ❌ Room alive check failed for annebriley after 3 attempts (total time: 15s)
2025-08-06 21:37:19 - WARNING - ❌ Stream check 2/4: user annebriley not detected as live (consecutive failures: 2)
2025-08-06 21:38:00 - INFO - ❌ Room alive check failed for annebriley after 3 attempts (total time: 15s)
2025-08-06 21:38:00 - WARNING - ❌ Stream check 3/4: user annebriley not detected as live (consecutive failures: 3)
2025-08-06 21:38:00 - WARNING - Multiple consecutive failed checks (3) for annebriley (non-URL error), ending validation early
2025-08-06 21:38:00 - INFO - 🏁 Stream validation completed for annebriley after 2 minutes - stream appears to have ended (consecutive failures: 3)
2025-08-06 21:38:00 - INFO - Stream ended for annebriley, processing final recording...
2025-08-06 21:38:00 - INFO - Processing 25 existing recording parts for annebriley (current recording success: True)
2025-08-06 21:38:00 - INFO - Converting part 1/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mp4
2025-08-06 21:38:00 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mp4 (source: 113.7MB)
2025-08-06 21:38:00 - INFO - MKV file size: 0.11GB, conversion timeout: 606s (600s base + 6s for size)
2025-08-06 21:38:01 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mp4 (113.9MB)
2025-08-06 21:38:01 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_19-39-50.mkv'
2025-08-06 21:38:01 - INFO - Converting part 2/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mp4
2025-08-06 21:38:01 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mp4 (source: 5.0MB)
2025-08-06 21:38:01 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:01 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mp4 (5.0MB)
2025-08-06 21:38:01 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-44-46_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_19-44-46_cont2.mkv'
2025-08-06 21:38:01 - INFO - Converting part 3/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mp4
2025-08-06 21:38:01 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mp4 (source: 45.8MB)
2025-08-06 21:38:01 - INFO - MKV file size: 0.04GB, conversion timeout: 602s (600s base + 2s for size)
2025-08-06 21:38:01 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mp4 (45.9MB)
2025-08-06 21:38:01 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-45-04_cont3.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_19-45-04_cont3.mkv'
2025-08-06 21:38:01 - INFO - Converting part 4/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mp4
2025-08-06 21:38:01 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mp4 (source: 10.6MB)
2025-08-06 21:38:01 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:01 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mp4 (10.6MB)
2025-08-06 21:38:01 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-48-29_cont4.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_19-48-29_cont4.mkv'
2025-08-06 21:38:01 - INFO - Converting part 5/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mp4
2025-08-06 21:38:01 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mp4 (source: 6.6MB)
2025-08-06 21:38:01 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:01 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mp4 (6.6MB)
2025-08-06 21:38:01 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-27_cont5.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_19-49-27_cont5.mkv'
2025-08-06 21:38:01 - INFO - Converting part 6/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mp4
2025-08-06 21:38:01 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mp4 (source: 381.6MB)
2025-08-06 21:38:01 - INFO - MKV file size: 0.37GB, conversion timeout: 622s (600s base + 22s for size)
2025-08-06 21:38:04 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mp4 (382.1MB)
2025-08-06 21:38:04 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-49-52_cont6.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_19-49-52_cont6.mkv'
2025-08-06 21:38:04 - INFO - Converting part 7/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mp4
2025-08-06 21:38:04 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mp4 (source: 5.3MB)
2025-08-06 21:38:04 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:04 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mp4 (5.3MB)
2025-08-06 21:38:04 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-07-40_cont7.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-07-40_cont7.mkv'
2025-08-06 21:38:04 - INFO - Converting part 8/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mp4
2025-08-06 21:38:04 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mp4 (source: 272.1MB)
2025-08-06 21:38:04 - INFO - MKV file size: 0.27GB, conversion timeout: 615s (600s base + 15s for size)
2025-08-06 21:38:06 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mp4 (272.4MB)
2025-08-06 21:38:06 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-08-01_cont8.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-08-01_cont8.mkv'
2025-08-06 21:38:06 - INFO - Converting part 9/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mp4
2025-08-06 21:38:06 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mp4 (source: 332.9MB)
2025-08-06 21:38:06 - INFO - MKV file size: 0.33GB, conversion timeout: 619s (600s base + 19s for size)
2025-08-06 21:38:08 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mp4 (333.3MB)
2025-08-06 21:38:08 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-20-40_cont9.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-20-40_cont9.mkv'
2025-08-06 21:38:08 - INFO - Converting part 10/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mp4
2025-08-06 21:38:08 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mp4 (source: 52.0MB)
2025-08-06 21:38:08 - INFO - MKV file size: 0.05GB, conversion timeout: 603s (600s base + 3s for size)
2025-08-06 21:38:09 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mp4 (52.1MB)
2025-08-06 21:38:09 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-36-11_cont10.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-36-11_cont10.mkv'
2025-08-06 21:38:09 - INFO - Converting part 11/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mp4
2025-08-06 21:38:09 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mp4 (source: 28.2MB)
2025-08-06 21:38:09 - INFO - MKV file size: 0.03GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 21:38:09 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mp4 (28.3MB)
2025-08-06 21:38:09 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-39-20_cont11.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-39-20_cont11.mkv'
2025-08-06 21:38:09 - INFO - Converting part 12/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mp4
2025-08-06 21:38:09 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mp4 (source: 36.9MB)
2025-08-06 21:38:09 - INFO - MKV file size: 0.04GB, conversion timeout: 602s (600s base + 2s for size)
2025-08-06 21:38:09 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mp4 (37.0MB)
2025-08-06 21:38:09 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-41-34_cont12.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-41-34_cont12.mkv'
2025-08-06 21:38:09 - INFO - Converting part 13/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mp4
2025-08-06 21:38:09 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mp4 (source: 56.6MB)
2025-08-06 21:38:09 - INFO - MKV file size: 0.06GB, conversion timeout: 603s (600s base + 3s for size)
2025-08-06 21:38:10 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mp4 (56.7MB)
2025-08-06 21:38:10 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-44-41_cont13.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-44-41_cont13.mkv'
2025-08-06 21:38:10 - INFO - Converting part 14/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mp4
2025-08-06 21:38:10 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mp4 (source: 45.8MB)
2025-08-06 21:38:10 - INFO - MKV file size: 0.04GB, conversion timeout: 602s (600s base + 2s for size)
2025-08-06 21:38:10 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mp4 (45.9MB)
2025-08-06 21:38:10 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-49-10_cont14.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-49-10_cont14.mkv'
2025-08-06 21:38:10 - INFO - Converting part 15/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mp4
2025-08-06 21:38:10 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mp4 (source: 30.4MB)
2025-08-06 21:38:10 - INFO - MKV file size: 0.03GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 21:38:10 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mp4 (30.5MB)
2025-08-06 21:38:10 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-52-49_cont15.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-52-49_cont15.mkv'
2025-08-06 21:38:10 - INFO - Converting part 16/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mp4
2025-08-06 21:38:10 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mp4 (source: 87.3MB)
2025-08-06 21:38:10 - INFO - MKV file size: 0.09GB, conversion timeout: 605s (600s base + 5s for size)
2025-08-06 21:38:11 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mp4 (87.5MB)
2025-08-06 21:38:11 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_20-55-15_cont16.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_20-55-15_cont16.mkv'
2025-08-06 21:38:11 - INFO - Converting part 17/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mp4
2025-08-06 21:38:11 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mp4 (source: 49.6MB)
2025-08-06 21:38:11 - INFO - MKV file size: 0.05GB, conversion timeout: 602s (600s base + 2s for size)
2025-08-06 21:38:11 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mp4 (49.7MB)
2025-08-06 21:38:11 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-02-18_cont17.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-02-18_cont17.mkv'
2025-08-06 21:38:11 - INFO - Converting part 18/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mp4
2025-08-06 21:38:11 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mp4 (source: 11.3MB)
2025-08-06 21:38:11 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:11 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mp4 (11.4MB)
2025-08-06 21:38:11 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-06-14_cont18.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-06-14_cont18.mkv'
2025-08-06 21:38:11 - INFO - Converting part 19/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mp4
2025-08-06 21:38:11 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mp4 (source: 31.4MB)
2025-08-06 21:38:11 - INFO - MKV file size: 0.03GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 21:38:11 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mp4 (31.5MB)
2025-08-06 21:38:11 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-07-10_cont19.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-07-10_cont19.mkv'
2025-08-06 21:38:11 - INFO - Converting part 20/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mp4
2025-08-06 21:38:11 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mp4 (source: 16.5MB)
2025-08-06 21:38:11 - INFO - MKV file size: 0.02GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:11 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mp4 (16.5MB)
2025-08-06 21:38:11 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-09-42_cont20.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-09-42_cont20.mkv'
2025-08-06 21:38:11 - INFO - Converting part 21/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mp4
2025-08-06 21:38:11 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mp4 (source: 32.6MB)
2025-08-06 21:38:11 - INFO - MKV file size: 0.03GB, conversion timeout: 601s (600s base + 1s for size)
2025-08-06 21:38:11 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mp4 (32.6MB)
2025-08-06 21:38:11 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-11-02_cont21.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-11-02_cont21.mkv'
2025-08-06 21:38:11 - INFO - Converting part 22/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mp4
2025-08-06 21:38:11 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mp4 (source: 55.8MB)
2025-08-06 21:38:11 - INFO - MKV file size: 0.05GB, conversion timeout: 603s (600s base + 3s for size)
2025-08-06 21:38:12 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mp4 (55.9MB)
2025-08-06 21:38:12 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-13-37_cont22.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-13-37_cont22.mkv'
2025-08-06 21:38:12 - INFO - Converting part 23/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mp4
2025-08-06 21:38:12 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mp4 (source: 123.0MB)
2025-08-06 21:38:12 - INFO - MKV file size: 0.12GB, conversion timeout: 607s (600s base + 7s for size)
2025-08-06 21:38:12 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mp4 (123.2MB)
2025-08-06 21:38:12 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-18-04_cont23.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-18-04_cont23.mkv'
2025-08-06 21:38:12 - INFO - Converting part 24/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mp4
2025-08-06 21:38:12 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mp4 (source: 12.1MB)
2025-08-06 21:38:12 - INFO - MKV file size: 0.01GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 21:38:12 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mp4 (12.1MB)
2025-08-06 21:38:12 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-27-47_cont24.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-27-47_cont24.mkv'
2025-08-06 21:38:12 - INFO - Converting part 25/25: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mp4
2025-08-06 21:38:12 - INFO - Converting MKV to MP4: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv -> D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mp4 (source: 74.3MB)
2025-08-06 21:38:12 - INFO - MKV file size: 0.07GB, conversion timeout: 604s (600s base + 4s for size)
2025-08-06 21:38:12 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mp4 (74.5MB)
2025-08-06 21:38:12 - WARNING - Could not cleanup MKV file D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_21-28-48_cont25.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\annebriley-2025-08-06_19-39-48\\TK_annebriley_2025.08.06_21-28-48_cont25.mkv'
2025-08-06 21:38:12 - INFO - Converted all parts to MP4. Final parts count: 25
2025-08-06 21:38:12 - INFO - 📥 Added annebriley to post-processing queue (25 parts) - Job ID: annebriley_1754534292
2025-08-06 21:38:12 - INFO - 📥 Recording submitted to post-processing queue: annebriley_1754534292
2025-08-06 21:38:12 - INFO - 📄 Session state marked as completed (preserved for upload recovery): annebriley_1754527188
2025-08-06 21:38:12 - INFO - FFmpeg recording finished definitively for annebriley, calling cleanup
2025-08-06 21:38:12 - INFO - 🧹 Recording cleanup callback for annebriley
2025-08-06 21:38:12 - INFO - 👷 Worker-1 processing job annebriley_1754534292 for annebriley
2025-08-06 21:38:12 - INFO - 🔍 [Worker-1] Starting validation for annebriley (25 parts)
2025-08-06 21:38:13 - INFO - ✅ Marked recording as completed: annebriley_1754527184_1268285169
2025-08-06 21:38:14 - INFO - 📏 [Worker-1] Part 1 too large (113.9MB), skipping validation: TK_annebriley_2025.08.06_19-39-50.mp4
2025-08-06 21:38:14 - INFO - 🧹 Redis cleanup completed for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Restart successful on attempt 1 for annebriley
2025-08-06 21:38:14 - INFO - ✅ Recording completed successfully for annebriley
2025-08-06 21:38:15 - WARNING - 🗑️ [Worker-1] Part 2 corrupted (90.4% errors), discarding: TK_annebriley_2025.08.06_19-44-46_cont2.mp4
2025-08-06 21:38:15 - INFO - ✅ [Worker-1] Deleted corrupted file: TK_annebriley_2025.08.06_19-44-46_cont2.mp4
2025-08-06 21:38:38 - INFO - ✅ [Worker-1] Part 3 valid (0.0% errors): TK_annebriley_2025.08.06_19-45-04_cont3.mp4
2025-08-06 21:38:43 - INFO - ✅ [Worker-1] Part 4 valid (0.0% errors): TK_annebriley_2025.08.06_19-48-29_cont4.mp4
2025-08-06 21:38:46 - WARNING - 🗑️ [Worker-1] Part 5 corrupted (85.0% errors), discarding: TK_annebriley_2025.08.06_19-49-27_cont5.mp4
2025-08-06 21:38:46 - INFO - ✅ [Worker-1] Deleted corrupted file: TK_annebriley_2025.08.06_19-49-27_cont5.mp4
2025-08-06 21:38:46 - INFO - 📏 [Worker-1] Part 6 too large (382.1MB), skipping validation: TK_annebriley_2025.08.06_19-49-52_cont6.mp4
2025-08-06 21:38:47 - INFO - ✅ [Worker-1] Part 7 valid (0.0% errors): TK_annebriley_2025.08.06_20-07-40_cont7.mp4
2025-08-06 21:38:47 - INFO - 📏 [Worker-1] Part 8 too large (272.4MB), skipping validation: TK_annebriley_2025.08.06_20-08-01_cont8.mp4
2025-08-06 21:38:47 - INFO - 📏 [Worker-1] Part 9 too large (333.3MB), skipping validation: TK_annebriley_2025.08.06_20-20-40_cont9.mp4
2025-08-06 21:39:06 - INFO - ✅ [Worker-1] Part 10 valid (0.0% errors): TK_annebriley_2025.08.06_20-36-11_cont10.mp4
2025-08-06 21:39:18 - INFO - ✅ [Worker-1] Part 11 valid (0.0% errors): TK_annebriley_2025.08.06_20-39-20_cont11.mp4
2025-08-06 21:39:30 - INFO - ⏰ Starting scheduled Redis orphan cleanup...
2025-08-06 21:39:30 - INFO - 🧹 Starting Redis orphaned records cleanup with pipelines...
2025-08-06 21:39:31 - INFO - 🔍 Found 0 pending records, 0 sessions, 0 primary deliveries
2025-08-06 21:39:31 - INFO - 🧠 Found 0 active recordings in memory
2025-08-06 21:39:31 - INFO - ✅ No orphaned records found to clean
2025-08-06 21:39:31 - INFO - 🧹 Redis cleanup completed: cleaned=0, preserved=0, errors=0
2025-08-06 21:39:31 - INFO - ✅ Scheduled cleanup completed: {'cleaned': 0, 'preserved': 0, 'errors': 0}
2025-08-06 21:39:32 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 21:39:32 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 21:39:32 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 21:39:32 - INFO - 🔍 Found 28 MP4 files total
2025-08-06 21:39:32 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 21:39:32 - INFO - ✅ No pending uploads found for recovery
2025-08-06 21:39:33 - INFO - ✅ [Worker-1] Part 12 valid (0.0% errors): TK_annebriley_2025.08.06_20-41-34_cont12.mp4
2025-08-06 21:39:57 - INFO - ✅ [Worker-1] Part 13 valid (0.0% errors): TK_annebriley_2025.08.06_20-44-41_cont13.mp4
2025-08-06 21:40:17 - INFO - ✅ [Worker-1] Part 14 valid (0.0% errors): TK_annebriley_2025.08.06_20-49-10_cont14.mp4
2025-08-06 21:40:33 - INFO - ✅ [Worker-1] Part 15 valid (0.0% errors): TK_annebriley_2025.08.06_20-52-49_cont15.mp4
2025-08-06 21:41:14 - INFO - ✅ [Worker-1] Part 16 valid (0.0% errors): TK_annebriley_2025.08.06_20-55-15_cont16.mp4
2025-08-06 21:41:36 - INFO - ✅ [Worker-1] Part 17 valid (0.0% errors): TK_annebriley_2025.08.06_21-02-18_cont17.mp4
2025-08-06 21:41:43 - INFO - ✅ [Worker-1] Part 18 valid (0.0% errors): TK_annebriley_2025.08.06_21-06-14_cont18.mp4
2025-08-06 21:41:58 - INFO - ✅ [Worker-1] Part 19 valid (0.0% errors): TK_annebriley_2025.08.06_21-07-10_cont19.mp4
2025-08-06 21:42:05 - INFO - ✅ [Worker-1] Part 20 valid (0.0% errors): TK_annebriley_2025.08.06_21-09-42_cont20.mp4
2025-08-06 21:42:21 - INFO - ✅ [Worker-1] Part 21 valid (0.0% errors): TK_annebriley_2025.08.06_21-11-02_cont21.mp4
2025-08-06 21:42:44 - INFO - ✅ [Worker-1] Part 22 valid (0.0% errors): TK_annebriley_2025.08.06_21-13-37_cont22.mp4
2025-08-06 21:42:44 - INFO - 📏 [Worker-1] Part 23 too large (123.2MB), skipping validation: TK_annebriley_2025.08.06_21-18-04_cont23.mp4
2025-08-06 21:42:50 - INFO - ✅ [Worker-1] Part 24 valid (0.0% errors): TK_annebriley_2025.08.06_21-27-47_cont24.mp4
2025-08-06 21:43:23 - INFO - ✅ [Worker-1] Part 25 valid (0.0% errors): TK_annebriley_2025.08.06_21-28-48_cont25.mp4
2025-08-06 21:43:23 - INFO - 🧹 [Worker-1] Filtered 2 corrupted parts (11.6MB) for annebriley
2025-08-06 21:43:23 - INFO - 🔗 [Worker-1] Concatenating 23 valid parts for annebriley
2025-08-06 21:43:33 - INFO - ✅ [Worker-1] Concatenation successful: TK_annebriley_2025.08.06_19-39-50_COMPLETE.mp4 (1908.8MB)
2025-08-06 21:43:33 - INFO - 📤 [Worker-1] Processing for Telegram upload: annebriley
2025-08-06 21:43:33 - INFO - Generating video collage for: TK_annebriley_2025.08.06_19-39-50_COMPLETE.mp4
2025-08-06 21:43:36 - INFO - Successfully extracted 16 screenshots
2025-08-06 21:43:36 - INFO - Video collage generated successfully: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50_COMPLETE_collage.jpg
2025-08-06 21:43:36 - INFO - 📸 [Worker-1] Video collage generated: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50_COMPLETE_collage.jpg
2025-08-06 21:43:36 - INFO - 🖼️ [Worker-1] Video thumbnail generated: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50_COMPLETE_thumb.jpg
2025-08-06 21:43:36 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 21:43:36 - INFO - Added upload task for annebriley (fragment 1) to queue (size: 1908.84MB)
2025-08-06 21:43:36 - INFO - ✅ [Worker-1] Upload task added for annebriley
2025-08-06 21:43:36 - INFO - ✅ [Worker-1] Job annebriley_1754534292 completed successfully for annebriley
2025-08-06 21:58:16 - INFO - Video and collage sent successfully for annebriley
2025-08-06 21:58:16 - INFO - 📤 Upload result for annebriley: [10076, 10077] (type: <class 'list'>)
2025-08-06 21:58:16 - INFO - Successfully uploaded video for annebriley
2025-08-06 21:58:16 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 21:58:16 - INFO - 🔄 About to call shared recording forwarding for annebriley
2025-08-06 21:58:16 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 21:58:16 - WARNING - ⚠️ RecordingService not found for annebriley
2025-08-06 21:58:16 - INFO - Upload process completed for annebriley - cleaning up files
2025-08-06 21:58:16 - INFO - Deleted main file: D:/recordings/organized\annebriley-2025-08-06_19-39-48\TK_annebriley_2025.08.06_19-39-50_COMPLETE.mp4
2025-08-06 21:58:16 - INFO - 🗑️ Cleaned up empty recording folder after upload: D:/recordings/organized\annebriley-2025-08-06_19-39-48
2025-08-06 21:58:16 - INFO - 🗑️ Session state file deleted after successful upload: annebriley
2025-08-06 22:09:32 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 22:09:32 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 22:09:32 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 22:09:32 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 22:09:32 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 22:09:32 - INFO - ✅ No pending uploads found for recovery
2025-08-06 22:39:31 - INFO - ⏰ Starting scheduled Redis orphan cleanup...
2025-08-06 22:39:31 - INFO - 🧹 Starting Redis orphaned records cleanup with pipelines...
2025-08-06 22:39:31 - INFO - 🔍 Found 0 pending records, 0 sessions, 0 primary deliveries
2025-08-06 22:39:31 - INFO - 🧠 Found 0 active recordings in memory
2025-08-06 22:39:31 - INFO - ✅ No orphaned records found to clean
2025-08-06 22:39:31 - INFO - 🧹 Redis cleanup completed: cleaned=0, preserved=0, errors=0
2025-08-06 22:39:31 - INFO - ✅ Scheduled cleanup completed: {'cleaned': 0, 'preserved': 0, 'errors': 0}
2025-08-06 22:39:33 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 22:39:33 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 22:39:33 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 22:39:33 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 22:39:33 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 22:39:33 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:09:33 - INFO - 🔍 Starting periodic upload recovery scan...
2025-08-06 23:09:33 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:09:33 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:09:33 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:09:33 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:09:33 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:11:52 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:11:52 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:11:52 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754527167
2025-08-06 23:11:52 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:11:52 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:11:52 - INFO - Upload recovery worker stopped
2025-08-06 23:11:52 - INFO - Upload Manager Statistics:
2025-08-06 23:11:52 - INFO - Total uploads attempted: 2
2025-08-06 23:11:52 - INFO - Successful uploads: 2
2025-08-06 23:11:52 - INFO - Failed uploads: 0
2025-08-06 23:11:52 - INFO - Retried uploads: 0
2025-08-06 23:11:52 - INFO - Fatal errors: 0
2025-08-06 23:11:52 - INFO - ✅ Upload manager stopped
2025-08-06 23:11:52 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754527167
2025-08-06 23:11:52 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:11:52 - INFO - Upload Manager Statistics:
2025-08-06 23:11:52 - INFO - Total uploads attempted: 2
2025-08-06 23:11:52 - INFO - Successful uploads: 2
2025-08-06 23:11:52 - INFO - Failed uploads: 0
2025-08-06 23:11:52 - INFO - Retried uploads: 0
2025-08-06 23:11:52 - INFO - Fatal errors: 0
2025-08-06 23:11:52 - INFO - ✅ Upload manager stopped
2025-08-06 23:11:56 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:11:58 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:12:02 - INFO - Database connection initialized successfully
2025-08-06 23:12:05 - INFO - Checking and Installing dependencies...

2025-08-06 23:12:05 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754539925
2025-08-06 23:12:07 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:12:07 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:12:07 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:12:07 - INFO - User cache initialized with 3600s duration
2025-08-06 23:12:07 - INFO - User cache cleanup thread started
2025-08-06 23:12:08 - INFO -  ✅ Redis connection established
2025-08-06 23:12:08 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:12:08 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:12:08 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:12:08 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:12:08 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:12:08 - INFO - 👷 Worker-1 started
2025-08-06 23:12:08 - INFO - 👷 Worker-2 started
2025-08-06 23:12:08 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:12:08 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:12:08 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:12:08 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:12:08 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:12:08 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:12:08 - INFO - Upload recovery worker started
2025-08-06 23:12:08 - INFO - ✅ Worker async event loop started
2025-08-06 23:12:08 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:12:08 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:12:08 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:12:08 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:12:08 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:12:08 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:12:08 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754539925 registered from DESKTOP-U62C3NA
2025-08-06 23:12:08 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754539925 initialized successfully
2025-08-06 23:12:08 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:12:08 - INFO -    IP: 192.168.1.11
2025-08-06 23:12:08 - INFO -    Max concurrent jobs: 5
2025-08-06 23:12:08 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754539925
2025-08-06 23:12:08 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754539925 started processing jobs
2025-08-06 23:12:10 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:12:10 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:12:10 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:12:40 - INFO - 📥 Job e2acd72b-f5fa-43e6-a639-8a227fe73481 assigned to worker worker_DESKTOP-U62C3NA_1754539925
2025-08-06 23:12:40 - INFO - 🎥 Processing job e2acd72b-f5fa-43e6-a639-8a227fe73481 for luchipatro
2025-08-06 23:12:40 - INFO - 📝 Job e2acd72b-f5fa-43e6-a639-8a227fe73481 status updated to in_progress
2025-08-06 23:12:40 - INFO - 🎥 Worker starting recording for luchipatro (user: 1268285169, chat: 1268285169)
2025-08-06 23:12:40 - INFO - Cache DISABLED: Fetching fresh room_id for luchipatro from API
2025-08-06 23:12:40 - INFO - PRIMARY: Using TikTok API for room_id extraction of luchipatro
2025-08-06 23:12:41 - INFO - ✅ TikTok API successful for luchipatro: 7535690004442434309
2025-08-06 23:12:42 - INFO - Logged room_id for luchipatro: 7535690004442434309 (cache disabled, DB log only)
2025-08-06 23:12:42 - INFO - PRIMARY TikTok API successful for room ID of luchipatro: 7535690004442434309
2025-08-06 23:12:42 - INFO - ✅ User luchipatro validated as live with room_id: 7535690004442434309
2025-08-06 23:12:43 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 23:12:43 - INFO - 🎯 Created master recording: luchipatro_1754539960_1268285169
2025-08-06 23:12:45 - INFO - ✅ Redis state updated for recording: luchipatro_1754539960_1268285169
2025-08-06 23:12:45 - INFO - 🎬 Starting TikTokRecorder for luchipatro
2025-08-06 23:12:45 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:12:45 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:12:45 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_luchipatro_1754539965.json
2025-08-06 23:12:45 - INFO - 🔍 RealtimeVideoSampler initialized for luchipatro - interval: 30s, threshold: 30.0%
2025-08-06 23:12:46 - INFO - Using provided room_id: 7535690004442434309 for user: luchipatro
2025-08-06 23:12:46 - INFO - USERNAME: luchipatro
2025-08-06 23:12:46 - INFO - ROOM_ID:  7535690004442434309
2025-08-06 23:12:46 - INFO - 🌐 Fetching fresh stream URL for luchipatro
2025-08-06 23:12:47 - INFO - ✅ Stream URL cached for luchipatro (valid for 20.0 minutes)
2025-08-06 23:12:47 - INFO - Starting stream download from: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:12:47 - INFO - 📁 Created session folder: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\
2025-08-06 23:12:47 - INFO - Started recording...
2025-08-06 23:12:47 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:12:47 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231247.log
2025-08-06 23:12:47 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv
2025-08-06 23:12:47 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:12:47 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:12:47 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:12:47 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv
2025-08-06 23:12:47 - INFO - 🔍 Started memory guardian for luchipatro (PID: 35592, threshold: 6.0%)
2025-08-06 23:12:47 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:12:47 - INFO - 📝 Job e2acd72b-f5fa-43e6-a639-8a227fe73481 status updated to completed
2025-08-06 23:12:47 - INFO - ✅ Recording job e2acd72b-f5fa-43e6-a639-8a227fe73481 completed for luchipatro
2025-08-06 23:13:17 - INFO - FFmpeg recording in progress for luchipatro: 0.5 minutes
2025-08-06 23:13:47 - INFO - FFmpeg recording in progress for luchipatro: 1.0 minutes
2025-08-06 23:14:17 - INFO - FFmpeg recording in progress for luchipatro: 1.5 minutes
2025-08-06 23:14:47 - INFO - FFmpeg recording in progress for luchipatro: 2.0 minutes
2025-08-06 23:15:17 - INFO - FFmpeg recording in progress for luchipatro: 2.5 minutes
2025-08-06 23:15:48 - INFO - FFmpeg recording in progress for luchipatro: 3.0 minutes
2025-08-06 23:15:56 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for luchipatro: time=00:03:07.53 (#1)
2025-08-06 23:15:56 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for luchipatro - triggering immediate restart
2025-08-06 23:15:56 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for luchipatro
2025-08-06 23:15:56 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:15:57 - WARNING - 🚨 CORRUPTION DETECTED for luchipatro, stopping current recording to restart
2025-08-06 23:15:57 - INFO - Starting graceful FFmpeg termination for luchipatro - Reason: corruption detected
2025-08-06 23:15:57 - INFO - Sending 'q' command to FFmpeg for luchipatro
2025-08-06 23:15:57 - INFO - Waiting 30s for FFmpeg to complete container headers for luchipatro
2025-08-06 23:15:58 - INFO - FFmpeg terminated cleanly via stdin for luchipatro
2025-08-06 23:15:58 - INFO - FFmpeg recording completed successfully for luchipatro
2025-08-06 23:15:58 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231247.log (47.3KB)
2025-08-06 23:15:58 - INFO - ✅ No corruption patterns detected for luchipatro
2025-08-06 23:15:58 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv (74.3MB)
2025-08-06 23:15:58 - INFO - Added recording part 1 for luchipatro: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv
2025-08-06 23:15:58 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for luchipatro
2025-08-06 23:15:58 - INFO - 🔍 Starting robust live verification for luchipatro (2min validation period)
2025-08-06 23:15:58 - INFO - 🔍 Checking if luchipatro still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:15:59 - INFO - ✅ User luchipatro confirmed still live after 0s (attempt 1)
2025-08-06 23:15:59 - INFO - ✅ User luchipatro still live, attempting restart with retry logic...
2025-08-06 23:15:59 - INFO - 🔄 Restart attempt 1/3 for luchipatro
2025-08-06 23:15:59 - INFO - 🔄 Using cached stream URL for corruption restart: luchipatro
2025-08-06 23:15:59 - INFO - ⏳ Waiting 1s for stream stabilization for luchipatro
2025-08-06 23:16:00 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:16:00 - INFO - Starting continuous recording part 2 for luchipatro
2025-08-06 23:16:05 - INFO - 🔄 Reusing cached stream URL for luchipatro (age: 198.7s)
2025-08-06 23:16:05 - INFO - Continuous recording part 2: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2_flv.mp4
2025-08-06 23:16:05 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231605.log
2025-08-06 23:16:05 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv
2025-08-06 23:16:05 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:16:05 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:16:05 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:16:05 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv
2025-08-06 23:16:05 - INFO - 🔍 Started memory guardian for luchipatro (PID: 14880, threshold: 6.0%)
2025-08-06 23:16:05 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:16:08 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for luchipatro: time=00:00:02.09 (#1)
2025-08-06 23:16:08 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for luchipatro - triggering immediate restart
2025-08-06 23:16:08 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for luchipatro
2025-08-06 23:16:08 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:16:09 - WARNING - 🚨 CORRUPTION DETECTED for luchipatro, stopping current recording to restart
2025-08-06 23:16:09 - INFO - Starting graceful FFmpeg termination for luchipatro - Reason: corruption detected
2025-08-06 23:16:09 - INFO - Sending 'q' command to FFmpeg for luchipatro
2025-08-06 23:16:09 - INFO - Waiting 30s for FFmpeg to complete container headers for luchipatro
2025-08-06 23:16:10 - INFO - FFmpeg terminated cleanly via stdin for luchipatro
2025-08-06 23:16:10 - INFO - FFmpeg recording completed successfully for luchipatro
2025-08-06 23:16:10 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231605.log (6.1KB)
2025-08-06 23:16:10 - INFO - ✅ No corruption patterns detected for luchipatro
2025-08-06 23:16:10 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv (1.0MB)
2025-08-06 23:16:10 - INFO - Added recording part 2 for luchipatro: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv
2025-08-06 23:16:10 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for luchipatro
2025-08-06 23:16:10 - INFO - 🔍 Starting robust live verification for luchipatro (2min validation period)
2025-08-06 23:16:10 - INFO - 🔍 Checking if luchipatro still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:16:10 - INFO - ✅ User luchipatro confirmed still live after 0s (attempt 1)
2025-08-06 23:16:10 - INFO - ✅ User luchipatro still live, attempting restart with retry logic...
2025-08-06 23:16:10 - INFO - 🔄 Restart attempt 1/3 for luchipatro
2025-08-06 23:16:10 - INFO - 🔄 Using cached stream URL for corruption restart: luchipatro
2025-08-06 23:16:10 - INFO - ⏳ Waiting 1s for stream stabilization for luchipatro
2025-08-06 23:16:11 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 23:16:11 - INFO - Starting continuous recording part 3 for luchipatro
2025-08-06 23:16:16 - INFO - 🔄 Reusing cached stream URL for luchipatro (age: 210.1s)
2025-08-06 23:16:16 - INFO - Continuous recording part 3: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3_flv.mp4
2025-08-06 23:16:16 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231616.log
2025-08-06 23:16:16 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv
2025-08-06 23:16:16 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:16:16 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:16:16 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:16:16 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv
2025-08-06 23:16:16 - INFO - 🔍 Started memory guardian for luchipatro (PID: 20000, threshold: 6.0%)
2025-08-06 23:16:16 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:16:18 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:16:18 - INFO - FFmpeg recording completed successfully for luchipatro
2025-08-06 23:16:18 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231616.log (6.3KB)
2025-08-06 23:16:18 - INFO - ✅ No corruption patterns detected for luchipatro
2025-08-06 23:16:18 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv (0.1MB)
2025-08-06 23:16:18 - INFO - Added recording part 3 for luchipatro: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv
2025-08-06 23:16:18 - INFO - FFmpeg terminated normally for luchipatro, checking if stream continues...
2025-08-06 23:16:18 - INFO - 🔍 Starting stream continuation validation for luchipatro for 2 minutes (4 checks every 30s)...
2025-08-06 23:16:18 - INFO - ✅ Stream alive confirmed for luchipatro on attempt 1/3
2025-08-06 23:16:18 - INFO - ✅ Stream confirmed active for luchipatro (check 1/4) - validation successful!
2025-08-06 23:16:18 - INFO - Stream continues for luchipatro, starting automatic continuation...
2025-08-06 23:16:18 - INFO - Starting continuous recording part 4 for luchipatro
2025-08-06 23:16:23 - INFO - 🔄 Reusing cached stream URL for luchipatro (age: 217.3s)
2025-08-06 23:16:23 - INFO - Continuous recording part 4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4_flv.mp4
2025-08-06 23:16:23 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231623.log
2025-08-06 23:16:23 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv
2025-08-06 23:16:23 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:16:23 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:16:23 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:16:23 - INFO - 🔍 Started memory guardian for luchipatro (PID: 35056, threshold: 6.0%)
2025-08-06 23:16:23 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv
2025-08-06 23:16:23 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:16:26 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for luchipatro: time=00:00:02.67 (#1)
2025-08-06 23:16:26 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for luchipatro - triggering immediate restart
2025-08-06 23:16:26 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for luchipatro
2025-08-06 23:16:26 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:16:27 - WARNING - 🚨 CORRUPTION DETECTED for luchipatro, stopping current recording to restart
2025-08-06 23:16:27 - INFO - Starting graceful FFmpeg termination for luchipatro - Reason: corruption detected
2025-08-06 23:16:27 - INFO - Sending 'q' command to FFmpeg for luchipatro
2025-08-06 23:16:27 - INFO - Waiting 30s for FFmpeg to complete container headers for luchipatro
2025-08-06 23:16:28 - INFO - FFmpeg terminated cleanly via stdin for luchipatro
2025-08-06 23:16:28 - INFO - FFmpeg recording completed successfully for luchipatro
2025-08-06 23:16:28 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231623.log (6.4KB)
2025-08-06 23:16:28 - INFO - ✅ No corruption patterns detected for luchipatro
2025-08-06 23:16:28 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv (0.2MB)
2025-08-06 23:16:28 - INFO - Added recording part 4 for luchipatro: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv
2025-08-06 23:16:28 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for luchipatro
2025-08-06 23:16:28 - INFO - 🔍 Starting robust live verification for luchipatro (2min validation period)
2025-08-06 23:16:28 - INFO - 🔍 Checking if luchipatro still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:16:28 - INFO - ✅ User luchipatro confirmed still live after 0s (attempt 1)
2025-08-06 23:16:28 - INFO - ✅ User luchipatro still live, attempting restart with retry logic...
2025-08-06 23:16:28 - INFO - 🔄 Restart attempt 1/3 for luchipatro
2025-08-06 23:16:28 - INFO - 🔄 Using cached stream URL for corruption restart: luchipatro
2025-08-06 23:16:28 - INFO - ⏳ Waiting 1s for stream stabilization for luchipatro
2025-08-06 23:16:29 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 23:16:29 - INFO - Starting continuous recording part 5 for luchipatro
2025-08-06 23:16:34 - INFO - 🔄 Reusing cached stream URL for luchipatro (age: 228.0s)
2025-08-06 23:16:34 - INFO - Continuous recording part 5: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5_flv.mp4
2025-08-06 23:16:34 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231634.log
2025-08-06 23:16:34 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv
2025-08-06 23:16:34 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:16:34 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:16:34 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:16:34 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv
2025-08-06 23:16:34 - INFO - 🔍 Started memory guardian for luchipatro (PID: 8148, threshold: 6.0%)
2025-08-06 23:16:34 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:16:35 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:16:36 - INFO - FFmpeg recording completed successfully for luchipatro
2025-08-06 23:16:36 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231634.log (6.0KB)
2025-08-06 23:16:36 - INFO - ✅ No corruption patterns detected for luchipatro
2025-08-06 23:16:36 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv (0.0MB)
2025-08-06 23:16:36 - INFO - Added recording part 5 for luchipatro: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv
2025-08-06 23:16:36 - INFO - FFmpeg terminated normally for luchipatro, checking if stream continues...
2025-08-06 23:16:36 - INFO - 🔍 Starting stream continuation validation for luchipatro for 2 minutes (4 checks every 30s)...
2025-08-06 23:16:36 - INFO - ✅ Stream alive confirmed for luchipatro on attempt 1/3
2025-08-06 23:16:36 - INFO - ✅ Stream confirmed active for luchipatro (check 1/4) - validation successful!
2025-08-06 23:16:36 - INFO - Stream continues for luchipatro, starting automatic continuation...
2025-08-06 23:16:36 - INFO - Starting continuous recording part 6 for luchipatro
2025-08-06 23:16:41 - INFO - 🔄 Reusing cached stream URL for luchipatro (age: 235.2s)
2025-08-06 23:16:41 - INFO - Continuous recording part 6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6_flv.mp4
2025-08-06 23:16:41 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231641.log
2025-08-06 23:16:41 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv
2025-08-06 23:16:41 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:16:41 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:16:41 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:16:41 - INFO - 🔍 Started memory guardian for luchipatro (PID: 1436, threshold: 6.0%)
2025-08-06 23:16:41 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv
2025-08-06 23:16:41 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:16:44 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for luchipatro: time=00:00:00.83 (#1)
2025-08-06 23:16:44 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for luchipatro - triggering immediate restart
2025-08-06 23:16:44 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for luchipatro
2025-08-06 23:16:44 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:16:44 - WARNING - 🚨 CORRUPTION DETECTED for luchipatro, stopping current recording to restart
2025-08-06 23:16:44 - INFO - Starting graceful FFmpeg termination for luchipatro - Reason: corruption detected
2025-08-06 23:16:44 - INFO - Sending 'q' command to FFmpeg for luchipatro
2025-08-06 23:16:44 - INFO - Waiting 30s for FFmpeg to complete container headers for luchipatro
2025-08-06 23:16:45 - INFO - FFmpeg terminated cleanly via stdin for luchipatro
2025-08-06 23:16:45 - INFO - FFmpeg recording completed successfully for luchipatro
2025-08-06 23:16:45 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231641.log (6.1KB)
2025-08-06 23:16:45 - INFO - ✅ No corruption patterns detected for luchipatro
2025-08-06 23:16:45 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv (0.0MB)
2025-08-06 23:16:45 - INFO - Added recording part 6 for luchipatro: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv
2025-08-06 23:16:45 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for luchipatro
2025-08-06 23:16:45 - INFO - 🔍 Starting robust live verification for luchipatro (2min validation period)
2025-08-06 23:16:45 - INFO - 🔍 Checking if luchipatro still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:16:45 - INFO - ✅ User luchipatro confirmed still live after 0s (attempt 1)
2025-08-06 23:16:45 - INFO - ✅ User luchipatro still live, attempting restart with retry logic...
2025-08-06 23:16:45 - INFO - 🔄 Restart attempt 1/3 for luchipatro
2025-08-06 23:16:45 - INFO - 🔄 Using cached stream URL for corruption restart: luchipatro
2025-08-06 23:16:45 - INFO - ⏳ Waiting 1s for stream stabilization for luchipatro
2025-08-06 23:16:46 - INFO - 🔄 Starting continuous recording for corruption restart - Part 6
2025-08-06 23:16:46 - INFO - Starting continuous recording part 7 for luchipatro
2025-08-06 23:16:51 - INFO - 🔄 Reusing cached stream URL for luchipatro (age: 245.3s)
2025-08-06 23:16:51 - INFO - Continuous recording part 7: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-51_cont7_flv.mp4
2025-08-06 23:16:51 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231651.log
2025-08-06 23:16:51 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-51_cont7.mkv
2025-08-06 23:16:51 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048915249889321_or4.flv?expire=1755749566&sign=a36953e710859641e7d348c59d2ff8f9
2025-08-06 23:16:51 - INFO - Executing FFmpeg command for luchipatro
2025-08-06 23:16:51 - INFO - 🔍 Starting FFmpeg stderr monitor for luchipatro
2025-08-06 23:16:51 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-51_cont7.mkv
2025-08-06 23:16:51 - INFO - 🔍 Started memory guardian for luchipatro (PID: 34684, threshold: 6.0%)
2025-08-06 23:16:51 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:17:02 - WARNING - 🚨 CORRUPTION PATTERN DETECTED for luchipatro: [https @ 0000019bfcb336c0] HTTP error 404 Not Found
2025-08-06 23:17:02 - WARNING - 🚨 CORRUPTION PATTERN DETECTED for luchipatro: [in#0 @ 0000019bfcb32e00] Error opening input: Server returned 404 Not Found
2025-08-06 23:17:02 - WARNING - 🚨 CORRUPTION PATTERN DETECTED for luchipatro: Error opening input files: Server returned 404 Not Found
2025-08-06 23:17:02 - INFO - 🔍 FFmpeg stderr monitor finished for luchipatro
2025-08-06 23:17:02 - ERROR - FFmpeg recording failed with return code 3419392776 for luchipatro
2025-08-06 23:17:02 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_luchipatro_20250806_231651.log (3.6KB)
2025-08-06 23:17:02 - WARNING - 🚨 CORRUPTION SUMMARY for luchipatro: 3 corruption patterns detected
2025-08-06 23:17:02 - WARNING - 📋 Please review the stderr log file for detailed analysis
2025-08-06 23:17:02 - ERROR - FFmpeg recording failed - no valid .mkv output file for luchipatro
2025-08-06 23:17:02 - INFO - Processing 6 existing recording parts for luchipatro (current recording success: False)
2025-08-06 23:17:02 - INFO - Converting part 1/6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mp4
2025-08-06 23:17:02 - INFO - Converting MKV to MP4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mp4 (source: 74.3MB)
2025-08-06 23:17:02 - INFO - MKV file size: 0.07GB, conversion timeout: 604s (600s base + 4s for size)
2025-08-06 23:17:02 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mp4 (74.4MB)
2025-08-06 23:17:02 - WARNING - Could not cleanup MKV file D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\luchipatro-2025-08-06_23-12-45\\TK_luchipatro_2025.08.06_23-12-47.mkv'
2025-08-06 23:17:02 - INFO - Converting part 2/6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mp4
2025-08-06 23:17:02 - INFO - Converting MKV to MP4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mp4 (source: 1.0MB)
2025-08-06 23:17:02 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 23:17:02 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mp4 (1.0MB)
2025-08-06 23:17:02 - WARNING - Could not cleanup MKV file D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\luchipatro-2025-08-06_23-12-45\\TK_luchipatro_2025.08.06_23-16-05_cont2.mkv'
2025-08-06 23:17:02 - INFO - Converting part 3/6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mp4
2025-08-06 23:17:02 - INFO - Converting MKV to MP4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mp4 (source: 0.1MB)
2025-08-06 23:17:02 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 23:17:02 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mp4 (0.1MB)
2025-08-06 23:17:02 - WARNING - Could not cleanup MKV file D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\luchipatro-2025-08-06_23-12-45\\TK_luchipatro_2025.08.06_23-16-16_cont3.mkv'
2025-08-06 23:17:02 - INFO - Converting part 4/6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mp4
2025-08-06 23:17:02 - INFO - Converting MKV to MP4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mp4 (source: 0.2MB)
2025-08-06 23:17:02 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 23:17:02 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mp4 (0.2MB)
2025-08-06 23:17:02 - WARNING - Could not cleanup MKV file D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\luchipatro-2025-08-06_23-12-45\\TK_luchipatro_2025.08.06_23-16-23_cont4.mkv'
2025-08-06 23:17:02 - INFO - Converting part 5/6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mp4
2025-08-06 23:17:02 - INFO - Converting MKV to MP4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mp4 (source: 0.0MB)
2025-08-06 23:17:02 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 23:17:03 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mp4 (0.0MB)
2025-08-06 23:17:03 - WARNING - Could not cleanup MKV file D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\luchipatro-2025-08-06_23-12-45\\TK_luchipatro_2025.08.06_23-16-34_cont5.mkv'
2025-08-06 23:17:03 - INFO - Converting part 6/6: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mp4
2025-08-06 23:17:03 - INFO - Converting MKV to MP4: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv -> D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mp4 (source: 0.0MB)
2025-08-06 23:17:03 - INFO - MKV file size: 0.00GB, conversion timeout: 600s (600s base + 0s for size)
2025-08-06 23:17:03 - INFO - MKV->MP4 conversion successful: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mp4 (0.0MB)
2025-08-06 23:17:03 - WARNING - Could not cleanup MKV file D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv: [WinError 2] The system cannot find the file specified: 'D:/recordings/organized\\luchipatro-2025-08-06_23-12-45\\TK_luchipatro_2025.08.06_23-16-41_cont6.mkv'
2025-08-06 23:17:03 - INFO - Converted all parts to MP4. Final parts count: 6
2025-08-06 23:17:03 - INFO - 📥 Added luchipatro to post-processing queue (6 parts) - Job ID: luchipatro_1754540223
2025-08-06 23:17:03 - INFO - 📥 Recording submitted to post-processing queue: luchipatro_1754540223
2025-08-06 23:17:03 - INFO - 📄 Session state marked as completed (preserved for upload recovery): luchipatro_1754539965
2025-08-06 23:17:03 - INFO - FFmpeg recording finished definitively for luchipatro, calling cleanup
2025-08-06 23:17:03 - INFO - 🧹 Recording cleanup callback for luchipatro
2025-08-06 23:17:03 - INFO - 👷 Worker-1 processing job luchipatro_1754540223 for luchipatro
2025-08-06 23:17:03 - INFO - 🔍 [Worker-1] Starting validation for luchipatro (6 parts)
2025-08-06 23:17:04 - INFO - ✅ Marked recording as completed: luchipatro_1754539960_1268285169
2025-08-06 23:17:04 - INFO - [Worker-1] Deleted corrupted segment: TK_luchipatro_2025.08.06_23-16-34_cont5.mp4 - No video streams found
2025-08-06 23:17:04 - INFO - [Worker-1] Deleted corrupted segment: TK_luchipatro_2025.08.06_23-16-41_cont6.mp4 - No video streams found
2025-08-06 23:17:04 - INFO - [Worker-1] Filtered 2 corrupted segments
2025-08-06 23:17:04 - INFO - 🗑️ [Worker-1] Pre-filtered 2 corrupted segments
2025-08-06 23:17:05 - INFO - 🧹 Redis cleanup completed for luchipatro
2025-08-06 23:17:05 - INFO - ✅ Restart successful on attempt 1 for luchipatro
2025-08-06 23:17:05 - INFO - ✅ Restart successful on attempt 1 for luchipatro
2025-08-06 23:17:05 - INFO - ✅ Restart successful on attempt 1 for luchipatro
2025-08-06 23:17:05 - INFO - ✅ Restart successful on attempt 1 for luchipatro
2025-08-06 23:17:05 - INFO - ✅ Recording completed successfully for luchipatro
2025-08-06 23:17:35 - INFO - ✅ [Worker-1] Part 1 valid (0.0% errors): TK_luchipatro_2025.08.06_23-12-47.mp4
2025-08-06 23:17:36 - INFO - ✅ [Worker-1] Part 2 valid (0.0% errors): TK_luchipatro_2025.08.06_23-16-05_cont2.mp4
2025-08-06 23:17:36 - INFO - ✅ [Worker-1] Part 3 valid (0.0% errors): TK_luchipatro_2025.08.06_23-16-16_cont3.mp4
2025-08-06 23:17:37 - INFO - ✅ [Worker-1] Part 4 valid (0.0% errors): TK_luchipatro_2025.08.06_23-16-23_cont4.mp4
2025-08-06 23:17:37 - INFO - 🔗 [Worker-1] Concatenating 4 valid parts for luchipatro
2025-08-06 23:17:37 - INFO - ✅ [Worker-1] Concatenation successful: TK_luchipatro_2025.08.06_23-12-47_COMPLETE.mp4 (75.6MB)
2025-08-06 23:17:37 - INFO - 📤 [Worker-1] Processing for Telegram upload: luchipatro
2025-08-06 23:17:37 - INFO - Generating video collage for: TK_luchipatro_2025.08.06_23-12-47_COMPLETE.mp4
2025-08-06 23:17:39 - INFO - Successfully extracted 16 screenshots
2025-08-06 23:17:39 - INFO - Video collage generated successfully: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47_COMPLETE_collage.jpg
2025-08-06 23:17:39 - INFO - 📸 [Worker-1] Video collage generated: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47_COMPLETE_collage.jpg
2025-08-06 23:17:39 - INFO - 🖼️ [Worker-1] Video thumbnail generated: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47_COMPLETE_thumb.jpg
2025-08-06 23:17:39 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 23:17:39 - INFO - Added upload task for luchipatro (fragment 1) to queue (size: 75.62MB)
2025-08-06 23:17:39 - INFO - ✅ [Worker-1] Upload task added for luchipatro
2025-08-06 23:17:39 - INFO - ✅ [Worker-1] Job luchipatro_1754540223 completed successfully for luchipatro
2025-08-06 23:18:18 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:18:18 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:18:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754539925
2025-08-06 23:18:18 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:18:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:18:18 - INFO - Upload Manager Statistics:
2025-08-06 23:18:18 - INFO - Total uploads attempted: 1
2025-08-06 23:18:18 - INFO - Successful uploads: 0
2025-08-06 23:18:18 - INFO - Failed uploads: 0
2025-08-06 23:18:18 - INFO - Retried uploads: 0
2025-08-06 23:18:18 - INFO - Fatal errors: 0
2025-08-06 23:18:18 - INFO - ✅ Upload manager stopped
2025-08-06 23:18:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754539925
2025-08-06 23:18:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:18:18 - INFO - Upload Manager Statistics:
2025-08-06 23:18:18 - INFO - Total uploads attempted: 1
2025-08-06 23:18:18 - INFO - Successful uploads: 0
2025-08-06 23:18:18 - INFO - Failed uploads: 0
2025-08-06 23:18:18 - INFO - Retried uploads: 0
2025-08-06 23:18:18 - INFO - Fatal errors: 0
2025-08-06 23:18:18 - INFO - ✅ Upload manager stopped
2025-08-06 23:18:47 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:18:49 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:18:53 - INFO - Database connection initialized successfully
2025-08-06 23:18:56 - INFO - Checking and Installing dependencies...

2025-08-06 23:18:56 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754540336
2025-08-06 23:18:57 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:18:57 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:18:57 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:18:57 - INFO - User cache initialized with 3600s duration
2025-08-06 23:18:57 - INFO - User cache cleanup thread started
2025-08-06 23:18:58 - INFO -  ✅ Redis connection established
2025-08-06 23:18:58 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:18:58 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:18:58 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:18:58 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:18:58 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:18:58 - INFO - 👷 Worker-1 started
2025-08-06 23:18:58 - INFO - 👷 Worker-2 started
2025-08-06 23:18:58 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:18:58 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:18:58 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:18:58 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:18:58 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:18:58 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:18:58 - INFO - Upload recovery worker started
2025-08-06 23:18:58 - INFO - ✅ Worker async event loop started
2025-08-06 23:18:58 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:18:58 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:18:58 - INFO - 🔍 Found 6 MP4 files total
2025-08-06 23:18:58 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:18:58 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:18:58 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:18:59 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754540336 registered from DESKTOP-U62C3NA
2025-08-06 23:18:59 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754540336 initialized successfully
2025-08-06 23:18:59 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:18:59 - INFO -    IP: 192.168.1.11
2025-08-06 23:18:59 - INFO -    Max concurrent jobs: 5
2025-08-06 23:18:59 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754540336
2025-08-06 23:18:59 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754540336 started processing jobs
2025-08-06 23:19:01 - INFO - 📥 Job 91b7ac68-9611-4136-a042-bad55de72228 assigned to worker worker_DESKTOP-U62C3NA_1754540336
2025-08-06 23:19:01 - INFO - 🎥 Processing job 91b7ac68-9611-4136-a042-bad55de72228 for kamm.0108
2025-08-06 23:19:01 - INFO - 📝 Job 91b7ac68-9611-4136-a042-bad55de72228 status updated to in_progress
2025-08-06 23:19:01 - INFO - 🎥 Worker starting recording for kamm.0108 (user: 1268285169, chat: 1268285169)
2025-08-06 23:19:01 - INFO - Cache DISABLED: Fetching fresh room_id for kamm.0108 from API
2025-08-06 23:19:01 - INFO - PRIMARY: Using TikTok API for room_id extraction of kamm.0108
2025-08-06 23:19:02 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:19:02 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:19:02 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:19:02 - INFO - ✅ TikTok API successful for kamm.0108: 7535690791331646213
2025-08-06 23:19:03 - INFO - Logged room_id for kamm.0108: 7535690791331646213 (cache disabled, DB log only)
2025-08-06 23:19:03 - INFO - PRIMARY TikTok API successful for room ID of kamm.0108: 7535690791331646213
2025-08-06 23:19:03 - INFO - ✅ User kamm.0108 validated as live with room_id: 7535690791331646213
2025-08-06 23:19:04 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 23:19:04 - INFO - 🎯 Created master recording: kamm.0108_1754540341_1268285169
2025-08-06 23:19:06 - INFO - ✅ Redis state updated for recording: kamm.0108_1754540341_1268285169
2025-08-06 23:19:06 - INFO - 🎬 Starting TikTokRecorder for kamm.0108
2025-08-06 23:19:06 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:19:06 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:19:06 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_kamm.0108_1754540346.json
2025-08-06 23:19:06 - INFO - 🔍 RealtimeVideoSampler initialized for kamm.0108 - interval: 30s, threshold: 30.0%
2025-08-06 23:19:06 - INFO - Using provided room_id: 7535690791331646213 for user: kamm.0108
2025-08-06 23:19:06 - INFO - USERNAME: kamm.0108
2025-08-06 23:19:06 - INFO - ROOM_ID:  7535690791331646213
2025-08-06 23:19:06 - INFO - 🌐 Fetching fresh stream URL for kamm.0108
2025-08-06 23:19:07 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 23:19:07 - INFO - Trying TikTokLive fallback for user 'kamm.0108' (room 7535690791331646213) due to: Live is private, login required. 
2025-08-06 23:19:07 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10001+none
2025-08-06 23:19:08 - INFO - 📝 Job 91b7ac68-9611-4136-a042-bad55de72228 status updated to completed
2025-08-06 23:19:08 - INFO - ✅ Recording job 91b7ac68-9611-4136-a042-bad55de72228 completed for kamm.0108
2025-08-06 23:19:13 - INFO - TikTokLive fallback: Room info obtenido para kamm.0108 (attempt 1)
2025-08-06 23:19:13 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 23:19:13 - INFO - TikTokLive fallback: Usando FLV URL con calidad HD1
2025-08-06 23:19:13 - INFO - TikTokLive fallback successful for kamm.0108
2025-08-06 23:19:13 - INFO - ✅ Stream URL cached for kamm.0108 (valid for 20.0 minutes)
2025-08-06 23:19:13 - INFO - Starting stream download from: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755749951&sign=5c071582003cd163c4ae5b4e0ec209bf
2025-08-06 23:19:13 - INFO - 📁 Created session folder: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\
2025-08-06 23:19:13 - INFO - Started recording...
2025-08-06 23:19:13 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:19:13 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_231913.log
2025-08-06 23:19:13 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-19-13.mkv
2025-08-06 23:19:13 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755749951&sign=5c071582003cd163c4ae5b4e0ec209bf
2025-08-06 23:19:13 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:19:13 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:19:13 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-19-13.mkv
2025-08-06 23:19:13 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 18060, threshold: 6.0%)
2025-08-06 23:19:13 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:19:43 - INFO - FFmpeg recording in progress for kamm.0108: 0.5 minutes
2025-08-06 23:20:00 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:43.98 (#1)
2025-08-06 23:20:00 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:20:00 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:20:00 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:20:00 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:20:00 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:20:00 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:20:00 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:20:02 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:20:02 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:20:02 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_231913.log (15.5KB)
2025-08-06 23:20:02 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:20:02 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-19-13.mkv (5.4MB)
2025-08-06 23:20:02 - INFO - Added recording part 1 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-19-13.mkv
2025-08-06 23:20:02 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:20:02 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:20:02 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:20:02 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:20:02 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:20:02 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:20:02 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:20:02 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:20:03 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:20:03 - INFO - Starting continuous recording part 2 for kamm.0108
2025-08-06 23:20:08 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 62.0s)
2025-08-06 23:20:08 - INFO - Continuous recording part 2: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-20-08_cont2_flv.mp4
2025-08-06 23:20:08 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232008.log
2025-08-06 23:20:08 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-20-08_cont2.mkv
2025-08-06 23:20:08 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755749951&sign=5c071582003cd163c4ae5b4e0ec209bf
2025-08-06 23:20:08 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:20:08 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:20:08 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 27772, threshold: 6.0%)
2025-08-06 23:20:08 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-20-08_cont2.mkv
2025-08-06 23:20:08 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:20:39 - INFO - 📊 SIZE CHECK: Total=9.4MB (Current=4.0MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:20:39 - INFO - FFmpeg recording in progress for kamm.0108: 0.5 minutes
2025-08-06 23:21:09 - INFO - 📊 SIZE CHECK: Total=13.5MB (Current=8.0MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:21:09 - INFO - FFmpeg recording in progress for kamm.0108: 1.0 minutes
2025-08-06 23:21:16 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:01:08.73 (#1)
2025-08-06 23:21:16 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:21:16 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:21:16 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:21:17 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:21:17 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:21:17 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:21:17 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:21:17 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:21:17 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:21:17 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232008.log (20.4KB)
2025-08-06 23:21:17 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:21:17 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-20-08_cont2.mkv (8.9MB)
2025-08-06 23:21:17 - INFO - Added recording part 2 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-20-08_cont2.mkv
2025-08-06 23:21:17 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:21:17 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:21:17 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:21:17 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:21:17 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:21:17 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:21:17 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:21:17 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:21:18 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 23:21:18 - INFO - Starting continuous recording part 3 for kamm.0108
2025-08-06 23:21:23 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 137.0s)
2025-08-06 23:21:23 - INFO - Continuous recording part 3: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-21-23_cont3_flv.mp4
2025-08-06 23:21:23 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232123.log
2025-08-06 23:21:23 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-21-23_cont3.mkv
2025-08-06 23:21:23 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755749951&sign=5c071582003cd163c4ae5b4e0ec209bf
2025-08-06 23:21:23 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:21:23 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:21:23 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 13960, threshold: 6.0%)
2025-08-06 23:21:23 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-19-06\TK_kamm.0108_2025.08.06_23-21-23_cont3.mkv
2025-08-06 23:21:23 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:21:54 - INFO - 📊 SIZE CHECK: Total=17.8MB (Current=3.4MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:21:54 - INFO - FFmpeg recording in progress for kamm.0108: 0.5 minutes
2025-08-06 23:22:07 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:22:07 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:22:07 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:22:07 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754540336
2025-08-06 23:22:07 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:22:07 - INFO - Upload Manager Statistics:
2025-08-06 23:22:07 - INFO - Total uploads attempted: 0
2025-08-06 23:22:07 - INFO - Successful uploads: 0
2025-08-06 23:22:07 - INFO - Failed uploads: 0
2025-08-06 23:22:07 - INFO - Retried uploads: 0
2025-08-06 23:22:07 - INFO - Fatal errors: 0
2025-08-06 23:22:07 - INFO - ✅ Upload manager stopped
2025-08-06 23:22:07 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754540336
2025-08-06 23:22:07 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:22:07 - INFO - Upload Manager Statistics:
2025-08-06 23:22:07 - INFO - Total uploads attempted: 0
2025-08-06 23:22:07 - INFO - Successful uploads: 0
2025-08-06 23:22:07 - INFO - Failed uploads: 0
2025-08-06 23:22:07 - INFO - Retried uploads: 0
2025-08-06 23:22:07 - INFO - Fatal errors: 0
2025-08-06 23:22:07 - INFO - ✅ Upload manager stopped
2025-08-06 23:22:39 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:22:40 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:22:44 - INFO - Database connection initialized successfully
2025-08-06 23:22:47 - INFO - Checking and Installing dependencies...

2025-08-06 23:22:47 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754540567
2025-08-06 23:22:48 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:22:48 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:22:48 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:22:48 - INFO - User cache initialized with 3600s duration
2025-08-06 23:22:48 - INFO - User cache cleanup thread started
2025-08-06 23:22:49 - INFO -  ✅ Redis connection established
2025-08-06 23:22:49 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:22:49 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:22:49 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:22:49 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:22:49 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:22:49 - INFO - 👷 Worker-1 started
2025-08-06 23:22:49 - INFO - 👷 Worker-2 started
2025-08-06 23:22:49 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:22:49 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:22:49 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:22:49 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:22:49 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:22:49 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:22:49 - INFO - Upload recovery worker started
2025-08-06 23:22:49 - INFO - ✅ Worker async event loop started
2025-08-06 23:22:49 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:22:49 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:22:49 - INFO - 🔍 Found 6 MP4 files total
2025-08-06 23:22:50 - INFO - 🔗 Found chat_id 1268285169 for luchipatro in session luchipatro_1754539965
2025-08-06 23:22:50 - INFO - 📥 Found 1 files pending upload recovery
2025-08-06 23:22:50 - INFO - 📥 Found 1 files pending upload recovery
2025-08-06 23:22:50 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 23:22:50 - INFO - Added upload task for luchipatro (fragment 1) to queue (size: 75.62MB)
2025-08-06 23:22:50 - INFO - 📤 Added recovery upload: luchipatro - TK_luchipatro_2025.08.06_23-12-47_COMPLETE.mp4
2025-08-06 23:22:50 - INFO - 📊 Recovery completed: 1 files added to upload queue, 0 skipped
2025-08-06 23:22:50 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 23:22:50 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:22:50 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754540567 registered from DESKTOP-U62C3NA
2025-08-06 23:22:50 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754540567 initialized successfully
2025-08-06 23:22:50 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:22:50 - INFO -    IP: 192.168.1.11
2025-08-06 23:22:50 - INFO -    Max concurrent jobs: 5
2025-08-06 23:22:50 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754540567
2025-08-06 23:22:50 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754540567 started processing jobs
2025-08-06 23:22:52 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:22:52 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:22:52 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:23:04 - INFO - 📥 Job af02733f-7384-4e8c-bfa2-840d7ecf4d8e assigned to worker worker_DESKTOP-U62C3NA_1754540567
2025-08-06 23:23:04 - INFO - 🎥 Processing job af02733f-7384-4e8c-bfa2-840d7ecf4d8e for nataliabernard18
2025-08-06 23:23:04 - INFO - 📝 Job af02733f-7384-4e8c-bfa2-840d7ecf4d8e status updated to in_progress
2025-08-06 23:23:04 - INFO - 🎥 Worker starting recording for nataliabernard18 (user: 1268285169, chat: 1268285169)
2025-08-06 23:23:04 - INFO - Cache DISABLED: Fetching fresh room_id for nataliabernard18 from API
2025-08-06 23:23:04 - INFO - PRIMARY: Using TikTok API for room_id extraction of nataliabernard18
2025-08-06 23:23:05 - INFO - ✅ TikTok API successful for nataliabernard18: 7535692906704423686
2025-08-06 23:23:06 - INFO - Logged room_id for nataliabernard18: 7535692906704423686 (cache disabled, DB log only)
2025-08-06 23:23:06 - INFO - PRIMARY TikTok API successful for room ID of nataliabernard18: 7535692906704423686
2025-08-06 23:23:06 - INFO - ✅ User nataliabernard18 validated as live with room_id: 7535692906704423686
2025-08-06 23:23:06 - INFO - Video and collage sent successfully for luchipatro
2025-08-06 23:23:06 - INFO - 📤 Upload result for luchipatro: [10084, 10085] (type: <class 'list'>)
2025-08-06 23:23:06 - INFO - Successfully uploaded video for luchipatro
2025-08-06 23:23:06 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 23:23:06 - INFO - 🔄 About to call shared recording forwarding for luchipatro
2025-08-06 23:23:06 - WARNING - ⚠️ RecordingService instance not registered
2025-08-06 23:23:06 - WARNING - ⚠️ RecordingService not found for luchipatro
2025-08-06 23:23:06 - INFO - Upload process completed for luchipatro - cleaning up files
2025-08-06 23:23:06 - INFO - Deleted main file: D:/recordings/organized\luchipatro-2025-08-06_23-12-45\TK_luchipatro_2025.08.06_23-12-47_COMPLETE.mp4
2025-08-06 23:23:06 - INFO - 🗑️ Cleaned up empty recording folder after upload: D:/recordings/organized\luchipatro-2025-08-06_23-12-45
2025-08-06 23:23:06 - INFO - 🗑️ Session state file deleted after successful upload: luchipatro
2025-08-06 23:23:07 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 23:23:07 - INFO - 🎯 Created master recording: nataliabernard18_1754540584_1268285169
2025-08-06 23:23:08 - INFO - ✅ Redis state updated for recording: nataliabernard18_1754540584_1268285169
2025-08-06 23:23:08 - INFO - 🎬 Starting TikTokRecorder for nataliabernard18
2025-08-06 23:23:08 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:23:08 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:23:08 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_nataliabernard18_1754540588.json
2025-08-06 23:23:08 - INFO - 🔍 RealtimeVideoSampler initialized for nataliabernard18 - interval: 30s, threshold: 30.0%
2025-08-06 23:23:09 - INFO - Using provided room_id: 7535692906704423686 for user: nataliabernard18
2025-08-06 23:23:09 - INFO - USERNAME: nataliabernard18
2025-08-06 23:23:09 - INFO - ROOM_ID:  7535692906704423686
2025-08-06 23:23:09 - INFO - 🌐 Fetching fresh stream URL for nataliabernard18
2025-08-06 23:23:10 - INFO - ✅ Stream URL cached for nataliabernard18 (valid for 20.0 minutes)
2025-08-06 23:23:10 - INFO - Starting stream download from: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750190&sign=bd4f959cf41d65fef6b34462f77ef5e9
2025-08-06 23:23:10 - INFO - 📁 Created session folder: D:/recordings/organized\nataliabernard18-2025-08-06_23-23-08\
2025-08-06 23:23:10 - INFO - Started recording...
2025-08-06 23:23:10 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:23:10 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_232310.log
2025-08-06 23:23:10 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-23-08\TK_nataliabernard18_2025.08.06_23-23-10.mkv
2025-08-06 23:23:10 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750190&sign=bd4f959cf41d65fef6b34462f77ef5e9
2025-08-06 23:23:10 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:23:10 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:23:10 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-23-08\TK_nataliabernard18_2025.08.06_23-23-10.mkv
2025-08-06 23:23:10 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 30252, threshold: 6.0%)
2025-08-06 23:23:10 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:23:11 - INFO - 📝 Job af02733f-7384-4e8c-bfa2-840d7ecf4d8e status updated to completed
2025-08-06 23:23:11 - INFO - ✅ Recording job af02733f-7384-4e8c-bfa2-840d7ecf4d8e completed for nataliabernard18
2025-08-06 23:23:40 - INFO - FFmpeg recording in progress for nataliabernard18: 0.5 minutes
2025-08-06 23:24:10 - INFO - FFmpeg recording in progress for nataliabernard18: 1.0 minutes
2025-08-06 23:24:41 - INFO - FFmpeg recording in progress for nataliabernard18: 1.5 minutes
2025-08-06 23:25:11 - INFO - FFmpeg recording in progress for nataliabernard18: 2.0 minutes
2025-08-06 23:25:41 - INFO - FFmpeg recording in progress for nataliabernard18: 2.5 minutes
2025-08-06 23:25:57 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:25:57 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:25:57 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754540567
2025-08-06 23:25:57 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:25:57 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:25:57 - INFO - Upload recovery worker stopped
2025-08-06 23:25:57 - INFO - Upload Manager Statistics:
2025-08-06 23:25:57 - INFO - Total uploads attempted: 1
2025-08-06 23:25:57 - INFO - Successful uploads: 1
2025-08-06 23:25:57 - INFO - Failed uploads: 0
2025-08-06 23:25:57 - INFO - Retried uploads: 0
2025-08-06 23:25:57 - INFO - Fatal errors: 0
2025-08-06 23:25:57 - INFO - ✅ Upload manager stopped
2025-08-06 23:25:57 - INFO - ✅ Telegram client disconnected
2025-08-06 23:25:57 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754540567 shutdown complete
2025-08-06 23:25:57 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754540567
2025-08-06 23:25:57 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:25:57 - INFO - Upload Manager Statistics:
2025-08-06 23:25:57 - INFO - Total uploads attempted: 1
2025-08-06 23:25:57 - INFO - Successful uploads: 1
2025-08-06 23:25:57 - INFO - Failed uploads: 0
2025-08-06 23:25:57 - INFO - Retried uploads: 0
2025-08-06 23:25:57 - INFO - Fatal errors: 0
2025-08-06 23:25:57 - INFO - ✅ Upload manager stopped
2025-08-06 23:25:57 - WARNING - ⚠️ Error stopping Telegram client: Client is already terminated
2025-08-06 23:25:57 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754540567 shutdown complete
2025-08-06 23:26:12 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:26:14 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:26:18 - INFO - Database connection initialized successfully
2025-08-06 23:26:21 - INFO - Checking and Installing dependencies...

2025-08-06 23:26:21 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754540781
2025-08-06 23:26:22 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:26:22 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:26:22 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:26:22 - INFO - User cache initialized with 3600s duration
2025-08-06 23:26:22 - INFO - User cache cleanup thread started
2025-08-06 23:26:23 - INFO -  ✅ Redis connection established
2025-08-06 23:26:23 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:26:23 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:26:23 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:26:23 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:26:23 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:26:23 - INFO - 👷 Worker-1 started
2025-08-06 23:26:23 - INFO - 👷 Worker-2 started
2025-08-06 23:26:23 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:26:23 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:26:23 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:26:23 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:26:23 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:26:23 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:26:23 - INFO - Upload recovery worker started
2025-08-06 23:26:23 - INFO - ✅ Worker async event loop started
2025-08-06 23:26:23 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:26:23 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:26:23 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:26:23 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:26:23 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:26:23 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:26:23 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754540781 registered from DESKTOP-U62C3NA
2025-08-06 23:26:23 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754540781 initialized successfully
2025-08-06 23:26:23 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:26:23 - INFO -    IP: 192.168.1.11
2025-08-06 23:26:23 - INFO -    Max concurrent jobs: 5
2025-08-06 23:26:23 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754540781
2025-08-06 23:26:23 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754540781 started processing jobs
2025-08-06 23:26:25 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:26:25 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:26:25 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:26:49 - INFO - 📥 Job c67c0e14-1161-4ea7-819e-eb3d3af4811a assigned to worker worker_DESKTOP-U62C3NA_1754540781
2025-08-06 23:26:49 - INFO - 🎥 Processing job c67c0e14-1161-4ea7-819e-eb3d3af4811a for nataliabernard18
2025-08-06 23:26:49 - INFO - 📝 Job c67c0e14-1161-4ea7-819e-eb3d3af4811a status updated to in_progress
2025-08-06 23:26:49 - INFO - 🎥 Worker starting recording for nataliabernard18 (user: 1268285169, chat: 1268285169)
2025-08-06 23:26:49 - INFO - Cache DISABLED: Fetching fresh room_id for nataliabernard18 from API
2025-08-06 23:26:49 - INFO - PRIMARY: Using TikTok API for room_id extraction of nataliabernard18
2025-08-06 23:26:50 - INFO - ✅ TikTok API successful for nataliabernard18: 7535692906704423686
2025-08-06 23:26:51 - INFO - Logged room_id for nataliabernard18: 7535692906704423686 (cache disabled, DB log only)
2025-08-06 23:26:51 - INFO - PRIMARY TikTok API successful for room ID of nataliabernard18: 7535692906704423686
2025-08-06 23:26:51 - INFO - ✅ User nataliabernard18 validated as live with room_id: 7535692906704423686
2025-08-06 23:26:52 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 23:26:52 - INFO - 🎯 Created master recording: nataliabernard18_1754540809_1268285169
2025-08-06 23:26:53 - INFO - ✅ Redis state updated for recording: nataliabernard18_1754540809_1268285169
2025-08-06 23:26:53 - INFO - 🎬 Starting TikTokRecorder for nataliabernard18
2025-08-06 23:26:53 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:26:53 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:26:53 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_nataliabernard18_1754540813.json
2025-08-06 23:26:53 - INFO - 🔍 REALTIME SAMPLER VERSION: EDITED_VERSION_2025_08_06_FINAL
2025-08-06 23:26:53 - INFO - 🔍 SAMPLER FILE LOCATION: C:\Users\alejo\OneDrive\Escritorio\tiktok-live-recorder\nueva implementación\tiktok-recording-worker\src\utils\realtime_video_sampler.py
2025-08-06 23:26:53 - INFO - 🔍 RealtimeVideoSampler initialized for nataliabernard18 - interval: 30s, threshold: 30.0%
2025-08-06 23:26:54 - INFO - Using provided room_id: 7535692906704423686 for user: nataliabernard18
2025-08-06 23:26:54 - INFO - USERNAME: nataliabernard18
2025-08-06 23:26:54 - INFO - ROOM_ID:  7535692906704423686
2025-08-06 23:26:54 - INFO - 🌐 Fetching fresh stream URL for nataliabernard18
2025-08-06 23:26:55 - INFO - ✅ Stream URL cached for nataliabernard18 (valid for 20.0 minutes)
2025-08-06 23:26:55 - INFO - Starting stream download from: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750415&sign=ab204277b22a0b71119641aea2f6a534
2025-08-06 23:26:55 - INFO - 📁 Created session folder: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\
2025-08-06 23:26:55 - INFO - Started recording...
2025-08-06 23:26:55 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:26:55 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_232655.log
2025-08-06 23:26:55 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-26-55.mkv
2025-08-06 23:26:55 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750415&sign=ab204277b22a0b71119641aea2f6a534
2025-08-06 23:26:55 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:26:55 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:26:55 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-26-55.mkv
2025-08-06 23:26:55 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 19808, threshold: 6.0%)
2025-08-06 23:26:55 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:26:56 - INFO - 📝 Job c67c0e14-1161-4ea7-819e-eb3d3af4811a status updated to completed
2025-08-06 23:26:56 - INFO - ✅ Recording job c67c0e14-1161-4ea7-819e-eb3d3af4811a completed for nataliabernard18
2025-08-06 23:27:25 - INFO - FFmpeg recording in progress for nataliabernard18: 0.5 minutes
2025-08-06 23:27:53 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for nataliabernard18: time=00:01:03.43 (#1)
2025-08-06 23:27:53 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for nataliabernard18 - triggering immediate restart
2025-08-06 23:27:53 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for nataliabernard18
2025-08-06 23:27:53 - INFO - 🔍 FFmpeg stderr monitor finished for nataliabernard18
2025-08-06 23:27:54 - WARNING - 🚨 CORRUPTION DETECTED for nataliabernard18, stopping current recording to restart
2025-08-06 23:27:54 - INFO - Starting graceful FFmpeg termination for nataliabernard18 - Reason: corruption detected
2025-08-06 23:27:54 - INFO - Sending 'q' command to FFmpeg for nataliabernard18
2025-08-06 23:27:54 - INFO - Waiting 30s for FFmpeg to complete container headers for nataliabernard18
2025-08-06 23:27:55 - INFO - FFmpeg terminated cleanly via stdin for nataliabernard18
2025-08-06 23:27:55 - INFO - FFmpeg recording completed successfully for nataliabernard18
2025-08-06 23:27:55 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_232655.log (18.6KB)
2025-08-06 23:27:55 - INFO - ✅ No corruption patterns detected for nataliabernard18
2025-08-06 23:27:55 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-26-55.mkv (22.4MB)
2025-08-06 23:27:55 - INFO - Added recording part 1 for nataliabernard18: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-26-55.mkv
2025-08-06 23:27:55 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for nataliabernard18
2025-08-06 23:27:55 - INFO - 🔍 Starting robust live verification for nataliabernard18 (2min validation period)
2025-08-06 23:27:55 - INFO - 🔍 Checking if nataliabernard18 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:27:55 - INFO - ✅ User nataliabernard18 confirmed still live after 0s (attempt 1)
2025-08-06 23:27:55 - INFO - ✅ User nataliabernard18 still live, attempting restart with retry logic...
2025-08-06 23:27:55 - INFO - 🔄 Restart attempt 1/3 for nataliabernard18
2025-08-06 23:27:55 - INFO - 🔄 Using cached stream URL for corruption restart: nataliabernard18
2025-08-06 23:27:55 - INFO - ⏳ Waiting 1s for stream stabilization for nataliabernard18
2025-08-06 23:27:56 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:27:56 - INFO - Starting continuous recording part 2 for nataliabernard18
2025-08-06 23:28:01 - INFO - 🔄 Reusing cached stream URL for nataliabernard18 (age: 66.9s)
2025-08-06 23:28:01 - INFO - Continuous recording part 2: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-28-01_cont2_flv.mp4
2025-08-06 23:28:01 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_232801.log
2025-08-06 23:28:01 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-28-01_cont2.mkv
2025-08-06 23:28:01 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750415&sign=ab204277b22a0b71119641aea2f6a534
2025-08-06 23:28:01 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:28:01 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:28:01 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-26-53\TK_nataliabernard18_2025.08.06_23-28-01_cont2.mkv
2025-08-06 23:28:01 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 3048, threshold: 6.0%)
2025-08-06 23:28:01 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:28:31 - INFO - 📊 SIZE CHECK: Total=33.1MB (Current=10.7MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:28:31 - INFO - FFmpeg recording in progress for nataliabernard18: 0.5 minutes
2025-08-06 23:28:45 - INFO - 📥 Job a2f1bf11-fc8b-479e-a5ae-0c77396b774a assigned to worker worker_DESKTOP-U62C3NA_1754540781
2025-08-06 23:28:45 - INFO - 🎥 Processing job a2f1bf11-fc8b-479e-a5ae-0c77396b774a for kamm.0108
2025-08-06 23:28:45 - INFO - 📝 Job a2f1bf11-fc8b-479e-a5ae-0c77396b774a status updated to in_progress
2025-08-06 23:28:46 - INFO - 🎥 Worker starting recording for kamm.0108 (user: 1268285169, chat: 1268285169)
2025-08-06 23:28:46 - INFO - Cache DISABLED: Fetching fresh room_id for kamm.0108 from API
2025-08-06 23:28:46 - INFO - PRIMARY: Using TikTok API for room_id extraction of kamm.0108
2025-08-06 23:28:46 - INFO - ✅ TikTok API successful for kamm.0108: 7535690791331646213
2025-08-06 23:28:47 - INFO - Logged room_id for kamm.0108: 7535690791331646213 (cache disabled, DB log only)
2025-08-06 23:28:47 - INFO - PRIMARY TikTok API successful for room ID of kamm.0108: 7535690791331646213
2025-08-06 23:28:47 - INFO - ✅ User kamm.0108 validated as live with room_id: 7535690791331646213
2025-08-06 23:28:48 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 23:28:48 - INFO - 🎯 Created master recording: kamm.0108_1754540926_1268285169
2025-08-06 23:28:49 - INFO - ✅ Redis state updated for recording: kamm.0108_1754540926_1268285169
2025-08-06 23:28:49 - INFO - 🎬 Starting TikTokRecorder for kamm.0108
2025-08-06 23:28:49 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:28:49 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:28:49 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_kamm.0108_1754540929.json
2025-08-06 23:28:49 - INFO - 🔍 REALTIME SAMPLER VERSION: EDITED_VERSION_2025_08_06_FINAL
2025-08-06 23:28:49 - INFO - 🔍 SAMPLER FILE LOCATION: C:\Users\alejo\OneDrive\Escritorio\tiktok-live-recorder\nueva implementación\tiktok-recording-worker\src\utils\realtime_video_sampler.py
2025-08-06 23:28:49 - INFO - 🔍 RealtimeVideoSampler initialized for kamm.0108 - interval: 30s, threshold: 30.0%
2025-08-06 23:28:50 - INFO - Using provided room_id: 7535690791331646213 for user: kamm.0108
2025-08-06 23:28:50 - INFO - USERNAME: kamm.0108
2025-08-06 23:28:50 - INFO - ROOM_ID:  7535690791331646213
2025-08-06 23:28:50 - INFO - 🌐 Fetching fresh stream URL for kamm.0108
2025-08-06 23:28:51 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 23:28:51 - INFO - Trying TikTokLive fallback for user 'kamm.0108' (room 7535690791331646213) due to: Live is private, login required. 
2025-08-06 23:28:51 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10034+none
2025-08-06 23:28:52 - INFO - 📝 Job a2f1bf11-fc8b-479e-a5ae-0c77396b774a status updated to completed
2025-08-06 23:28:52 - INFO - ✅ Recording job a2f1bf11-fc8b-479e-a5ae-0c77396b774a completed for kamm.0108
2025-08-06 23:28:57 - INFO - TikTokLive fallback: Room info obtenido para kamm.0108 (attempt 1)
2025-08-06 23:28:57 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 23:28:57 - INFO - TikTokLive fallback: Usando FLV URL con calidad HD1
2025-08-06 23:28:57 - INFO - TikTokLive fallback successful for kamm.0108
2025-08-06 23:28:57 - INFO - ✅ Stream URL cached for kamm.0108 (valid for 20.0 minutes)
2025-08-06 23:28:57 - INFO - Starting stream download from: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:28:57 - INFO - 📁 Created session folder: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\
2025-08-06 23:28:57 - INFO - Started recording...
2025-08-06 23:28:57 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:28:57 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232857.log
2025-08-06 23:28:57 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-28-57.mkv
2025-08-06 23:28:57 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:28:57 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:28:57 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:28:57 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 28964, threshold: 6.0%)
2025-08-06 23:28:57 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-28-57.mkv
2025-08-06 23:28:57 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:29:02 - INFO - 📊 SIZE CHECK: Total=45.5MB (Current=23.0MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:29:02 - INFO - FFmpeg recording in progress for nataliabernard18: 1.0 minutes
2025-08-06 23:29:11 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:13.31 (#1)
2025-08-06 23:29:11 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:29:11 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:29:11 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:29:11 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:29:11 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:29:11 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:29:11 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:29:12 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:29:12 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:29:12 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232857.log (8.1KB)
2025-08-06 23:29:12 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:29:12 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-28-57.mkv (1.4MB)
2025-08-06 23:29:12 - INFO - Added recording part 1 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-28-57.mkv
2025-08-06 23:29:12 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:29:12 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:29:12 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:29:12 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:29:12 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:29:12 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:29:12 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:29:12 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:29:13 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:29:13 - INFO - Starting continuous recording part 2 for kamm.0108
2025-08-06 23:29:18 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 28.1s)
2025-08-06 23:29:18 - INFO - Continuous recording part 2: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-18_cont2_flv.mp4
2025-08-06 23:29:18 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232918.log
2025-08-06 23:29:18 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-18_cont2.mkv
2025-08-06 23:29:18 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:29:18 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:29:18 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:29:18 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 32036, threshold: 6.0%)
2025-08-06 23:29:18 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-18_cont2.mkv
2025-08-06 23:29:18 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:29:32 - INFO - 📊 SIZE CHECK: Total=57.2MB (Current=34.8MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:29:32 - INFO - FFmpeg recording in progress for nataliabernard18: 1.5 minutes
2025-08-06 23:29:34 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:15.81 (#1)
2025-08-06 23:29:34 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:29:34 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:29:34 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:29:34 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:29:34 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:29:34 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:29:34 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:29:35 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:29:35 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:29:35 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232918.log (8.6KB)
2025-08-06 23:29:35 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:29:35 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-18_cont2.mkv (2.2MB)
2025-08-06 23:29:35 - INFO - Added recording part 2 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-18_cont2.mkv
2025-08-06 23:29:35 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:29:35 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:29:35 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:29:35 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:29:35 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:29:35 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:29:35 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:29:35 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:29:36 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 23:29:36 - INFO - Starting continuous recording part 3 for kamm.0108
2025-08-06 23:29:41 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 50.5s)
2025-08-06 23:29:41 - INFO - Continuous recording part 3: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-41_cont3_flv.mp4
2025-08-06 23:29:41 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232941.log
2025-08-06 23:29:41 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-41_cont3.mkv
2025-08-06 23:29:41 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:29:41 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:29:41 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:29:41 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-41_cont3.mkv
2025-08-06 23:29:41 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 22368, threshold: 6.0%)
2025-08-06 23:29:41 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:30:02 - INFO - 📊 SIZE CHECK: Total=69.0MB (Current=46.5MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:30:02 - INFO - FFmpeg recording in progress for nataliabernard18: 2.0 minutes
2025-08-06 23:30:11 - INFO - 📊 SIZE CHECK: Total=7.1MB (Current=3.5MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:30:11 - INFO - FFmpeg recording in progress for kamm.0108: 0.5 minutes
2025-08-06 23:30:28 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:48.47 (#1)
2025-08-06 23:30:28 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:30:28 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:30:28 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:30:29 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:30:29 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:30:29 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:30:29 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:30:30 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:30:30 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:30:30 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_232941.log (15.9KB)
2025-08-06 23:30:30 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:30:30 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-41_cont3.mkv (5.8MB)
2025-08-06 23:30:30 - INFO - Added recording part 3 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-29-41_cont3.mkv
2025-08-06 23:30:30 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:30:30 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:30:30 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:30:30 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:30:30 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:30:30 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:30:30 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:30:30 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:30:31 - INFO - 🔄 Starting continuous recording for corruption restart - Part 3
2025-08-06 23:30:31 - INFO - Starting continuous recording part 4 for kamm.0108
2025-08-06 23:30:32 - INFO - 📊 SIZE CHECK: Total=81.4MB (Current=58.9MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:30:32 - INFO - FFmpeg recording in progress for nataliabernard18: 2.5 minutes
2025-08-06 23:30:36 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 105.4s)
2025-08-06 23:30:36 - INFO - Continuous recording part 4: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-30-36_cont4_flv.mp4
2025-08-06 23:30:36 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233036.log
2025-08-06 23:30:36 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-30-36_cont4.mkv
2025-08-06 23:30:36 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:30:36 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:30:36 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:30:36 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-30-36_cont4.mkv
2025-08-06 23:30:36 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 28244, threshold: 6.0%)
2025-08-06 23:30:36 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:30:53 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:15.65 (#1)
2025-08-06 23:30:53 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:30:53 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:30:53 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:30:54 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:30:54 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:30:54 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:30:54 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:30:54 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:30:54 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:30:54 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233036.log (9.1KB)
2025-08-06 23:30:54 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:30:54 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-30-36_cont4.mkv (1.8MB)
2025-08-06 23:30:54 - INFO - Added recording part 4 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-30-36_cont4.mkv
2025-08-06 23:30:54 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:30:54 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:30:54 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:30:54 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:30:54 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:30:54 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:30:54 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:30:54 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:30:55 - INFO - 🔄 Starting continuous recording for corruption restart - Part 4
2025-08-06 23:30:55 - INFO - Starting continuous recording part 5 for kamm.0108
2025-08-06 23:31:00 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 129.8s)
2025-08-06 23:31:00 - INFO - Continuous recording part 5: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-00_cont5_flv.mp4
2025-08-06 23:31:00 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233100.log
2025-08-06 23:31:00 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-00_cont5.mkv
2025-08-06 23:31:00 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:31:00 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:31:00 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:31:00 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-00_cont5.mkv
2025-08-06 23:31:00 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 33812, threshold: 6.0%)
2025-08-06 23:31:00 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:31:02 - INFO - 📊 SIZE CHECK: Total=92.8MB (Current=70.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:31:02 - INFO - FFmpeg recording in progress for nataliabernard18: 3.0 minutes
2025-08-06 23:31:12 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:12.08 (#1)
2025-08-06 23:31:12 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:31:12 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:31:12 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:31:12 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:31:12 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:31:12 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:31:12 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:31:13 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:31:13 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:31:13 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233100.log (7.8KB)
2025-08-06 23:31:13 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:31:13 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-00_cont5.mkv (1.6MB)
2025-08-06 23:31:13 - INFO - Added recording part 5 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-00_cont5.mkv
2025-08-06 23:31:13 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:31:13 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:31:13 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:31:13 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:31:13 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:31:13 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:31:13 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:31:13 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:31:14 - INFO - 🔄 Starting continuous recording for corruption restart - Part 5
2025-08-06 23:31:14 - INFO - Starting continuous recording part 6 for kamm.0108
2025-08-06 23:31:19 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 148.4s)
2025-08-06 23:31:19 - INFO - Continuous recording part 6: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-19_cont6_flv.mp4
2025-08-06 23:31:19 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233119.log
2025-08-06 23:31:19 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-19_cont6.mkv
2025-08-06 23:31:19 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:31:19 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:31:19 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:31:19 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-19_cont6.mkv
2025-08-06 23:31:19 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 2868, threshold: 6.0%)
2025-08-06 23:31:19 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:31:32 - INFO - 📊 SIZE CHECK: Total=105.1MB (Current=82.6MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:31:32 - INFO - FFmpeg recording in progress for nataliabernard18: 3.5 minutes
2025-08-06 23:31:34 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:15.94 (#1)
2025-08-06 23:31:34 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:31:34 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:31:34 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:31:35 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:31:35 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:31:35 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:31:35 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:31:36 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:31:36 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:31:36 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233119.log (8.7KB)
2025-08-06 23:31:36 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:31:36 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-19_cont6.mkv (1.8MB)
2025-08-06 23:31:36 - INFO - Added recording part 6 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-19_cont6.mkv
2025-08-06 23:31:36 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:31:36 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:31:36 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:31:36 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:31:36 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:31:36 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:31:36 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:31:36 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:31:37 - INFO - 🔄 Starting continuous recording for corruption restart - Part 6
2025-08-06 23:31:37 - INFO - Starting continuous recording part 7 for kamm.0108
2025-08-06 23:31:42 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 171.7s)
2025-08-06 23:31:42 - INFO - Continuous recording part 7: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-42_cont7_flv.mp4
2025-08-06 23:31:42 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233142.log
2025-08-06 23:31:42 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-42_cont7.mkv
2025-08-06 23:31:42 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:31:42 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:31:42 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:31:42 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-42_cont7.mkv
2025-08-06 23:31:42 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 2572, threshold: 6.0%)
2025-08-06 23:31:42 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:31:45 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:02.64 (#1)
2025-08-06 23:31:45 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:31:45 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:31:45 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:31:46 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:31:46 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:31:46 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:31:46 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:32:02 - INFO - 📊 SIZE CHECK: Total=116.9MB (Current=94.4MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:32:02 - INFO - FFmpeg recording in progress for nataliabernard18: 4.0 minutes
2025-08-06 23:32:16 - WARNING - FFmpeg did not respond to 'q' command within 30s for kamm.0108
2025-08-06 23:32:16 - INFO - Using SIGTERM for Windows FFmpeg termination: kamm.0108
2025-08-06 23:32:16 - INFO - FFmpeg terminated via signal for kamm.0108
2025-08-06 23:32:16 - ERROR - FFmpeg recording failed with return code 1 for kamm.0108
2025-08-06 23:32:16 - ERROR - Error during FFmpeg recording for kamm.0108: I/O operation on closed file.
2025-08-06 23:32:16 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233142.log (6.0KB)
2025-08-06 23:32:16 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:32:16 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-42_cont7.mkv (0.0MB)
2025-08-06 23:32:16 - INFO - Added recording part 7 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-31-42_cont7.mkv
2025-08-06 23:32:16 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:32:16 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:32:16 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:32:16 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:32:16 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:32:16 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:32:16 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:32:16 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:32:17 - INFO - 🔄 Starting continuous recording for corruption restart - Part 7
2025-08-06 23:32:17 - INFO - Starting continuous recording part 8 for kamm.0108
2025-08-06 23:32:22 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 212.0s)
2025-08-06 23:32:22 - INFO - Continuous recording part 8: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-32-22_cont8_flv.mp4
2025-08-06 23:32:22 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233222.log
2025-08-06 23:32:22 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-32-22_cont8.mkv
2025-08-06 23:32:22 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750535&sign=8a797ea719ecd7c5d08fadb6d9766e23
2025-08-06 23:32:22 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:32:22 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:32:22 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 20620, threshold: 6.0%)
2025-08-06 23:32:22 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-28-49\TK_kamm.0108_2025.08.06_23-32-22_cont8.mkv
2025-08-06 23:32:22 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:32:24 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:02.95 (#1)
2025-08-06 23:32:24 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:32:24 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:32:24 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:32:25 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:32:25 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:32:25 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:32:25 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:32:33 - INFO - 📊 SIZE CHECK: Total=128.3MB (Current=105.9MB + 1 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:32:33 - INFO - FFmpeg recording in progress for nataliabernard18: 4.5 minutes
2025-08-06 23:32:42 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:32:42 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:32:42 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754540781
2025-08-06 23:32:42 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:32:42 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:32:42 - INFO - Upload Manager Statistics:
2025-08-06 23:32:42 - INFO - Total uploads attempted: 0
2025-08-06 23:32:42 - INFO - Successful uploads: 0
2025-08-06 23:32:42 - INFO - Failed uploads: 0
2025-08-06 23:32:42 - INFO - Retried uploads: 0
2025-08-06 23:32:42 - INFO - Fatal errors: 0
2025-08-06 23:32:42 - INFO - ✅ Upload manager stopped
2025-08-06 23:32:42 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754540781
2025-08-06 23:32:42 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:32:42 - INFO - Upload Manager Statistics:
2025-08-06 23:32:42 - INFO - Total uploads attempted: 0
2025-08-06 23:32:42 - INFO - Successful uploads: 0
2025-08-06 23:32:42 - INFO - Failed uploads: 0
2025-08-06 23:32:42 - INFO - Retried uploads: 0
2025-08-06 23:32:42 - INFO - Fatal errors: 0
2025-08-06 23:32:42 - INFO - ✅ Upload manager stopped
2025-08-06 23:33:19 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:33:21 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:33:25 - INFO - Database connection initialized successfully
2025-08-06 23:33:28 - INFO - Checking and Installing dependencies...

2025-08-06 23:33:28 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754541208
2025-08-06 23:33:29 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:33:29 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:33:29 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:33:29 - INFO - User cache initialized with 3600s duration
2025-08-06 23:33:29 - INFO - User cache cleanup thread started
2025-08-06 23:33:30 - INFO -  ✅ Redis connection established
2025-08-06 23:33:30 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:33:30 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:33:30 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:33:30 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:33:30 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:33:30 - INFO - 👷 Worker-1 started
2025-08-06 23:33:30 - INFO - 👷 Worker-2 started
2025-08-06 23:33:30 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:33:30 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:33:30 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:33:30 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:33:30 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:33:30 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:33:30 - INFO - Upload recovery worker started
2025-08-06 23:33:30 - INFO - ✅ Worker async event loop started
2025-08-06 23:33:30 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:33:30 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:33:30 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:33:30 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:33:30 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:33:30 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:33:31 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754541208 registered from DESKTOP-U62C3NA
2025-08-06 23:33:31 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541208 initialized successfully
2025-08-06 23:33:31 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:33:31 - INFO -    IP: 192.168.1.11
2025-08-06 23:33:31 - INFO -    Max concurrent jobs: 5
2025-08-06 23:33:31 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754541208
2025-08-06 23:33:31 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754541208 started processing jobs
2025-08-06 23:33:33 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:33:33 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:33:33 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:33:50 - INFO - 📥 Job aef0a00f-20f2-44a6-8554-a6786b8bd99c assigned to worker worker_DESKTOP-U62C3NA_1754541208
2025-08-06 23:33:50 - INFO - 🎥 Processing job aef0a00f-20f2-44a6-8554-a6786b8bd99c for kamm.0108
2025-08-06 23:33:50 - INFO - 📝 Job aef0a00f-20f2-44a6-8554-a6786b8bd99c status updated to in_progress
2025-08-06 23:33:51 - INFO - 🎥 Worker starting recording for kamm.0108 (user: 1268285169, chat: 1268285169)
2025-08-06 23:33:51 - INFO - Cache DISABLED: Fetching fresh room_id for kamm.0108 from API
2025-08-06 23:33:51 - INFO - PRIMARY: Using TikTok API for room_id extraction of kamm.0108
2025-08-06 23:33:52 - INFO - ✅ TikTok API successful for kamm.0108: 7535690791331646213
2025-08-06 23:33:52 - INFO - Logged room_id for kamm.0108: 7535690791331646213 (cache disabled, DB log only)
2025-08-06 23:33:52 - INFO - PRIMARY TikTok API successful for room ID of kamm.0108: 7535690791331646213
2025-08-06 23:33:53 - INFO - ✅ User kamm.0108 validated as live with room_id: 7535690791331646213
2025-08-06 23:33:53 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 23:33:54 - INFO - 🎯 Created master recording: kamm.0108_1754541231_1268285169
2025-08-06 23:33:55 - INFO - ✅ Redis state updated for recording: kamm.0108_1754541231_1268285169
2025-08-06 23:33:55 - INFO - 🎬 Starting TikTokRecorder for kamm.0108
2025-08-06 23:33:55 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:33:55 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:33:55 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_kamm.0108_1754541235.json
2025-08-06 23:33:55 - INFO - 🔍 REALTIME SAMPLER VERSION: EDITED_VERSION_2025_08_06_FINAL
2025-08-06 23:33:55 - INFO - 🔍 SAMPLER FILE LOCATION: C:\Users\alejo\OneDrive\Escritorio\tiktok-live-recorder\nueva implementación\tiktok-recording-worker\src\utils\realtime_video_sampler.py
2025-08-06 23:33:55 - INFO - 🔍 RealtimeVideoSampler initialized for kamm.0108 - interval: 30s, threshold: 30.0%
2025-08-06 23:33:56 - INFO - Using provided room_id: 7535690791331646213 for user: kamm.0108
2025-08-06 23:33:56 - INFO - USERNAME: kamm.0108
2025-08-06 23:33:56 - INFO - ROOM_ID:  7535690791331646213
2025-08-06 23:33:57 - INFO - 🌐 Fetching fresh stream URL for kamm.0108
2025-08-06 23:33:57 - WARNING - No SDK stream data found, using legacy URLs
2025-08-06 23:33:57 - INFO - Trying TikTokLive fallback for user 'kamm.0108' (room 7535690791331646213) due to: Live is private, login required. 
2025-08-06 23:33:57 - INFO - 🌐 Selected proxy combination: gate.decodo.com:10037+none
2025-08-06 23:33:57 - INFO - 📝 Job aef0a00f-20f2-44a6-8554-a6786b8bd99c status updated to completed
2025-08-06 23:33:58 - INFO - ✅ Recording job aef0a00f-20f2-44a6-8554-a6786b8bd99c completed for kamm.0108
2025-08-06 23:34:02 - INFO - TikTokLive fallback: Room info obtenido para kamm.0108 (attempt 1)
2025-08-06 23:34:03 - INFO - TikTokLive fallback: Status del usuario: 2 (en vivo: True)
2025-08-06 23:34:03 - INFO - TikTokLive fallback: Usando FLV URL con calidad HD1
2025-08-06 23:34:03 - INFO - TikTokLive fallback successful for kamm.0108
2025-08-06 23:34:03 - INFO - ✅ Stream URL cached for kamm.0108 (valid for 20.0 minutes)
2025-08-06 23:34:03 - INFO - Starting stream download from: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750841&sign=2e1f53e6fe96c8fd6858c2dc3aa350a2
2025-08-06 23:34:03 - INFO - 📁 Created session folder: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\
2025-08-06 23:34:03 - INFO - Started recording...
2025-08-06 23:34:03 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:34:03 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233403.log
2025-08-06 23:34:03 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-03.mkv
2025-08-06 23:34:03 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750841&sign=2e1f53e6fe96c8fd6858c2dc3aa350a2
2025-08-06 23:34:03 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:34:03 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:34:03 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 20140, threshold: 6.0%)
2025-08-06 23:34:03 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-03.mkv
2025-08-06 23:34:03 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:34:07 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for kamm.0108: time=00:00:04.03 (#1)
2025-08-06 23:34:07 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for kamm.0108 - triggering immediate restart
2025-08-06 23:34:07 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for kamm.0108
2025-08-06 23:34:07 - INFO - 🔍 FFmpeg stderr monitor finished for kamm.0108
2025-08-06 23:34:07 - WARNING - 🚨 CORRUPTION DETECTED for kamm.0108, stopping current recording to restart
2025-08-06 23:34:07 - INFO - Starting graceful FFmpeg termination for kamm.0108 - Reason: corruption detected
2025-08-06 23:34:07 - INFO - Sending 'q' command to FFmpeg for kamm.0108
2025-08-06 23:34:07 - INFO - Waiting 30s for FFmpeg to complete container headers for kamm.0108
2025-08-06 23:34:07 - INFO - FFmpeg terminated cleanly via stdin for kamm.0108
2025-08-06 23:34:07 - INFO - FFmpeg recording completed successfully for kamm.0108
2025-08-06 23:34:07 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233403.log (6.2KB)
2025-08-06 23:34:07 - INFO - ✅ No corruption patterns detected for kamm.0108
2025-08-06 23:34:07 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-03.mkv (0.3MB)
2025-08-06 23:34:07 - INFO - Added recording part 1 for kamm.0108: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-03.mkv
2025-08-06 23:34:07 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for kamm.0108
2025-08-06 23:34:07 - INFO - 🔍 Starting robust live verification for kamm.0108 (2min validation period)
2025-08-06 23:34:07 - INFO - 🔍 Checking if kamm.0108 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:34:07 - INFO - ✅ User kamm.0108 confirmed still live after 0s (attempt 1)
2025-08-06 23:34:07 - INFO - ✅ User kamm.0108 still live, attempting restart with retry logic...
2025-08-06 23:34:07 - INFO - 🔄 Restart attempt 1/3 for kamm.0108
2025-08-06 23:34:07 - INFO - 🔄 Using cached stream URL for corruption restart: kamm.0108
2025-08-06 23:34:07 - INFO - ⏳ Waiting 1s for stream stabilization for kamm.0108
2025-08-06 23:34:08 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:34:08 - INFO - Starting continuous recording part 2 for kamm.0108
2025-08-06 23:34:13 - INFO - 🔄 Reusing cached stream URL for kamm.0108 (age: 16.7s)
2025-08-06 23:34:13 - INFO - Continuous recording part 2: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-13_cont2_flv.mp4
2025-08-06 23:34:13 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_kamm.0108_20250806_233413.log
2025-08-06 23:34:13 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-13_cont2.mkv
2025-08-06 23:34:13 - INFO - Stream URL: https://pull-flv-l1-va01.tiktokcdn.com/stage/stream-3000048929124909106_hd.flv?expire=1755750841&sign=2e1f53e6fe96c8fd6858c2dc3aa350a2
2025-08-06 23:34:13 - INFO - Executing FFmpeg command for kamm.0108
2025-08-06 23:34:13 - INFO - 🔍 Starting FFmpeg stderr monitor for kamm.0108
2025-08-06 23:34:13 - INFO - 🔍 Started memory guardian for kamm.0108 (PID: 33564, threshold: 6.0%)
2025-08-06 23:34:13 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\kamm.0108-2025-08-06_23-33-55\TK_kamm.0108_2025.08.06_23-34-13_cont2.mkv
2025-08-06 23:34:13 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:34:13 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:34:13 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:34:13 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541208
2025-08-06 23:34:13 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:34:13 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:34:13 - INFO - Upload recovery worker stopped
2025-08-06 23:34:13 - INFO - Upload Manager Statistics:
2025-08-06 23:34:13 - INFO - Total uploads attempted: 0
2025-08-06 23:34:13 - INFO - Successful uploads: 0
2025-08-06 23:34:13 - INFO - Failed uploads: 0
2025-08-06 23:34:13 - INFO - Retried uploads: 0
2025-08-06 23:34:13 - INFO - Fatal errors: 0
2025-08-06 23:34:13 - INFO - ✅ Upload manager stopped
2025-08-06 23:34:13 - INFO - ✅ Telegram client disconnected
2025-08-06 23:34:13 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541208 shutdown complete
2025-08-06 23:34:13 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541208
2025-08-06 23:34:13 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:34:13 - INFO - Upload Manager Statistics:
2025-08-06 23:34:13 - INFO - Total uploads attempted: 0
2025-08-06 23:34:13 - INFO - Successful uploads: 0
2025-08-06 23:34:13 - INFO - Failed uploads: 0
2025-08-06 23:34:13 - INFO - Retried uploads: 0
2025-08-06 23:34:13 - INFO - Fatal errors: 0
2025-08-06 23:34:13 - INFO - ✅ Upload manager stopped
2025-08-06 23:34:13 - WARNING - ⚠️ Error stopping Telegram client: Client is already terminated
2025-08-06 23:34:13 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541208 shutdown complete
2025-08-06 23:34:16 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:34:18 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:34:22 - INFO - Database connection initialized successfully
2025-08-06 23:34:25 - INFO - Checking and Installing dependencies...

2025-08-06 23:34:25 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754541265
2025-08-06 23:34:26 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:34:26 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:34:26 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:34:26 - INFO - User cache initialized with 3600s duration
2025-08-06 23:34:26 - INFO - User cache cleanup thread started
2025-08-06 23:34:27 - INFO -  ✅ Redis connection established
2025-08-06 23:34:27 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:34:27 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:34:27 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:34:27 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:34:27 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:34:27 - INFO - 👷 Worker-1 started
2025-08-06 23:34:27 - INFO - 👷 Worker-2 started
2025-08-06 23:34:27 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:34:27 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:34:27 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:34:27 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:34:27 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:34:27 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:34:27 - INFO - Upload recovery worker started
2025-08-06 23:34:27 - INFO - ✅ Worker async event loop started
2025-08-06 23:34:27 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:34:27 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:34:27 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:34:27 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:34:27 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:34:27 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:34:27 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754541265 registered from DESKTOP-U62C3NA
2025-08-06 23:34:27 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541265 initialized successfully
2025-08-06 23:34:27 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:34:27 - INFO -    IP: 192.168.1.11
2025-08-06 23:34:27 - INFO -    Max concurrent jobs: 5
2025-08-06 23:34:27 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754541265
2025-08-06 23:34:27 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754541265 started processing jobs
2025-08-06 23:34:30 - INFO - 📥 Job 2adf8e5c-aa01-4c92-b48a-07ab91bcdc67 assigned to worker worker_DESKTOP-U62C3NA_1754541265
2025-08-06 23:34:30 - INFO - 🎥 Processing job 2adf8e5c-aa01-4c92-b48a-07ab91bcdc67 for nataliabernard18
2025-08-06 23:34:30 - INFO - 📝 Job 2adf8e5c-aa01-4c92-b48a-07ab91bcdc67 status updated to in_progress
2025-08-06 23:34:30 - INFO - 🎥 Worker starting recording for nataliabernard18 (user: 1268285169, chat: 1268285169)
2025-08-06 23:34:30 - INFO - Cache DISABLED: Fetching fresh room_id for nataliabernard18 from API
2025-08-06 23:34:30 - INFO - PRIMARY: Using TikTok API for room_id extraction of nataliabernard18
2025-08-06 23:34:31 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:34:31 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:34:31 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:34:31 - INFO - ✅ TikTok API successful for nataliabernard18: 7535692906704423686
2025-08-06 23:34:32 - INFO - Logged room_id for nataliabernard18: 7535692906704423686 (cache disabled, DB log only)
2025-08-06 23:34:32 - INFO - PRIMARY TikTok API successful for room ID of nataliabernard18: 7535692906704423686
2025-08-06 23:34:32 - INFO - ✅ User nataliabernard18 validated as live with room_id: 7535692906704423686
2025-08-06 23:34:33 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 23:34:33 - INFO - 🎯 Created master recording: nataliabernard18_1754541270_1268285169
2025-08-06 23:34:35 - INFO - ✅ Redis state updated for recording: nataliabernard18_1754541270_1268285169
2025-08-06 23:34:35 - INFO - 🎬 Starting TikTokRecorder for nataliabernard18
2025-08-06 23:34:35 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:34:35 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:34:35 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_nataliabernard18_1754541275.json
2025-08-06 23:34:35 - INFO - 🔍 REALTIME SAMPLER VERSION: EDITED_VERSION_2025_08_06_FINAL
2025-08-06 23:34:35 - INFO - 🔍 SAMPLER FILE LOCATION: C:\Users\alejo\OneDrive\Escritorio\tiktok-live-recorder\nueva implementación\tiktok-recording-worker\src\utils\realtime_video_sampler.py
2025-08-06 23:34:35 - INFO - 🔍 RealtimeVideoSampler initialized for nataliabernard18 - interval: 30s, threshold: 30.0%
2025-08-06 23:34:35 - INFO - Using provided room_id: 7535692906704423686 for user: nataliabernard18
2025-08-06 23:34:35 - INFO - USERNAME: nataliabernard18
2025-08-06 23:34:35 - INFO - ROOM_ID:  7535692906704423686
2025-08-06 23:34:36 - INFO - 🌐 Fetching fresh stream URL for nataliabernard18
2025-08-06 23:34:37 - INFO - ✅ Stream URL cached for nataliabernard18 (valid for 20.0 minutes)
2025-08-06 23:34:37 - INFO - Starting stream download from: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750876&sign=d886c6b906e40e5a2bff3fa0eb474f4d
2025-08-06 23:34:37 - INFO - 📁 Created session folder: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\
2025-08-06 23:34:37 - INFO - Started recording...
2025-08-06 23:34:37 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:34:37 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233437.log
2025-08-06 23:34:37 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-37.mkv
2025-08-06 23:34:37 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750876&sign=d886c6b906e40e5a2bff3fa0eb474f4d
2025-08-06 23:34:37 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:34:37 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:34:37 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-37.mkv
2025-08-06 23:34:37 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 4932, threshold: 6.0%)
2025-08-06 23:34:37 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:34:37 - INFO - 📝 Job 2adf8e5c-aa01-4c92-b48a-07ab91bcdc67 status updated to completed
2025-08-06 23:34:37 - INFO - ✅ Recording job 2adf8e5c-aa01-4c92-b48a-07ab91bcdc67 completed for nataliabernard18
2025-08-06 23:34:43 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for nataliabernard18: time=00:00:10.81 (#1)
2025-08-06 23:34:43 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for nataliabernard18 - triggering immediate restart
2025-08-06 23:34:43 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for nataliabernard18
2025-08-06 23:34:43 - INFO - 🔍 FFmpeg stderr monitor finished for nataliabernard18
2025-08-06 23:34:43 - WARNING - 🚨 CORRUPTION DETECTED for nataliabernard18, stopping current recording to restart
2025-08-06 23:34:43 - INFO - Starting graceful FFmpeg termination for nataliabernard18 - Reason: corruption detected
2025-08-06 23:34:43 - INFO - Sending 'q' command to FFmpeg for nataliabernard18
2025-08-06 23:34:43 - INFO - Waiting 30s for FFmpeg to complete container headers for nataliabernard18
2025-08-06 23:34:43 - INFO - FFmpeg terminated cleanly via stdin for nataliabernard18
2025-08-06 23:34:43 - INFO - FFmpeg recording completed successfully for nataliabernard18
2025-08-06 23:34:43 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233437.log (6.9KB)
2025-08-06 23:34:43 - INFO - ✅ No corruption patterns detected for nataliabernard18
2025-08-06 23:34:43 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-37.mkv (3.6MB)
2025-08-06 23:34:43 - INFO - Added recording part 1 for nataliabernard18: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-37.mkv
2025-08-06 23:34:43 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for nataliabernard18
2025-08-06 23:34:43 - INFO - 🔍 Starting robust live verification for nataliabernard18 (2min validation period)
2025-08-06 23:34:43 - INFO - 🔍 Checking if nataliabernard18 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:34:44 - INFO - ✅ User nataliabernard18 confirmed still live after 0s (attempt 1)
2025-08-06 23:34:44 - INFO - ✅ User nataliabernard18 still live, attempting restart with retry logic...
2025-08-06 23:34:44 - INFO - 🔄 Restart attempt 1/3 for nataliabernard18
2025-08-06 23:34:44 - INFO - 🔄 Using cached stream URL for corruption restart: nataliabernard18
2025-08-06 23:34:44 - INFO - ⏳ Waiting 1s for stream stabilization for nataliabernard18
2025-08-06 23:34:45 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:34:45 - INFO - Starting continuous recording part 2 for nataliabernard18
2025-08-06 23:34:50 - INFO - 🔄 Reusing cached stream URL for nataliabernard18 (age: 13.9s)
2025-08-06 23:34:50 - INFO - Continuous recording part 2: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-50_cont2_flv.mp4
2025-08-06 23:34:50 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233450.log
2025-08-06 23:34:50 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-50_cont2.mkv
2025-08-06 23:34:50 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750876&sign=d886c6b906e40e5a2bff3fa0eb474f4d
2025-08-06 23:34:50 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:34:50 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:34:50 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 31256, threshold: 6.0%)
2025-08-06 23:34:50 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-34-35\TK_nataliabernard18_2025.08.06_23-34-50_cont2.mkv
2025-08-06 23:34:50 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:35:11 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:35:11 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:35:11 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541265
2025-08-06 23:35:11 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:35:11 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:35:11 - INFO - Upload recovery worker stopped
2025-08-06 23:35:11 - INFO - Upload Manager Statistics:
2025-08-06 23:35:11 - INFO - Total uploads attempted: 0
2025-08-06 23:35:11 - INFO - Successful uploads: 0
2025-08-06 23:35:11 - INFO - Failed uploads: 0
2025-08-06 23:35:11 - INFO - Retried uploads: 0
2025-08-06 23:35:11 - INFO - Fatal errors: 0
2025-08-06 23:35:11 - INFO - ✅ Upload manager stopped
2025-08-06 23:35:11 - INFO - ✅ Telegram client disconnected
2025-08-06 23:35:11 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541265 shutdown complete
2025-08-06 23:35:11 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541265
2025-08-06 23:35:11 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:35:11 - INFO - Upload Manager Statistics:
2025-08-06 23:35:11 - INFO - Total uploads attempted: 0
2025-08-06 23:35:11 - INFO - Successful uploads: 0
2025-08-06 23:35:11 - INFO - Failed uploads: 0
2025-08-06 23:35:11 - INFO - Retried uploads: 0
2025-08-06 23:35:11 - INFO - Fatal errors: 0
2025-08-06 23:35:11 - INFO - ✅ Upload manager stopped
2025-08-06 23:35:11 - WARNING - ⚠️ Error stopping Telegram client: Client is already terminated
2025-08-06 23:35:11 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541265 shutdown complete
2025-08-06 23:35:23 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:35:25 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:35:29 - INFO - Database connection initialized successfully
2025-08-06 23:35:32 - INFO - Checking and Installing dependencies...

2025-08-06 23:35:32 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754541332
2025-08-06 23:35:33 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:35:33 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:35:33 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:35:33 - INFO - User cache initialized with 3600s duration
2025-08-06 23:35:33 - INFO - User cache cleanup thread started
2025-08-06 23:35:34 - INFO -  ✅ Redis connection established
2025-08-06 23:35:34 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:35:34 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:35:34 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:35:34 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:35:34 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:35:34 - INFO - 👷 Worker-1 started
2025-08-06 23:35:34 - INFO - 👷 Worker-2 started
2025-08-06 23:35:34 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:35:34 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:35:34 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:35:34 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:35:34 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:35:34 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:35:34 - INFO - Upload recovery worker started
2025-08-06 23:35:34 - INFO - ✅ Worker async event loop started
2025-08-06 23:35:34 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:35:34 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:35:34 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:35:34 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:35:34 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:35:34 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:35:35 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754541332 registered from DESKTOP-U62C3NA
2025-08-06 23:35:35 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541332 initialized successfully
2025-08-06 23:35:35 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:35:35 - INFO -    IP: 192.168.1.11
2025-08-06 23:35:35 - INFO -    Max concurrent jobs: 5
2025-08-06 23:35:35 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754541332
2025-08-06 23:35:35 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754541332 started processing jobs
2025-08-06 23:35:37 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:35:37 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:35:37 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:35:43 - INFO - 📥 Job 002da4e6-3eaa-4547-9d72-5b4bacdda096 assigned to worker worker_DESKTOP-U62C3NA_1754541332
2025-08-06 23:35:43 - INFO - 🎥 Processing job 002da4e6-3eaa-4547-9d72-5b4bacdda096 for nataliabernard18
2025-08-06 23:35:43 - INFO - 📝 Job 002da4e6-3eaa-4547-9d72-5b4bacdda096 status updated to in_progress
2025-08-06 23:35:43 - INFO - 🎥 Worker starting recording for nataliabernard18 (user: 1268285169, chat: 1268285169)
2025-08-06 23:35:43 - INFO - Cache DISABLED: Fetching fresh room_id for nataliabernard18 from API
2025-08-06 23:35:43 - INFO - PRIMARY: Using TikTok API for room_id extraction of nataliabernard18
2025-08-06 23:35:44 - INFO - ✅ TikTok API successful for nataliabernard18: 7535692906704423686
2025-08-06 23:35:45 - INFO - Logged room_id for nataliabernard18: 7535692906704423686 (cache disabled, DB log only)
2025-08-06 23:35:45 - INFO - PRIMARY TikTok API successful for room ID of nataliabernard18: 7535692906704423686
2025-08-06 23:35:45 - INFO - ✅ User nataliabernard18 validated as live with room_id: 7535692906704423686
2025-08-06 23:35:46 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 23:35:46 - INFO - 🎯 Created master recording: nataliabernard18_1754541343_1268285169
2025-08-06 23:35:48 - INFO - ✅ Redis state updated for recording: nataliabernard18_1754541343_1268285169
2025-08-06 23:35:48 - INFO - 🎬 Starting TikTokRecorder for nataliabernard18
2025-08-06 23:35:48 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:35:48 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:35:48 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_nataliabernard18_1754541348.json
2025-08-06 23:35:48 - INFO - 🔍 REALTIME SAMPLER VERSION: EDITED_VERSION_2025_08_06_FINAL
2025-08-06 23:35:48 - INFO - 🔍 SAMPLER FILE LOCATION: C:\Users\alejo\OneDrive\Escritorio\tiktok-live-recorder\nueva implementación\tiktok-recording-worker\src\utils\realtime_video_sampler.py
2025-08-06 23:35:48 - INFO - 🔍 RealtimeVideoSampler initialized for nataliabernard18 - interval: 30s, threshold: 30.0%
2025-08-06 23:35:48 - INFO - Using provided room_id: 7535692906704423686 for user: nataliabernard18
2025-08-06 23:35:48 - INFO - USERNAME: nataliabernard18
2025-08-06 23:35:48 - INFO - ROOM_ID:  7535692906704423686
2025-08-06 23:35:48 - INFO - 🌐 Fetching fresh stream URL for nataliabernard18
2025-08-06 23:35:49 - INFO - ✅ Stream URL cached for nataliabernard18 (valid for 20.0 minutes)
2025-08-06 23:35:49 - INFO - Starting stream download from: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750949&sign=8320bf3d33095e5d8105ba06b893a494
2025-08-06 23:35:49 - INFO - 📁 Created session folder: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\
2025-08-06 23:35:49 - INFO - Started recording...
2025-08-06 23:35:49 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:35:49 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233549.log
2025-08-06 23:35:49 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-35-49.mkv
2025-08-06 23:35:49 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750949&sign=8320bf3d33095e5d8105ba06b893a494
2025-08-06 23:35:49 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:35:49 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:35:49 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 23720, threshold: 6.0%)
2025-08-06 23:35:49 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-35-49.mkv
2025-08-06 23:35:49 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:35:50 - INFO - 📝 Job 002da4e6-3eaa-4547-9d72-5b4bacdda096 status updated to completed
2025-08-06 23:35:50 - INFO - ✅ Recording job 002da4e6-3eaa-4547-9d72-5b4bacdda096 completed for nataliabernard18
2025-08-06 23:36:19 - INFO - FFmpeg recording in progress for nataliabernard18: 0.5 minutes
2025-08-06 23:36:50 - INFO - FFmpeg recording in progress for nataliabernard18: 1.0 minutes
2025-08-06 23:37:20 - INFO - FFmpeg recording in progress for nataliabernard18: 1.5 minutes
2025-08-06 23:37:50 - INFO - FFmpeg recording in progress for nataliabernard18: 2.0 minutes
2025-08-06 23:37:51 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for nataliabernard18: time=00:02:06.46 (#1)
2025-08-06 23:37:51 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for nataliabernard18 - triggering immediate restart
2025-08-06 23:37:51 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for nataliabernard18
2025-08-06 23:37:51 - INFO - 🔍 FFmpeg stderr monitor finished for nataliabernard18
2025-08-06 23:37:51 - WARNING - 🚨 CORRUPTION DETECTED for nataliabernard18, stopping current recording to restart
2025-08-06 23:37:51 - INFO - Starting graceful FFmpeg termination for nataliabernard18 - Reason: corruption detected
2025-08-06 23:37:51 - INFO - Sending 'q' command to FFmpeg for nataliabernard18
2025-08-06 23:37:51 - INFO - Waiting 30s for FFmpeg to complete container headers for nataliabernard18
2025-08-06 23:37:53 - INFO - FFmpeg terminated cleanly via stdin for nataliabernard18
2025-08-06 23:37:53 - INFO - FFmpeg recording completed successfully for nataliabernard18
2025-08-06 23:37:53 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233549.log (32.7KB)
2025-08-06 23:37:53 - INFO - ✅ No corruption patterns detected for nataliabernard18
2025-08-06 23:37:53 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-35-49.mkv (49.1MB)
2025-08-06 23:37:53 - INFO - Added recording part 1 for nataliabernard18: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-35-49.mkv
2025-08-06 23:37:53 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for nataliabernard18
2025-08-06 23:37:53 - INFO - 🔍 Starting robust live verification for nataliabernard18 (2min validation period)
2025-08-06 23:37:53 - INFO - 🔍 Checking if nataliabernard18 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:37:53 - INFO - ✅ User nataliabernard18 confirmed still live after 0s (attempt 1)
2025-08-06 23:37:53 - INFO - ✅ User nataliabernard18 still live, attempting restart with retry logic...
2025-08-06 23:37:53 - INFO - 🔄 Restart attempt 1/3 for nataliabernard18
2025-08-06 23:37:53 - INFO - 🔄 Using cached stream URL for corruption restart: nataliabernard18
2025-08-06 23:37:53 - INFO - ⏳ Waiting 1s for stream stabilization for nataliabernard18
2025-08-06 23:37:54 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:37:54 - INFO - Starting continuous recording part 2 for nataliabernard18
2025-08-06 23:37:59 - INFO - 🔄 Reusing cached stream URL for nataliabernard18 (age: 130.7s)
2025-08-06 23:37:59 - INFO - Continuous recording part 2: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-37-59_cont2_flv.mp4
2025-08-06 23:37:59 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233759.log
2025-08-06 23:37:59 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-37-59_cont2.mkv
2025-08-06 23:37:59 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750949&sign=8320bf3d33095e5d8105ba06b893a494
2025-08-06 23:37:59 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:37:59 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:37:59 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-37-59_cont2.mkv
2025-08-06 23:37:59 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 35792, threshold: 6.0%)
2025-08-06 23:37:59 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:38:07 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for nataliabernard18: time=00:00:17.34 (#1)
2025-08-06 23:38:07 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for nataliabernard18 - triggering immediate restart
2025-08-06 23:38:07 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for nataliabernard18
2025-08-06 23:38:07 - INFO - 🔍 FFmpeg stderr monitor finished for nataliabernard18
2025-08-06 23:38:07 - WARNING - 🚨 CORRUPTION DETECTED for nataliabernard18, stopping current recording to restart
2025-08-06 23:38:07 - INFO - Starting graceful FFmpeg termination for nataliabernard18 - Reason: corruption detected
2025-08-06 23:38:07 - INFO - Sending 'q' command to FFmpeg for nataliabernard18
2025-08-06 23:38:07 - INFO - Waiting 30s for FFmpeg to complete container headers for nataliabernard18
2025-08-06 23:38:08 - INFO - FFmpeg terminated cleanly via stdin for nataliabernard18
2025-08-06 23:38:08 - INFO - FFmpeg recording completed successfully for nataliabernard18
2025-08-06 23:38:08 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233759.log (7.4KB)
2025-08-06 23:38:08 - INFO - ✅ No corruption patterns detected for nataliabernard18
2025-08-06 23:38:08 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-37-59_cont2.mkv (3.5MB)
2025-08-06 23:38:08 - INFO - Added recording part 2 for nataliabernard18: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-37-59_cont2.mkv
2025-08-06 23:38:08 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for nataliabernard18
2025-08-06 23:38:08 - INFO - 🔍 Starting robust live verification for nataliabernard18 (2min validation period)
2025-08-06 23:38:08 - INFO - 🔍 Checking if nataliabernard18 still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:38:09 - INFO - ✅ User nataliabernard18 confirmed still live after 0s (attempt 1)
2025-08-06 23:38:09 - INFO - ✅ User nataliabernard18 still live, attempting restart with retry logic...
2025-08-06 23:38:09 - INFO - 🔄 Restart attempt 1/3 for nataliabernard18
2025-08-06 23:38:09 - INFO - 🔄 Using cached stream URL for corruption restart: nataliabernard18
2025-08-06 23:38:09 - INFO - ⏳ Waiting 1s for stream stabilization for nataliabernard18
2025-08-06 23:38:10 - INFO - 🔄 Starting continuous recording for corruption restart - Part 2
2025-08-06 23:38:10 - INFO - Starting continuous recording part 3 for nataliabernard18
2025-08-06 23:38:15 - INFO - 🔄 Reusing cached stream URL for nataliabernard18 (age: 146.3s)
2025-08-06 23:38:15 - INFO - Continuous recording part 3: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-38-15_cont3_flv.mp4
2025-08-06 23:38:15 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_nataliabernard18_20250806_233815.log
2025-08-06 23:38:15 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-38-15_cont3.mkv
2025-08-06 23:38:15 - INFO - Stream URL: https://pull-w5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000048966488555570_or4.flv?expire=1755750949&sign=8320bf3d33095e5d8105ba06b893a494
2025-08-06 23:38:15 - INFO - Executing FFmpeg command for nataliabernard18
2025-08-06 23:38:15 - INFO - 🔍 Starting FFmpeg stderr monitor for nataliabernard18
2025-08-06 23:38:15 - INFO - 🔍 Started memory guardian for nataliabernard18 (PID: 23108, threshold: 6.0%)
2025-08-06 23:38:15 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\nataliabernard18-2025-08-06_23-35-48\TK_nataliabernard18_2025.08.06_23-38-15_cont3.mkv
2025-08-06 23:38:15 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:38:45 - INFO - 📊 SIZE CHECK: Total=65.3MB (Current=12.6MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:38:45 - INFO - FFmpeg recording in progress for nataliabernard18: 0.5 minutes
2025-08-06 23:39:15 - INFO - 📊 SIZE CHECK: Total=77.2MB (Current=24.5MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:39:15 - INFO - FFmpeg recording in progress for nataliabernard18: 1.0 minutes
2025-08-06 23:39:45 - INFO - 📊 SIZE CHECK: Total=89.5MB (Current=36.8MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:39:45 - INFO - FFmpeg recording in progress for nataliabernard18: 1.5 minutes
2025-08-06 23:40:16 - INFO - 📊 SIZE CHECK: Total=101.2MB (Current=48.5MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:40:16 - INFO - FFmpeg recording in progress for nataliabernard18: 2.0 minutes
2025-08-06 23:40:46 - INFO - 📊 SIZE CHECK: Total=113.6MB (Current=61.0MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:40:46 - INFO - FFmpeg recording in progress for nataliabernard18: 2.5 minutes
2025-08-06 23:41:16 - INFO - 📊 SIZE CHECK: Total=125.3MB (Current=72.6MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:41:16 - INFO - FFmpeg recording in progress for nataliabernard18: 3.0 minutes
2025-08-06 23:41:46 - INFO - 📊 SIZE CHECK: Total=136.4MB (Current=83.7MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:41:46 - INFO - FFmpeg recording in progress for nataliabernard18: 3.5 minutes
2025-08-06 23:42:16 - INFO - 📊 SIZE CHECK: Total=148.9MB (Current=96.2MB + 2 parts) | Limit=10240.0MB | Safety=512.0MB
2025-08-06 23:42:16 - INFO - FFmpeg recording in progress for nataliabernard18: 4.0 minutes
2025-08-06 23:42:31 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:42:31 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:42:31 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:42:31 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541332
2025-08-06 23:42:31 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:42:31 - INFO - Upload Manager Statistics:
2025-08-06 23:42:31 - INFO - Total uploads attempted: 0
2025-08-06 23:42:31 - INFO - Successful uploads: 0
2025-08-06 23:42:31 - INFO - Failed uploads: 0
2025-08-06 23:42:31 - INFO - Retried uploads: 0
2025-08-06 23:42:31 - INFO - Fatal errors: 0
2025-08-06 23:42:31 - INFO - ✅ Upload manager stopped
2025-08-06 23:42:31 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541332
2025-08-06 23:42:31 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:42:31 - INFO - Upload Manager Statistics:
2025-08-06 23:42:31 - INFO - Total uploads attempted: 0
2025-08-06 23:42:31 - INFO - Successful uploads: 0
2025-08-06 23:42:31 - INFO - Failed uploads: 0
2025-08-06 23:42:31 - INFO - Retried uploads: 0
2025-08-06 23:42:31 - INFO - Fatal errors: 0
2025-08-06 23:42:31 - INFO - ✅ Upload manager stopped
2025-08-06 23:42:33 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:42:35 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:42:39 - INFO - Database connection initialized successfully
2025-08-06 23:42:42 - INFO - Checking and Installing dependencies...

2025-08-06 23:42:42 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754541762
2025-08-06 23:42:43 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:42:43 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:42:43 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:42:43 - INFO - User cache initialized with 3600s duration
2025-08-06 23:42:43 - INFO - User cache cleanup thread started
2025-08-06 23:42:45 - INFO -  ✅ Redis connection established
2025-08-06 23:42:45 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:42:45 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 20
2025-08-06 23:42:45 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:42:45 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:42:45 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:42:45 - INFO - 👷 Worker-1 started
2025-08-06 23:42:45 - INFO - 👷 Worker-2 started
2025-08-06 23:42:45 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:42:45 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:42:45 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:42:45 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:42:45 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:42:45 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:42:45 - INFO - Upload recovery worker started
2025-08-06 23:42:45 - INFO - ✅ Worker async event loop started
2025-08-06 23:42:45 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:42:45 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:42:45 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:42:45 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:42:45 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:42:45 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:42:45 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754541762 registered from DESKTOP-U62C3NA
2025-08-06 23:42:45 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754541762 initialized successfully
2025-08-06 23:42:45 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:42:45 - INFO -    IP: 192.168.1.11
2025-08-06 23:42:45 - INFO -    Max concurrent jobs: 5
2025-08-06 23:42:45 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754541762
2025-08-06 23:42:45 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754541762 started processing jobs
2025-08-06 23:42:47 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:42:47 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:42:47 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:42:53 - INFO - 📥 Job 06176b3e-ef9c-4675-8062-a6dacea53c48 assigned to worker worker_DESKTOP-U62C3NA_1754541762
2025-08-06 23:42:53 - INFO - 🎥 Processing job 06176b3e-ef9c-4675-8062-a6dacea53c48 for 222vick
2025-08-06 23:42:53 - INFO - 📝 Job 06176b3e-ef9c-4675-8062-a6dacea53c48 status updated to in_progress
2025-08-06 23:42:54 - INFO - 🎥 Worker starting recording for 222vick (user: 1268285169, chat: 1268285169)
2025-08-06 23:42:54 - INFO - Cache DISABLED: Fetching fresh room_id for 222vick from API
2025-08-06 23:42:54 - INFO - PRIMARY: Using TikTok API for room_id extraction of 222vick
2025-08-06 23:42:54 - INFO - ✅ TikTok API successful for 222vick: 7535698400042421006
2025-08-06 23:42:55 - INFO - Logged room_id for 222vick: 7535698400042421006 (cache disabled, DB log only)
2025-08-06 23:42:55 - INFO - PRIMARY TikTok API successful for room ID of 222vick: 7535698400042421006
2025-08-06 23:42:56 - INFO - ✅ User 222vick validated as live with room_id: 7535698400042421006
2025-08-06 23:42:56 - INFO - 📊 Updated user 1268285169 active count to 2
2025-08-06 23:42:57 - INFO - 🎯 Created master recording: 222vick_1754541774_1268285169
2025-08-06 23:42:58 - INFO - ✅ Redis state updated for recording: 222vick_1754541774_1268285169
2025-08-06 23:42:58 - INFO - 🎬 Starting TikTokRecorder for 222vick
2025-08-06 23:42:58 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:42:58 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:42:58 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_222vick_1754541778.json
2025-08-06 23:42:58 - INFO - 🔍 REALTIME SAMPLER VERSION: EDITED_VERSION_2025_08_06_FINAL
2025-08-06 23:42:58 - INFO - 🔍 SAMPLER FILE LOCATION: C:\Users\alejo\OneDrive\Escritorio\tiktok-live-recorder\nueva implementación\tiktok-recording-worker\src\utils\realtime_video_sampler.py
2025-08-06 23:42:58 - INFO - 🔍 RealtimeVideoSampler initialized for 222vick - interval: 30s, threshold: 30.0%
2025-08-06 23:42:59 - INFO - Using provided room_id: 7535698400042421006 for user: 222vick
2025-08-06 23:42:59 - INFO - USERNAME: 222vick
2025-08-06 23:42:59 - INFO - ROOM_ID:  7535698400042421006
2025-08-06 23:42:59 - INFO - 🌐 Fetching fresh stream URL for 222vick
2025-08-06 23:43:00 - INFO - ✅ Stream URL cached for 222vick (valid for 20.0 minutes)
2025-08-06 23:43:00 - INFO - Starting stream download from: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576509809127326640_or4.flv?expire=1755751379&sign=5faa86132218c3dc28a191a876c5ff3c
2025-08-06 23:43:00 - INFO - 📁 Created session folder: D:/recordings/organized\222vick-2025-08-06_23-42-58\
2025-08-06 23:43:00 - INFO - Started recording...
2025-08-06 23:43:00 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:43:00 - INFO - 🔍 FFmpeg stderr logging enabled - logs will be saved to: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_222vick_20250806_234300.log
2025-08-06 23:43:00 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\222vick-2025-08-06_23-42-58\TK_222vick_2025.08.06_23-43-00.mkv
2025-08-06 23:43:00 - INFO - Stream URL: https://pull-f5-tt01.fcdn.eu.tiktokcdn.com/stage/stream-3576509809127326640_or4.flv?expire=1755751379&sign=5faa86132218c3dc28a191a876c5ff3c
2025-08-06 23:43:00 - INFO - Executing FFmpeg command for 222vick
2025-08-06 23:43:00 - INFO - 🔍 Starting FFmpeg stderr monitor for 222vick
2025-08-06 23:43:00 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\222vick-2025-08-06_23-42-58\TK_222vick_2025.08.06_23-43-00.mkv
2025-08-06 23:43:00 - INFO - 🔍 Started memory guardian for 222vick (PID: 28488, threshold: 6.0%)
2025-08-06 23:43:00 - INFO - 🔍 START_SAMPLING CALLED WITH PATH: D:/recordings/organized\222vick-2025-08-06_23-42-58\TK_222vick_2025.08.06_23-43-00.mkv
2025-08-06 23:43:00 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:43:00 - INFO - 📝 Job 06176b3e-ef9c-4675-8062-a6dacea53c48 status updated to completed
2025-08-06 23:43:01 - INFO - ✅ Recording job 06176b3e-ef9c-4675-8062-a6dacea53c48 completed for 222vick
2025-08-06 23:43:30 - INFO - FFmpeg recording in progress for 222vick: 0.5 minutes
2025-08-06 23:44:00 - INFO - FFmpeg recording in progress for 222vick: 1.0 minutes
2025-08-06 23:44:30 - INFO - FFmpeg recording in progress for 222vick: 1.5 minutes
2025-08-06 23:45:01 - INFO - FFmpeg recording in progress for 222vick: 2.0 minutes
2025-08-06 23:45:31 - INFO - FFmpeg recording in progress for 222vick: 2.5 minutes
2025-08-06 23:45:40 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for 222vick: time=00:02:46.17 (#1)
2025-08-06 23:45:40 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for 222vick - triggering immediate restart
2025-08-06 23:45:40 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for 222vick
2025-08-06 23:45:40 - INFO - 🔍 FFmpeg stderr monitor finished for 222vick
2025-08-06 23:45:41 - WARNING - 🚨 CORRUPTION DETECTED for 222vick, stopping current recording to restart
2025-08-06 23:45:41 - INFO - Starting graceful FFmpeg termination for 222vick - Reason: corruption detected
2025-08-06 23:45:41 - INFO - Sending 'q' command to FFmpeg for 222vick
2025-08-06 23:45:41 - INFO - Waiting 30s for FFmpeg to complete container headers for 222vick
2025-08-06 23:45:41 - INFO - FFmpeg terminated cleanly via stdin for 222vick
2025-08-06 23:45:41 - INFO - FFmpeg recording completed successfully for 222vick
2025-08-06 23:45:41 - INFO - 📄 FFmpeg stderr log completed: D:/recordings/organized\ffmpeg_logs\ffmpeg_stderr_222vick_20250806_234300.log (42.7KB)
2025-08-06 23:45:41 - INFO - ✅ No corruption patterns detected for 222vick
2025-08-06 23:45:41 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\222vick-2025-08-06_23-42-58\TK_222vick_2025.08.06_23-43-00.mkv (63.1MB)
2025-08-06 23:45:41 - INFO - Added recording part 1 for 222vick: D:/recordings/organized\222vick-2025-08-06_23-42-58\TK_222vick_2025.08.06_23-43-00.mkv
2025-08-06 23:45:41 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for 222vick
2025-08-06 23:45:41 - INFO - 🔍 Starting robust live verification for 222vick (2min validation period)
2025-08-06 23:45:41 - INFO - 🔍 Checking if 222vick still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:45:42 - WARNING - ⚠️ User 222vick appears offline on attempt 1
2025-08-06 23:45:42 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 23:45:52 - INFO - 🔍 Checking if 222vick still live (attempt 2, 10s/120s, 110s remaining)
2025-08-06 23:45:52 - WARNING - ⚠️ User 222vick appears offline on attempt 2
2025-08-06 23:45:52 - INFO - ⏳ Waiting 10s before next attempt...
2025-08-06 23:45:53 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:45:53 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:45:53 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541762
2025-08-06 23:45:53 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:45:53 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:45:53 - INFO - Upload recovery worker stopped
2025-08-06 23:45:53 - INFO - Upload Manager Statistics:
2025-08-06 23:45:53 - INFO - Total uploads attempted: 0
2025-08-06 23:45:53 - INFO - Successful uploads: 0
2025-08-06 23:45:53 - INFO - Failed uploads: 0
2025-08-06 23:45:53 - INFO - Retried uploads: 0
2025-08-06 23:45:53 - INFO - Fatal errors: 0
2025-08-06 23:45:53 - INFO - ✅ Upload manager stopped
2025-08-06 23:45:53 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754541762
2025-08-06 23:45:53 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:45:53 - INFO - Upload Manager Statistics:
2025-08-06 23:45:53 - INFO - Total uploads attempted: 0
2025-08-06 23:45:53 - INFO - Successful uploads: 0
2025-08-06 23:45:53 - INFO - Failed uploads: 0
2025-08-06 23:45:53 - INFO - Retried uploads: 0
2025-08-06 23:45:53 - INFO - Fatal errors: 0
2025-08-06 23:45:53 - INFO - ✅ Upload manager stopped
2025-08-06 23:48:32 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:48:34 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:48:39 - INFO - Database connection initialized successfully
2025-08-06 23:48:41 - INFO - Checking and Installing dependencies...

2025-08-06 23:48:41 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754542121
2025-08-06 23:48:42 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:48:42 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:48:42 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:48:42 - INFO - User cache initialized with 3600s duration
2025-08-06 23:48:42 - INFO - User cache cleanup thread started
2025-08-06 23:48:44 - INFO -  ✅ Redis connection established
2025-08-06 23:48:44 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:48:44 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 30
2025-08-06 23:48:44 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:48:44 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:48:44 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:48:44 - INFO - 👷 Worker-1 started
2025-08-06 23:48:44 - INFO - 👷 Worker-2 started
2025-08-06 23:48:44 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:48:44 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:48:44 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:48:44 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:48:44 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:48:44 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:48:44 - INFO - Upload recovery worker started
2025-08-06 23:48:44 - INFO - ✅ Worker async event loop started
2025-08-06 23:48:44 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:48:44 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:48:44 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:48:44 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:48:44 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:48:44 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:48:44 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754542121 registered from DESKTOP-U62C3NA
2025-08-06 23:48:44 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754542121 initialized successfully
2025-08-06 23:48:44 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:48:44 - INFO -    IP: 192.168.1.11
2025-08-06 23:48:44 - INFO -    Max concurrent jobs: 5
2025-08-06 23:48:44 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754542121
2025-08-06 23:48:44 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754542121 started processing jobs
2025-08-06 23:48:46 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:48:46 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:48:46 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:49:04 - INFO - 📥 Job a2d8b614-d448-4dd0-bb1e-0ca56ab59088 assigned to worker worker_DESKTOP-U62C3NA_1754542121
2025-08-06 23:49:04 - INFO - 🎥 Processing job a2d8b614-d448-4dd0-bb1e-0ca56ab59088 for #
2025-08-06 23:49:04 - INFO - 📝 Job a2d8b614-d448-4dd0-bb1e-0ca56ab59088 status updated to in_progress
2025-08-06 23:49:04 - INFO - 🎥 Worker starting recording for # (user: 1268285169, chat: 1268285169)
2025-08-06 23:49:04 - INFO - Cache DISABLED: Fetching fresh room_id for # from API
2025-08-06 23:49:04 - INFO - PRIMARY: Using TikTok API for room_id extraction of #
2025-08-06 23:49:05 - INFO - PRIMARY TikTok API failed for #, trying fallback methods
2025-08-06 23:49:05 - INFO - FALLBACK: Trying internal API (fast lane) for room_id extraction of #
2025-08-06 23:49:07 - WARNING - No SIGI_STATE found for # (attempt 1)
2025-08-06 23:49:11 - WARNING - No SIGI_STATE found for # (attempt 2)
2025-08-06 23:49:18 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:49:18 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:49:18 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:49:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754542121
2025-08-06 23:49:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:49:18 - INFO - Upload Manager Statistics:
2025-08-06 23:49:18 - INFO - Total uploads attempted: 0
2025-08-06 23:49:18 - INFO - Successful uploads: 0
2025-08-06 23:49:18 - INFO - Failed uploads: 0
2025-08-06 23:49:18 - INFO - Retried uploads: 0
2025-08-06 23:49:18 - INFO - Fatal errors: 0
2025-08-06 23:49:18 - INFO - ✅ Upload manager stopped
2025-08-06 23:49:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754542121
2025-08-06 23:49:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:49:18 - INFO - Upload Manager Statistics:
2025-08-06 23:49:18 - INFO - Total uploads attempted: 0
2025-08-06 23:49:18 - INFO - Successful uploads: 0
2025-08-06 23:49:18 - INFO - Failed uploads: 0
2025-08-06 23:49:18 - INFO - Retried uploads: 0
2025-08-06 23:49:18 - INFO - Fatal errors: 0
2025-08-06 23:49:18 - INFO - ✅ Upload manager stopped
2025-08-06 23:49:21 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:49:22 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:49:35 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:49:36 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:49:41 - INFO - Database connection initialized successfully
2025-08-06 23:49:43 - INFO - Checking and Installing dependencies...

2025-08-06 23:49:43 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754542183
2025-08-06 23:49:44 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:49:44 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:49:44 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:49:44 - INFO - User cache initialized with 3600s duration
2025-08-06 23:49:44 - INFO - User cache cleanup thread started
2025-08-06 23:49:46 - INFO -  ✅ Redis connection established
2025-08-06 23:49:46 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:49:46 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 30
2025-08-06 23:49:46 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:49:46 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:49:46 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:49:46 - INFO - 👷 Worker-1 started
2025-08-06 23:49:46 - INFO - 👷 Worker-2 started
2025-08-06 23:49:46 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:49:46 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:49:46 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:49:46 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:49:46 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:49:46 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:49:46 - INFO - Upload recovery worker started
2025-08-06 23:49:46 - INFO - ✅ Worker async event loop started
2025-08-06 23:49:46 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:49:46 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:49:46 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:49:46 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:49:46 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:49:46 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:49:46 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754542183 registered from DESKTOP-U62C3NA
2025-08-06 23:49:46 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754542183 initialized successfully
2025-08-06 23:49:46 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:49:46 - INFO -    IP: 192.168.1.11
2025-08-06 23:49:46 - INFO -    Max concurrent jobs: 5
2025-08-06 23:49:46 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754542183
2025-08-06 23:49:46 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754542183 started processing jobs
2025-08-06 23:49:48 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:49:48 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:49:48 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:50:06 - INFO - 📥 Job 79cd6ae7-a308-4cda-8768-55d2f4993e2e assigned to worker worker_DESKTOP-U62C3NA_1754542183
2025-08-06 23:50:06 - INFO - 🎥 Processing job 79cd6ae7-a308-4cda-8768-55d2f4993e2e for liciaa_be
2025-08-06 23:50:06 - INFO - 📝 Job 79cd6ae7-a308-4cda-8768-55d2f4993e2e status updated to in_progress
2025-08-06 23:50:06 - INFO - 🎥 Worker starting recording for liciaa_be (user: 1268285169, chat: 1268285169)
2025-08-06 23:50:06 - INFO - Cache DISABLED: Fetching fresh room_id for liciaa_be from API
2025-08-06 23:50:06 - INFO - PRIMARY: Using TikTok API for room_id extraction of liciaa_be
2025-08-06 23:50:07 - INFO - ✅ TikTok API successful for liciaa_be: 7535700416789564165
2025-08-06 23:50:08 - INFO - Logged room_id for liciaa_be: 7535700416789564165 (cache disabled, DB log only)
2025-08-06 23:50:08 - INFO - PRIMARY TikTok API successful for room ID of liciaa_be: 7535700416789564165
2025-08-06 23:50:08 - INFO - ✅ User liciaa_be validated as live with room_id: 7535700416789564165
2025-08-06 23:50:09 - INFO - 📊 Updated user 1268285169 active count to 1
2025-08-06 23:50:09 - INFO - 🎯 Created master recording: liciaa_be_1754542206_1268285169
2025-08-06 23:50:11 - INFO - ✅ Redis state updated for recording: liciaa_be_1754542206_1268285169
2025-08-06 23:50:11 - INFO - 🎬 Starting TikTokRecorder for liciaa_be
2025-08-06 23:50:11 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:50:11 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:50:11 - INFO - 📄 Session state file created: D:/recordings/organized\recording_states\session_liciaa_be_1754542211.json
2025-08-06 23:50:11 - INFO - Using provided room_id: 7535700416789564165 for user: liciaa_be
2025-08-06 23:50:11 - INFO - USERNAME: liciaa_be
2025-08-06 23:50:11 - INFO - ROOM_ID:  7535700416789564165
2025-08-06 23:50:12 - INFO - 🌐 Fetching fresh stream URL for liciaa_be
2025-08-06 23:50:12 - INFO - ✅ Stream URL cached for liciaa_be (valid for 20.0 minutes)
2025-08-06 23:50:12 - INFO - Starting stream download from: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000049084691644457_or4.flv?expire=1755751812&sign=9a206215375c4b7be06a15484cb87e1b
2025-08-06 23:50:12 - INFO - 📁 Created session folder: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\
2025-08-06 23:50:12 - INFO - Started recording...
2025-08-06 23:50:12 - INFO - [Recording can be stopped via Telegram bot]
2025-08-06 23:50:12 - INFO - 🔍 FFmpeg stderr logging disabled via configuration
2025-08-06 23:50:12 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-12.mkv
2025-08-06 23:50:12 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000049084691644457_or4.flv?expire=1755751812&sign=9a206215375c4b7be06a15484cb87e1b
2025-08-06 23:50:12 - INFO - Executing FFmpeg command for liciaa_be
2025-08-06 23:50:12 - INFO - 🔍 Starting FFmpeg stderr monitor for liciaa_be
2025-08-06 23:50:12 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-12.mkv
2025-08-06 23:50:12 - INFO - 🔍 Started memory guardian for liciaa_be (PID: 28440, threshold: 6.0%)
2025-08-06 23:50:12 - INFO - Started real-time sampling for: TK_liciaa_be_2025.08.06_23-50-12.mkv
2025-08-06 23:50:12 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:50:13 - INFO - 📝 Job 79cd6ae7-a308-4cda-8768-55d2f4993e2e status updated to completed
2025-08-06 23:50:13 - INFO - ✅ Recording job 79cd6ae7-a308-4cda-8768-55d2f4993e2e completed for liciaa_be
2025-08-06 23:50:28 - WARNING - 🚨 REPEATED TIMESTAMP DETECTED for liciaa_be: time=00:00:03.42 (#1)
2025-08-06 23:50:28 - ERROR - 🚨 CRITICAL: Timestamp repetition threshold reached for liciaa_be - triggering immediate restart
2025-08-06 23:50:28 - ERROR - 🚨 CORRUPTION RESTART triggered by timestamp repetition for liciaa_be
2025-08-06 23:50:28 - INFO - 🔍 FFmpeg stderr monitor finished for liciaa_be
2025-08-06 23:50:28 - WARNING - 🚨 CORRUPTION DETECTED for liciaa_be, stopping current recording to restart
2025-08-06 23:50:28 - INFO - Starting graceful FFmpeg termination for liciaa_be - Reason: corruption detected
2025-08-06 23:50:28 - INFO - Sending 'q' command to FFmpeg for liciaa_be
2025-08-06 23:50:28 - INFO - Waiting 30s for FFmpeg to complete container headers for liciaa_be
2025-08-06 23:50:30 - INFO - FFmpeg terminated cleanly via stdin for liciaa_be
2025-08-06 23:50:30 - INFO - FFmpeg recording completed successfully for liciaa_be
2025-08-06 23:50:30 - INFO - FFmpeg recording output (.mkv): D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-12.mkv (0.3MB)
2025-08-06 23:50:30 - INFO - Added recording part 1 for liciaa_be: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-12.mkv
2025-08-06 23:50:30 - WARNING - 🚨 CORRUPTION RESTART: Processing current part and restarting with contX for liciaa_be
2025-08-06 23:50:30 - INFO - 🔍 Starting robust live verification for liciaa_be (2min validation period)
2025-08-06 23:50:30 - INFO - 🔍 Checking if liciaa_be still live (attempt 1, 0s/120s, 120s remaining)
2025-08-06 23:50:30 - INFO - ✅ User liciaa_be confirmed still live after 0s (attempt 1)
2025-08-06 23:50:30 - INFO - ✅ User liciaa_be still live, attempting restart with retry logic...
2025-08-06 23:50:30 - INFO - 🔄 Restart attempt 1/3 for liciaa_be
2025-08-06 23:50:30 - INFO - 🔄 Using cached stream URL for corruption restart: liciaa_be
2025-08-06 23:50:30 - INFO - ⏳ Waiting 1s for stream stabilization for liciaa_be
2025-08-06 23:50:31 - INFO - 🔄 Starting continuous recording for corruption restart - Part 1
2025-08-06 23:50:31 - INFO - Starting continuous recording part 2 for liciaa_be
2025-08-06 23:50:36 - INFO - 🔄 Reusing cached stream URL for liciaa_be (age: 24.6s)
2025-08-06 23:50:36 - INFO - Continuous recording part 2: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-36_cont2_flv.mp4
2025-08-06 23:50:36 - INFO - 🔍 FFmpeg stderr logging disabled via configuration
2025-08-06 23:50:36 - INFO - Starting FFmpeg robust recording: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-36_cont2.mkv
2025-08-06 23:50:36 - INFO - Stream URL: https://pull-q5-va01.fcdn.eu.tiktokcdn.com/stage/stream-3000049084691644457_or4.flv?expire=1755751812&sign=9a206215375c4b7be06a15484cb87e1b
2025-08-06 23:50:36 - INFO - Executing FFmpeg command for liciaa_be
2025-08-06 23:50:36 - INFO - 🔍 Starting FFmpeg stderr monitor for liciaa_be
2025-08-06 23:50:36 - INFO - 🔍 About to start real-time sampling for: D:/recordings/organized\liciaa_be-2025-08-06_23-50-11\TK_liciaa_be_2025.08.06_23-50-36_cont2.mkv
2025-08-06 23:50:36 - INFO - 🔍 Started memory guardian for liciaa_be (PID: 25376, threshold: 6.0%)
2025-08-06 23:50:36 - INFO - Started real-time sampling for: TK_liciaa_be_2025.08.06_23-50-36_cont2.mkv
2025-08-06 23:50:36 - INFO - ✅ Real-time sampling start_sampling() called successfully
2025-08-06 23:51:02 - INFO - Real-time sample analysis completed in 1.1s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:51:02 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:51:06 - INFO - 📊 SIZE CHECK: Total=12.7MB (Current=12.4MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:51:06 - INFO - FFmpeg recording in progress for liciaa_be: 0.5 minutes
2025-08-06 23:51:29 - INFO - Real-time sample analysis completed in 1.2s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:51:29 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:51:37 - INFO - 📊 SIZE CHECK: Total=22.5MB (Current=22.2MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:51:37 - INFO - FFmpeg recording in progress for liciaa_be: 1.0 minutes
2025-08-06 23:51:55 - INFO - Real-time sample analysis completed in 1.0s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:51:55 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:52:07 - INFO - 📊 SIZE CHECK: Total=32.9MB (Current=32.6MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:52:07 - INFO - FFmpeg recording in progress for liciaa_be: 1.5 minutes
2025-08-06 23:52:21 - INFO - Real-time sample analysis completed in 1.1s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:52:21 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:52:37 - INFO - 📊 SIZE CHECK: Total=42.4MB (Current=42.1MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:52:37 - INFO - FFmpeg recording in progress for liciaa_be: 2.0 minutes
2025-08-06 23:52:47 - INFO - Real-time sample analysis completed in 1.1s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:52:47 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:53:07 - INFO - 📊 SIZE CHECK: Total=52.1MB (Current=51.8MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:53:07 - INFO - FFmpeg recording in progress for liciaa_be: 2.5 minutes
2025-08-06 23:53:13 - INFO - Real-time sample analysis completed in 1.0s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:53:13 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:53:37 - INFO - 📊 SIZE CHECK: Total=62.6MB (Current=62.3MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:53:37 - INFO - FFmpeg recording in progress for liciaa_be: 3.0 minutes
2025-08-06 23:53:39 - INFO - Real-time sample analysis completed in 1.0s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:53:39 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:54:05 - INFO - Real-time sample analysis completed in 1.2s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:54:05 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:54:07 - INFO - 📊 SIZE CHECK: Total=72.2MB (Current=71.9MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:54:07 - INFO - FFmpeg recording in progress for liciaa_be: 3.5 minutes
2025-08-06 23:54:31 - INFO - Real-time sample analysis completed in 1.2s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:54:31 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:54:38 - INFO - 📊 SIZE CHECK: Total=82.6MB (Current=82.3MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:54:38 - INFO - FFmpeg recording in progress for liciaa_be: 4.0 minutes
2025-08-06 23:54:57 - INFO - Real-time sample analysis completed in 1.0s - corruption: 0.0% (threshold: 25.0%)
2025-08-06 23:54:57 - INFO - ✅ Sample clean: 0.0% corruption (threshold: 25.0%)
2025-08-06 23:55:08 - INFO - 📊 SIZE CHECK: Total=92.2MB (Current=91.9MB + 1 parts) | Limit=1433.6MB | Safety=71.7MB
2025-08-06 23:55:08 - INFO - FFmpeg recording in progress for liciaa_be: 4.5 minutes
2025-08-06 23:55:18 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-06 23:55:18 - INFO - 🛑 Worker shutdown flag set
2025-08-06 23:55:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754542183
2025-08-06 23:55:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:55:18 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-06 23:55:18 - INFO - Upload recovery worker stopped
2025-08-06 23:55:18 - INFO - Upload Manager Statistics:
2025-08-06 23:55:18 - INFO - Total uploads attempted: 0
2025-08-06 23:55:18 - INFO - Successful uploads: 0
2025-08-06 23:55:18 - INFO - Failed uploads: 0
2025-08-06 23:55:18 - INFO - Retried uploads: 0
2025-08-06 23:55:18 - INFO - Fatal errors: 0
2025-08-06 23:55:18 - INFO - ✅ Upload manager stopped
2025-08-06 23:55:18 - INFO - ✅ Telegram client disconnected
2025-08-06 23:55:18 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754542183 shutdown complete
2025-08-06 23:55:18 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754542183
2025-08-06 23:55:18 - INFO - 🚀 Stopped 2 upload workers
2025-08-06 23:55:18 - INFO - Upload Manager Statistics:
2025-08-06 23:55:18 - INFO - Total uploads attempted: 0
2025-08-06 23:55:18 - INFO - Successful uploads: 0
2025-08-06 23:55:18 - INFO - Failed uploads: 0
2025-08-06 23:55:18 - INFO - Retried uploads: 0
2025-08-06 23:55:18 - INFO - Fatal errors: 0
2025-08-06 23:55:18 - INFO - ✅ Upload manager stopped
2025-08-06 23:55:18 - WARNING - ⚠️ Error stopping Telegram client: Client is already terminated
2025-08-06 23:55:18 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754542183 shutdown complete
2025-08-06 23:57:10 - INFO - Logger initialized. Log file: logs\bot_log_2025-08-06.txt
2025-08-06 23:57:11 - INFO - ✅ WorkQueueService Redis connection established
2025-08-06 23:57:16 - INFO - Database connection initialized successfully
2025-08-06 23:57:18 - INFO - Checking and Installing dependencies...

2025-08-06 23:57:18 - INFO - 🚀 Initializing recording worker worker_DESKTOP-U62C3NA_1754542638
2025-08-06 23:57:19 - INFO - ✅ Telegram client connected successfully
2025-08-06 23:57:19 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:57:19 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:57:19 - INFO - User cache initialized with 3600s duration
2025-08-06 23:57:19 - INFO - User cache cleanup thread started
2025-08-06 23:57:20 - INFO -  ✅ Redis connection established
2025-08-06 23:57:20 - INFO - ✅ Redis persistence enabled for recording subscriptions
2025-08-06 23:57:20 - INFO - 🏭 PostProcessingQueue initialized with 2 workers, max queue size: 30
2025-08-06 23:57:20 - INFO - 🏭 Post-processing queue initialization started
2025-08-06 23:57:20 - INFO - 🧹 Redis orphan cleanup job started (interval: 1h, timeout: 3h)
2025-08-06 23:57:20 - INFO - 🚀 PostProcessingQueue started with 2 workers
2025-08-06 23:57:20 - INFO - 👷 Worker-1 started
2025-08-06 23:57:20 - INFO - 👷 Worker-2 started
2025-08-06 23:57:20 - INFO - HTTP optimization loaded: proxy_enabled=False, max_retries=3
2025-08-06 23:57:20 - INFO - HTTP Client running in DETERMINISTIC mode for cross-machine consistency
2025-08-06 23:57:20 - INFO - ✅ Worker Redis persistence enabled
2025-08-06 23:57:20 - INFO - 🔄 Async event loop infrastructure initialized
2025-08-06 23:57:20 - INFO - ✅ WorkerRecordingService singleton registered for UploadManager
2025-08-06 23:57:20 - INFO - 🚀 Started 2 upload workers
2025-08-06 23:57:20 - INFO - Upload recovery worker started
2025-08-06 23:57:20 - INFO - ✅ Worker async event loop started
2025-08-06 23:57:20 - INFO - 🔍 Scanning for pending uploads to recover...
2025-08-06 23:57:20 - INFO - 🔍 Starting upload recovery scan in: D:/recordings/organized
2025-08-06 23:57:20 - INFO - 🔍 Found 5 MP4 files total
2025-08-06 23:57:20 - INFO - 📥 Found 0 files pending upload recovery
2025-08-06 23:57:20 - INFO - ✅ No pending uploads found for recovery
2025-08-06 23:57:20 - INFO - ✅ Telegram uploader and upload manager initialized successfully
2025-08-06 23:57:21 - INFO - 🤖 Worker worker_DESKTOP-U62C3NA_1754542638 registered from DESKTOP-U62C3NA
2025-08-06 23:57:21 - INFO - ✅ Worker worker_DESKTOP-U62C3NA_1754542638 initialized successfully
2025-08-06 23:57:21 - INFO -    Hostname: DESKTOP-U62C3NA
2025-08-06 23:57:21 - INFO -    IP: 192.168.1.11
2025-08-06 23:57:21 - INFO -    Max concurrent jobs: 5
2025-08-06 23:57:21 - INFO - 💓 Heartbeat started for worker worker_DESKTOP-U62C3NA_1754542638
2025-08-06 23:57:21 - INFO - 🎬 Worker worker_DESKTOP-U62C3NA_1754542638 started processing jobs
2025-08-06 23:57:23 - INFO - 🚀 Upload worker 1 started
2025-08-06 23:57:23 - INFO - 🚀 Upload worker 2 started
2025-08-06 23:57:23 - INFO - 🔄 Periodic upload recovery worker started (interval: 30 minutes)
2025-08-06 23:57:29 - INFO - 📥 Job 60248c09-a9d6-4631-966e-8d11107f729c assigned to worker worker_DESKTOP-U62C3NA_1754542638
2025-08-06 23:57:29 - INFO - 🎥 Processing job 60248c09-a9d6-4631-966e-8d11107f729c for nataliabernard18
2025-08-06 23:57:29 - INFO - 📝 Job 60248c09-a9d6-4631-966e-8d11107f729c status updated to in_progress
2025-08-06 23:57:30 - INFO - 🎥 Worker starting recording for nataliabernard18 (user: 1268285169, chat: 1268285169)
2025-08-06 23:57:30 - INFO - Cache DISABLED: Fetching fresh room_id for nataliabernard18 from API
2025-08-06 23:57:30 - INFO - PRIMARY: Using TikTok API for room_id extraction of nataliabernard18
2025-08-06 23:57:30 - INFO - ✅ TikTok API successful for nataliabernard18: 7535692906704423686
2025-08-06 23:57:31 - INFO - Logged room_id for nataliabernard18: 7535692906704423686 (cache disabled, DB log only)
2025-08-06 23:57:31 - INFO - PRIMARY TikTok API successful for room ID of nataliabernard18: 7535692906704423686
2025-08-06 23:57:32 - ERROR - Failed to start recording for nataliabernard18: User nataliabernard18 is not currently live
2025-08-06 23:57:33 - INFO - 🧹 Cleaned up Redis entries for failed recording: nataliabernard18_1754542650_1268285169
2025-08-06 23:57:33 - ERROR - ❌ Recording job 60248c09-a9d6-4631-966e-8d11107f729c failed: User nataliabernard18 is not currently live
2025-08-06 23:57:34 - INFO - 📝 Job 60248c09-a9d6-4631-966e-8d11107f729c status updated to failed
2025-08-06 23:57:34 - ERROR - ❌ Error processing job 60248c09-a9d6-4631-966e-8d11107f729c: User nataliabernard18 is not currently live
2025-08-06 23:57:34 - INFO - 📝 Job 60248c09-a9d6-4631-966e-8d11107f729c status updated to failed
2025-08-07 00:13:28 - INFO - 📡 Received signal 2, initiating shutdown...
2025-08-07 00:13:28 - INFO - 🛑 Worker shutdown flag set
2025-08-07 00:13:28 - INFO - 🛑 Periodic recovery worker cancelled
2025-08-07 00:13:28 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754542638
2025-08-07 00:13:28 - INFO - 🚀 Stopped 2 upload workers
2025-08-07 00:13:28 - INFO - Upload Manager Statistics:
2025-08-07 00:13:28 - INFO - Total uploads attempted: 0
2025-08-07 00:13:28 - INFO - Successful uploads: 0
2025-08-07 00:13:28 - INFO - Failed uploads: 0
2025-08-07 00:13:28 - INFO - Retried uploads: 0
2025-08-07 00:13:28 - INFO - Fatal errors: 0
2025-08-07 00:13:28 - INFO - ✅ Upload manager stopped
2025-08-07 00:13:28 - INFO - 🔄 Shutting down worker worker_DESKTOP-U62C3NA_1754542638
2025-08-07 00:13:28 - INFO - 🚀 Stopped 2 upload workers
2025-08-07 00:13:28 - INFO - Upload Manager Statistics:
2025-08-07 00:13:28 - INFO - Total uploads attempted: 0
2025-08-07 00:13:28 - INFO - Successful uploads: 0
2025-08-07 00:13:28 - INFO - Failed uploads: 0
2025-08-07 00:13:28 - INFO - Retried uploads: 0
2025-08-07 00:13:28 - INFO - Fatal errors: 0
2025-08-07 00:13:28 - INFO - ✅ Upload manager stopped
